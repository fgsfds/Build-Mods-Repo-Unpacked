/*
-------------------------------------------------------------------------------
===============================================================================

         -ooo:             +oo-            `+oo.       ./+oooooooooo+/:
        /NMMMN+            NMMNo`         -dMMM/      .mMMNmmmmmmmmmMMNo
       /NMd:mMMo           NMMNMd:      `oNMNMM/      :MMM/.........mMMh
      oNMd. -mMMy`         NMN:mMNs`   -hMm/mMM/      :MMM:         ::-.
    `sMMh`   .dMMh`        NMN .sNMd:`oNMh. mMM/      :MMM:
   `yMMMdhhhhhmMMMd.       NMN   /mMNdMm+`  mMM/      :MMM:         ss+:
  `hMMdhhhhhhhhhmMMm-      NMN    .yMMh.    mMM/      :MMM/.........mMMh
 .dMMs`         .hMMm:     NMN      :/`     mMM/      .mMMNmmmmmmmmmMMNo
 :oo+            `+oo+     +o+              +oo.       ./++ooooooooo+/:

###############################################################################
+ The AMC Squad
+ CON code by James Stanfield, Cedric "Sangman" Haegeman, Dino Bollinger,
+              Mikko Sandt, Cedric "Zaxtor" Lutes and Dan "Danarama" Gaskill
-------------------------------------------------------------------------------
* See AMC_MAIN.CON for a full list of script authors.

Feel free to use any code in the game for your own uses; just make
sure to mention the authors and/or "The AMC Squad" in your credits.
--------------------------------------------------------------------------------
NOTES:
This file defines the display code for Geoffrey's weapons.
--------------------------------------------------------------------------------
*/

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// SLOT 1 WEAPONS
//
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

// GEOFFREY'S PISTOL===============================================================================================================

defstate draw_gpistol2

  set x2 96
  sub x2 wepsway_x
  sub x2 weapon_xoffset
  add x2 looking_angSR1

  set y2 235
  sub y2 wepsway_y
  add y2 looking_arc
  sub y2 gun_pos
  clamp y2 155 320
  state gunpushback2_display

    ifl gunsmoke_disp2 40 ife INVINC 0
     ifn weaponcount 2
        {
		add gunsmoke_disp2 1
        guniqhudid 28
        add x2 35
        sub y2 35
        rotatespritea x2 y2 25000 0 29952 gunsmoke_disp2 wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
        sub x2 35
        add y2 35
        guniqhudid 0
        }

guniqhudid 0
switch kickbackpic_2
case 0
case 1
case 5
case 6
case 7
  ife player[].weapon_pos 9 { set LOWER_WEAPON_SOUND SELECT_PISTOL state sound_lower_weapon }
  state wep_drawup_rev
  ifand GEOFFREY_UPGRADE 2 set tilenum 6510 else set tilenum 6462
  guniqhudid 20
  rotatesprite x2 y2 36864 weap_disp_temp2 6472 shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2
  add y2 35
  add x2 5
  guniqhudid 21
  rotatesprite x2 y2 40960 weap_disp_temp2 C_PISTOL_L shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2
  sub y2 35
  sub x2 5
  guniqhudid 22
  rotatesprite x2 y2 36864 weap_disp_temp2 tilenum shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2

ifand GEOFFREY_UPGRADE 1
        {
      getp[].random_club_frame weap_disp_temp
       sin weap_disp_temp weap_disp_temp
       divvar weap_disp_temp 1024 // 2^10
       add weap_disp_temp 16
       guniqhudid 23
      rotatespritea x2 y2 40960 weap_disp_temp2 6464 weap_disp_temp 0 4100 -255 windowx1 windowy1 windowx2 windowy2
        }

  break
case 2
  state gun_smoke2_display
  displayrandvar rot_flash 2048
  add x2 35
  sub y2 35
  guniqhudid 20
  rotatespritea x2 y2 15000 rot_flash 16115 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
  sub x2 35
  add y2 35

  ifand GEOFFREY_UPGRADE 2 set tilenum 6511 else set tilenum 6463
  guniqhudid 21
  rotatesprite x2 y2 36864 1024 6472 0 wep_pal 4100 windowx1 windowy1 windowx2 windowy2
  add y2 35
  add x2 5
  guniqhudid 22
  rotatesprite x2 y2 40960 1024 C_PISTOL_L 0 107 4100 windowx1 windowy1 windowx2 windowy2
  sub y2 35
  sub x2 5
  guniqhudid 23
  rotatesprite x2 y2 36864 1024 tilenum 0 wep_pal 4100 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 4
  displayrandvar gun_pushb_disp2 8
  displayrandvar rot_flash 2048
  add x2 35
  sub y2 35
  guniqhudid 20
  rotatespritea x2 y2 15000 rot_flash 16115 0 0 4097 -255 windowx1 windowy1 windowx2 windowy2
  sub x2 35
  add y2 35
  ifand GEOFFREY_UPGRADE 2 set tilenum 6511 else set tilenum 6463
  guniqhudid 21
  rotatesprite x2 y2 36864 1024 6472 0 108 4100 windowx1 windowy1 windowx2 windowy2
  add y2 35
  add x2 5
  guniqhudid 22
  rotatesprite x2 y2 40960 1024 C_PISTOL_L 0 108 4100 windowx1 windowy1 windowx2 windowy2
  sub y2 35
  sub x2 5
  guniqhudid 23
  rotatesprite x2 y2 36864 1024 tilenum 0 108 4100 windowx1 windowy1 windowx2 windowy2

ifand GEOFFREY_UPGRADE 1
        {
      getp[].random_club_frame weap_disp_temp
       sin weap_disp_temp weap_disp_temp
       divvar weap_disp_temp 1024 // 2^10
       add weap_disp_temp 16
       guniqhudid 24
      rotatespritea x2 y2 NORMALSIZE 1024 6464 weap_disp_temp 0 4100 -255 windowx1 windowy1 windowx2 windowy2
        }

  break
endswitch
guniqhudid 0
ends

defstate drawgpistol

  set x 220
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 235
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos
  clamp y 155 320
  state gunpushback_display

	ifl gunsmoke_disp 40 ife INVINC 0
     ifn weaponcount 2
        {
        add gunsmoke_disp 1
        guniqhudid 18
        sub x 35
        sub y 35
        rotatespritea x y 30000 0 29952 gunsmoke_disp wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
        add x 35
        add y 35
        guniqhudid 0
        }

  ifand gun_firemode 64 state draw_gpistol2
guniqhudid 10
switch weaponcount
case 0
case 1
case 5
case 6
case 7
  ife player[].weapon_pos 9 { set LOWER_WEAPON_SOUND SELECT_PISTOL state sound_lower_weapon }
  state wep_drawup
  ifand GEOFFREY_UPGRADE 2 set tilenum 6510 else set tilenum 6462
  guniqhudid 10
  rotatesprite x y 36864 weap_disp_temp2 6472 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add y 35
  add x 5
  guniqhudid 11
  rotatesprite x y 40960 weap_disp_temp2 C_PISTOL_R shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  sub y 35
  sub x 5
  guniqhudid 12
  rotatesprite x y 36864 weap_disp_temp2 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2

ifand GEOFFREY_UPGRADE 1
        {
      getp[].random_club_frame weap_disp_temp
       sin weap_disp_temp weap_disp_temp
       divvar weap_disp_temp 1024 // 2^10
       add weap_disp_temp 16
       guniqhudid 13
      rotatespritea x y 40960 weap_disp_temp2 6464 weap_disp_temp 0 4096 -255 windowx1 windowy1 windowx2 windowy2
        }

  break
case 2
  state gun_smoke_display
  displayrandvar rot_flash 2048
  sub x 35
  sub y 35
  guniqhudid 10
  rotatespritea x y 15000 rot_flash 16115 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
  add x 35
  add y 35

  ifand GEOFFREY_UPGRADE 2 set tilenum 6511 else set tilenum 6463
  guniqhudid 11
  rotatesprite x y 36864 0 6472 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add y 35
  add x 5
  guniqhudid 12
  rotatesprite x y 40960 0 C_PISTOL_R 0 107 4096 windowx1 windowy1 windowx2 windowy2
  sub y 35
  sub x 5
  guniqhudid 13
  rotatesprite x y 36864 0 tilenum 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 4
  displayrandvar gun_pushb_disp 8
  displayrandvar rot_flash 2048
  sub x 35
  sub y 35
  guniqhudid 10
  rotatespritea x y 15000 rot_flash 16115 0 0 4097 -255 windowx1 windowy1 windowx2 windowy2
  add x 35
  add y 35
  ifand GEOFFREY_UPGRADE 2 set tilenum 6511 else set tilenum 6463
guniqhudid 11
  rotatesprite x y 36864 0 6472 0 108 4096 windowx1 windowy1 windowx2 windowy2
  add y 35
  add x 5
  guniqhudid 12
  rotatesprite x y 40960 0 C_PISTOL_R 0 108 4096 windowx1 windowy1 windowx2 windowy2
  sub y 35
  sub x 5
  guniqhudid 13
  rotatesprite x y 36864 0 tilenum 0 108 4096 windowx1 windowy1 windowx2 windowy2

ifand GEOFFREY_UPGRADE 1
        {
      getp[].random_club_frame weap_disp_temp
       sin weap_disp_temp weap_disp_temp
       divvar weap_disp_temp 1024 // 2^10
       add weap_disp_temp 16
       guniqhudid 14
      rotatespritea x y NORMALSIZE 0 6464 weap_disp_temp 0 4096 -255 windowx1 windowy1 windowx2 windowy2
        }

  break
endswitch
guniqhudid 0
ends

defstate draw_eviscerator

  set x 220
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 235
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos
  clamp y 155 320
  state gunpushback_display

	ifl gunsmoke_disp 40 ife INVINC 0
     ifn weaponcount 2
        {
        add gunsmoke_disp 1
        guniqhudid 18
        sub x 35
        sub y 35
        rotatespritea x y 30000 0 29952 gunsmoke_disp wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
        add x 35
        add y 35
        guniqhudid 0
        }

guniqhudid 10
ifg kickbackpic_2 0
	switch kickbackpic_2
	case 1
	  add y 25
	  add x 100
	  guniqhudid 10
	  rotatesprite x y 40960 0 29111 shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
	  break
	case 2
	  add y 20
	  add x 80
	  guniqhudid 10
	  rotatesprite x y 40960 0 29111 shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
	  break
	case 3
	  add y 15
	  add x 60
	  guniqhudid 10
	  rotatesprite x y 40960 0 29111 shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
	  break
	case 4
	  add y 10
	  add x 40
	  guniqhudid 10
	  rotatesprite x y 40960 0 29111 shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
	  break
	case 5
	  add y 9
	  add x 10
	  guniqhudid 10
	  rotatesprite x y 40960 0 29110 shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
	break
	case 6
	  add y 8
	  sub x 10
	  guniqhudid 10
	  rotatesprite x y 40960 0 29110 shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
	break
	case 7
	  add y 7
	  sub x 30
	  guniqhudid 10
	  rotatesprite x y 40960 0 29110 shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
	break
	case 8
	  add y 8
	  sub x 60
	  guniqhudid 10
	  rotatesprite x y 40960 0 29110 shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
	break
	case 9
	  add y 10
	  sub x 80
	  guniqhudid 10
	  rotatesprite x y 40960 0 29109 shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
	break
	case 10
	  add y 15
	  sub x 120
	  guniqhudid 10
	  rotatesprite x y 40960 0 29109 shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
	break
	case 11
	  add y 20
	  sub x 160
	  guniqhudid 10
	  rotatesprite x y 40960 0 29109 shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
	break
	case 12
	  add y 25
	  sub x 200
	  guniqhudid 10
	  rotatesprite x y 40960 0 29109 shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
	break
	endswitch
else
	switch weaponcount
	case 0
	case 1
	case 5
	case 6
	case 7
	  ife player[].weapon_pos 9 { set LOWER_WEAPON_SOUND SELECT_PISTOL state sound_lower_weapon }
	  state wep_drawup
	  guniqhudid 10
	  rotatesprite x y 36864 weap_disp_temp2 29105 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
	  add y 35
	  add x 5
	  guniqhudid 11
	  rotatesprite x y 40960 weap_disp_temp2 C_PISTOL_R shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
	  sub y 35
	  sub x 5
	  guniqhudid 12
	  rotatesprite x y 36864 weap_disp_temp2 29107 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
	  break
	case 2
	  state gun_smoke_display
	  displayrandvar rot_flash 2048
	  sub x 35
	  sub y 35
	  guniqhudid 10
	  rotatespritea x y 15000 rot_flash 16115 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
	  add x 35
	  add y 35

	  set tilenum 6463
	  guniqhudid 11
	  rotatesprite x y 36864 0 29106 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
	  add y 35
	  add x 5
	  guniqhudid 12
	  rotatesprite x y 40960 0 C_PISTOL_R 0 107 4096 windowx1 windowy1 windowx2 windowy2
	  sub y 35
	  sub x 5
	  guniqhudid 13
	  rotatesprite x y 36864 0 29108 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
	  break
	case 3
	case 4
	  displayrandvar gun_pushb_disp 8
	  displayrandvar rot_flash 2048
	  sub x 35
	  sub y 35
	  guniqhudid 10
	  rotatespritea x y 15000 rot_flash 16115 0 0 4097 -255 windowx1 windowy1 windowx2 windowy2
	  add x 35
	  add y 35
	guniqhudid 11
	  rotatesprite x y 36864 0 29106 0 108 4096 windowx1 windowy1 windowx2 windowy2
	  add y 35
	  add x 5
	  guniqhudid 12
	  rotatesprite x y 40960 0 C_PISTOL_R 0 108 4096 windowx1 windowy1 windowx2 windowy2
	  sub y 35
	  sub x 5
	  guniqhudid 13
	  rotatesprite x y 36864 0 29108 0 108 4096 windowx1 windowy1 windowx2 windowy2
	  break
	endswitch
guniqhudid 0
ends

// GEOFFREY'S GOLD PISTOL===============================================================================================================

defstate drawg_gold_pistol

  set x 230
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 235
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos
  clamp y 155 320
  state gunpushback_display

	ifl gunsmoke_disp 40 ife INVINC 0
     ifn weaponcount 2
        {
        add gunsmoke_disp 1
        guniqhudid 18
        sub x 35
        sub y 30
        rotatespritea x y 30000 0 29952 gunsmoke_disp wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
        add x 35
        add y 30
        guniqhudid 0
        }

    guniqhudid 0
switch weaponcount
case 0
case 1
  ife player[].weapon_pos 9 { set LOWER_WEAPON_SOUND SELECT_PISTOL state sound_lower_weapon }
  state wep_drawup
  guniqhudid 10
  rotatesprite x y 32768 weap_disp_temp2 14594 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add y 40
  add x 15
  guniqhudid 11
  rotatesprite x y 40960 weap_disp_temp2 C_PISTOL_R shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  set rot_flash 0
  sub x 25
  sub y 25
  state do_gold_sparkle
  add x 25
  add y 25

  break
case 2
  state gun_smoke_display
  ife rot_flash 0 displayrandvar rot_flash 2048
  displayrandvar gun_pushb_disp 8
  add gun_pushb_disp 8
  sub x 35
  sub y 30
  guniqhudid 10
  rotatespritea x y 16384 rot_flash 16115 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
  add x 35
  add y 30
  guniqhudid 11
  rotatesprite x y 32768 0 14595 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add y 40
  add x 15
  guniqhudid 12
  rotatesprite x y 40960 0 C_PISTOL_R shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 3
  sub x 35
  sub y 30
  guniqhudid 10
  rotatespritea x y 18384 rot_flash 16115 0 0 4097 -255 windowx1 windowy1 windowx2 windowy2
  add x 35
  add y 30
  guniqhudid 11
  rotatesprite x y 32768 32 14595 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add y 40
  add x 15
  guniqhudid 12
  rotatesprite x y 40960 weap_disp_temp2 C_PISTOL_R shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 6
  guniqhudid 10
  rotatesprite x y 32768 0 14596 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add y 60
  add x 15
  guniqhudid 11
  rotatesprite x y 40960 0 C_PISTOL_R shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 5
  guniqhudid 10
  rotatesprite x y 32768 0 14597 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add y 70
  add x 15
  guniqhudid 11
  rotatesprite x y 40960 32 C_PISTOL_R shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 9
case 10
case 39
case 40
  guniqhudid 10
  rotatesprite x y 32768 0 14597 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
case 14
case 37
case 38
  guniqhudid 10
  rotatesprite x y 32768 32 14597 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 15
case 16
case 17
case 18
case 34
case 35
case 36
  guniqhudid 10
  rotatesprite x y 32768 64 14598 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 19
case 20
case 21
case 22
case 31
case 32
case 33
  guniqhudid 10
  rotatesprite x y 32768 96 14599 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 23
case 24
case 25
case 26
case 27
case 28
case 29
case 30
  guniqhudid 10
  ife kickbackpic 23 add y 10
  ife kickbackpic 28 sub y 10
  rotatesprite x y 32768 96 14600 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
endswitch
guniqhudid 0
ends

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// SLOT 2 WEAPONS
//
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

// GEOFFREY'S SHOTGUN===============================================================================================================

defstate drawgshotgun

  set x 225
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 240
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos

  ifg weaponcount 0 clamp y 170 320

  	ifl gunsmoke_disp 40 ife INVINC 0
     ifn weaponcount 2
        {
        add gunsmoke_disp 1
        guniqhudid 18
        sub x 20
        sub y 23
        rotatespritea x y 40000 0 29952 gunsmoke_disp wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
        add x 20
        add y 23
        guniqhudid 0
        }

ifg kickbackpic_2 0
{
clamp y 170 320
switch kickbackpic_2
case 0
case 1
case 23
case 24
case 25
  set rot_flash 0
  set rot_flash2 0
  ifand GEOFFREY_UPGRADE 16 set tilenum 6537 else set tilenum 6468
  guniqhudid 10
  rotatesprite x y 45056 weap_disp_temp2 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 72
    add y 14
    guniqhudid 11
    rotatesprite x y 32768 0 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 2
  state gun_smoke_display
  sub x 50
  sub y 39
  guniqhudid 10
  state random_shotg_flash
  rotatespritea x y 40960 rot_flash2 rot_flash 0 1 4097 -255 windowx1 windowy1 windowx2 windowy2
  add x 50
  add y 39
  guniqhudid 11
  rotatesprite x y 45056 0 6538 0 102 4096 windowx1 windowy1 windowx2 windowy2
    sub x 72
    add y 14
    guniqhudid 12
    rotatesprite x y 32768 0 C_ARM_2 0 102 4096 windowx1 windowy1 windowx2 windowy2
  break
case 3
  set gun_pushb_disp 6
  sub x 50
  sub y 39
  guniqhudid 10
  rotatespritea x y 16000 rot_flash 16114 15 1 1 -255 windowx1 windowy1 windowx2 windowy2
  add x 50
  add y 39
  guniqhudid 11
  rotatesprite x y 40960 0 6538 0 103 4096 windowx1 windowy1 windowx2 windowy2
    sub x 72
    add y 14
    guniqhudid 12
    rotatesprite x y 32768 0 C_ARM_2 0 103 4096 windowx1 windowy1 windowx2 windowy2
  break
case 22
  add y 7
  add x 15
  guniqhudid 10
  rotatesprite x y 45056 16 6539 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 72
    add y 14
    guniqhudid 11
    rotatesprite x y 32768 16 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 21
case 20
  add y 7
  add x 15
  guniqhudid 10
  rotatesprite x y 45056 32 6539 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 82
    add y 6
    guniqhudid 11
    rotatesprite x y 36864 16 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 18
case 19
  add y 9
  add x 27
  guniqhudid 10
  rotatesprite x y 45056 48 6539 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 82
    add y 6
    guniqhudid 11
    rotatesprite x y 36864 48 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 6
case 17
case 16
  add y 9
  add x 27
  guniqhudid 10
  rotatesprite x y 45056 0 6540 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 92
    sub y 6
    guniqhudid 11
    rotatesprite x y 36864 0 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 14
case 15
  add y 15
  add x 40
  guniqhudid 10
  rotatesprite x y 45056 16 6540 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 92
    sub y 6
    guniqhudid 11
    rotatesprite x y 40960 0 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 9
case 10
case 11
case 12
case 13
  add y 18
  add x 35
  guniqhudid 10
  rotatesprite x y 45056 0 6541 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 82
    add y 16
    guniqhudid 11
    rotatesprite x y 40960 0 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
endswitch
}
else
switch weaponcount
case 0
case 1
case 23
case 24
case 25
    guniqhudid 0
  state wep_drawup
  state gunpushback_display
  ifand GEOFFREY_UPGRADE 16 set tilenum 6537 else set tilenum 6468
  set rot_flash 0
  set rot_flash2 0
  guniqhudid 10
  rotatesprite x y 45056 weap_disp_temp2 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 72
    add y 14
    guniqhudid 11
    rotatesprite x y 32768 0 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 2
  state gun_smoke_display
  sub x 50
  sub y 39
  guniqhudid 10
  state random_shotg_flash
  rotatespritea x y 40960 rot_flash2 rot_flash 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
  add x 50
  add y 39
  ifand GEOFFREY_UPGRADE 16 set tilenum 6538 else set tilenum 6469
  guniqhudid 11
  rotatesprite x y 45056 0 tilenum 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 72
    add y 14
    guniqhudid 12
    rotatesprite x y 32768 0 C_ARM_2 0 107 4096 windowx1 windowy1 windowx2 windowy2
  break
case 3
  set gun_pushb_disp 6
  displayrandvar rot_flash 2048
  sub x 50
  sub y 39
  guniqhudid 10
  rotatespritea x y 20000 rot_flash 16114 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
  add x 50
  add y 39
  ifand GEOFFREY_UPGRADE 16 set tilenum 6538 else set tilenum 6469
  guniqhudid 11
  rotatesprite x y 45056 0 tilenum shade 107 4096 windowx1 windowy1 windowx2 windowy2
    sub x 72
    add y 14
    guniqhudid 12
    rotatesprite x y 32768 0 C_ARM_2 0 108 4096 windowx1 windowy1 windowx2 windowy2
  break
case 22
  sub y 7
  add x 15
  set rot_flash 0
  ifand GEOFFREY_UPGRADE 16 set tilenum 6537 else set tilenum 6468
  guniqhudid 10
  rotatesprite x y 45056 16 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 72
    add y 14
    guniqhudid 11
    rotatesprite x y 32768 16 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 21
case 20
  sub y 7
  add x 15
  ifand GEOFFREY_UPGRADE 16 set tilenum 6539 else set tilenum 6470
  guniqhudid 10
  rotatesprite x y 45056 32 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 82
    add y 6
    guniqhudid 11
    rotatesprite x y 36864 16 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 18
case 19
  sub y 9
  add x 27
  ifand GEOFFREY_UPGRADE 16 set tilenum 6539 else set tilenum 6470
  guniqhudid 10
  rotatesprite x y 45056 48 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 82
    add y 6
    guniqhudid 11
    rotatesprite x y 36864 48 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 6
case 17
case 16
  sub y 9
  add x 27
  ifand GEOFFREY_UPGRADE 16 set tilenum 6540 else set tilenum 6471
  guniqhudid 10
  rotatesprite x y 45056 0 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 92
    sub y 6
    guniqhudid 11
    rotatesprite x y 36864 0 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 14
case 15
  sub y 15
  add x 40
  ifand GEOFFREY_UPGRADE 16 set tilenum 6540 else set tilenum 6471
  guniqhudid 10
  rotatesprite x y 45056 16 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 92
    sub y 6
    guniqhudid 11
    rotatesprite x y 40960 0 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 9
case 10
case 11
case 12
case 13
  sub y 18
  add x 35
  ifand GEOFFREY_UPGRADE 16 set tilenum 6541 else set tilenum 6479
  guniqhudid 10
  rotatesprite x y 45056 0 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 82
    add y 16
    guniqhudid 11
    rotatesprite x y 40960 0 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
endswitch
guniqhudid 0
ends

// GEOFFREY'S GOLD SHOTGUN===============================================================================================================

defstate drawg_goldshotgun
  set x 225
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 240
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos

  	ifl gunsmoke_disp 40 ife INVINC 0
     ifn weaponcount 2
        {
        add gunsmoke_disp 1
        guniqhudid 18
        sub x 44
        sub y 48
        rotatespritea x y 40000 0 29952 gunsmoke_disp wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
        add x 44
        add y 48
        guniqhudid 0
        }

  ifg weaponcount 0 clamp y 180 360

switch weaponcount
case 0
case 1
case 23
case 24
case 25
  state wep_drawup
  state gunpushback_display
  set rot_flash 0
  set rot_flash2 0
  guniqhudid 10
  rotatesprite x y 40960 weap_disp_temp2 19809 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 77
    add y 4
    guniqhudid 11
    rotatesprite x y 36864 weap_disp_temp2 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 2
  sub x 44
  sub y 48
  guniqhudid 10
  state random_shotg_flash
  rotatespritea x y 40960 rot_flash2 rot_flash 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
  add x 44
  add y 48
  guniqhudid 11
  rotatesprite x y 40960 weap_disp_temp2 19810 0 0 4096 windowx1 windowy1 windowx2 windowy2
    sub x 77
    add y 4
    guniqhudid 12
    rotatesprite x y 36864 weap_disp_temp2 C_ARM_2 0 0 4096 windowx1 windowy1 windowx2 windowy2
  break
case 3
  set gun_pushb_disp 6
    state gun_smoke_display
  displayrandvar rot_flash 2048
  sub x 44
  sub y 48
  guniqhudid 10
  rotatespritea x y 18000 rot_flash 16114 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
  add x 44
  add y 48
  guniqhudid 11
  rotatesprite x y 40960 0 19810 0 106 4096 windowx1 windowy1 windowx2 windowy2
    sub x 77
    add y 4
    guniqhudid 12
    rotatesprite x y 36864 weap_disp_temp2 C_ARM_2 0 106 4096 windowx1 windowy1 windowx2 windowy2
  break
case 22
  sub y 7
  add x 15
  set rot_flash 0
  guniqhudid 10
  rotatesprite x y 40960 16 19809 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 77
    add y 4
    guniqhudid 11
    rotatesprite x y 36864 16 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 21
case 20
  sub y 7
  add x 15
  guniqhudid 10
  rotatesprite x y 40960 32 19811 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 77
    sub y 4
    guniqhudid 11
    rotatesprite x y 36864 0 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 18
case 19
  sub y 9
  add x 27
  guniqhudid 10
  rotatesprite x y 40960 48 19811 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 77
    sub y 4
    guniqhudid 11
    rotatesprite x y 36864 -16 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 6
case 17
case 16
  sub y 9
  add x 27
  guniqhudid 10
  rotatesprite x y 40960 0 19819 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 77
    sub y 4
    guniqhudid 11
    rotatesprite x y 40960 -16 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 14
case 15
  sub y 15
  add x 40
  guniqhudid 10
  rotatesprite x y 40960 16 19819 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 77
    sub y 4
    guniqhudid 11
    rotatesprite x y 40960 0 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 9
case 10
case 12
case 13
  sub y 18
  add x 35
  guniqhudid 10
  rotatesprite x y 40960 16 19820 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 72
    add y 20
    guniqhudid 11
    rotatesprite x y 40960 0 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 11
  sub y 10
  add x 40
  guniqhudid 10
  rotatesprite x y 40960 16 19820 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 72
    add y 20
    guniqhudid 11
    rotatesprite x y 40960 0 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
endswitch
guniqhudid 0
ends

// GEOFFREY'S PLASMA SHOTGUN===============================================================================================================

defstate draw_gplasmashotgun
  set x 225
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 230
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos

	ifl gunsmoke_disp 40 ife INVINC 0
     ifn weaponcount 2
        {
        add gunsmoke_disp 1
        guniqhudid 18
        sub x 44
        sub y 18
        rotatespritea x y 30000 0 29952 gunsmoke_disp 1 4096 -255 windowx1 windowy1 windowx2 windowy2
        add x 44
        add y 18
        guniqhudid 0
        }

guniqhudid 0
switch weaponcount
case 0
case 1
case 23
case 24
case 25
  state wep_drawup
  state gunpushback_display
  guniqhudid 10
  rotatesprite x y 49152 weap_disp_temp2 6512 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 85
    add y 42
    guniqhudid 11
    rotatesprite x y 40960 0 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 2
  state gun_smoke_display
  ife rot_flash 0 displayrandvar rot_flash 2048
  sub x 44
  sub y 18
  guniqhudid 10
  rotatespritea x y 14000 rot_flash 16114 0 1 4096 -255 windowx1 windowy1 windowx2 windowy2
  add x 44
  add y 18
  guniqhudid 11
  rotatesprite x y 49152 0 6512 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 12
  rotatesprite x y 49152 0 6513 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 85
    add y 42
    guniqhudid 13
    rotatesprite x y 40960 0 C_ARM_2 0 107 4096 windowx1 windowy1 windowx2 windowy2
  break
case 3
  set gun_pushb_disp 6
  sub x 44
  sub y 18
  guniqhudid 10
  rotatespritea x y 16000 rot_flash 16114 15 1 4096 -255 windowx1 windowy1 windowx2 windowy2
  add x 44
  add y 18
  guniqhudid 11
  rotatesprite x y 49152 0 6512 0 107 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 12
  rotatesprite x y 49152 0 6513 0 107 4096 windowx1 windowy1 windowx2 windowy2
    sub x 85
    add y 42
    guniqhudid 13
    rotatesprite x y 40960 0 C_ARM_2 0 108 4096 windowx1 windowy1 windowx2 windowy2
  break
case 22
  sub y 7
  add x 15
  set rot_flash 0
  guniqhudid 10
  rotatesprite x y 49152 16 6512 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 85
    add y 42
    guniqhudid 11
    rotatesprite x y 40960 16 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 21
case 20
  sub y 7
  add x 15
  guniqhudid 10
  rotatesprite x y 49152 0 6514 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 80
    add y 42
    guniqhudid 11
    rotatesprite x y 40960 0 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 18
case 19
  sub y 9
  add x 27
  guniqhudid 10
  rotatesprite x y 49152 32 6514 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 80
    add y 42
    guniqhudid 11
    rotatesprite x y 40960 32 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 6
case 17
case 16
  sub y 9
  add x 27
  guniqhudid 10
  rotatesprite x y 49152 0 6515 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 80
    add y 42
    guniqhudid 11
    rotatesprite x y 45052 0 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 14
case 15
  sub y 15
  add x 40
  guniqhudid 10
  rotatesprite x y 49152 16 6515 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 80
    add y 42
    guniqhudid 11
    rotatesprite x y 45052 16 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 9
case 10
case 11
case 12
case 13
  sub y 18
  add x 35
  guniqhudid 10
  rotatesprite x y 49152 0 6516 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 75
    add y 62
    guniqhudid 11
    rotatesprite x y 45052 16 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
endswitch
guniqhudid 0
ends

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// SLOT 3 WEAPONS
//
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

// GEOFFREY'S SMG===============================================================================================================

defstate drawgsmg

  set x 230
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 225
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos

  clamp y 146 320

  	ifl gunsmoke_disp 40 ife INVINC 0
     ifn weaponcount 2
        {
        add gunsmoke_disp 1
        guniqhudid 18
        sub x 42
        sub y 15
        rotatespritea x y 30000 0 29952 gunsmoke_disp wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
        add x 42
        add y 15
        guniqhudid 0
        }

guniqhudid 0
switch weaponcount
case 0
case 1
  state wep_drawup
  state gunpushback_display
  set rot_flash 0
  ife HANDS_DRAW 2
    {
    sub x 55
    add y 25
    guniqhudid 10
    rotatesprite x y 40960 weap_disp_temp2 C_ARM_1 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    add x 55
    sub y 25
    }
  guniqhudid 11
  rotatesprite x y 40960 weap_disp_temp2 6502 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 12
  rotatesprite x y 40960 weap_disp_temp2 6506 0 0 4096 windowx1 windowy1 windowx2 windowy2
  sub y 27
  sub x 5
    guniqhudid 0
  ife player[].weapon_pos 0
      {
      qsprintf 1400 1401 MGUNMAG
      screentext 3010 x y NORMALSIZE 0 0 1400 0 12 0 -255 5 16 1 0 524290 0 0 xdim ydim

      ifn hitsprite -1
        {
        geta[hitsprite].extra weap_disp_temp
        ifg weap_disp_temp 0
            {
            sub y 10
            sub x 2
            digitalnumberz 3010 x y weap_disp_temp 20 2 4096 windowx1 windowy1 windowx2 windowy2 HALFSIZE
            }
        }
      }
  break
case 2
 state gun_smoke_display
 displayrandvar gun_pushb_disp 5
 add gun_pushb_disp 4
  add x gun_pushb_disp
  add y gun_pushb_disp
  sub x 42
  sub y 15
 ife rot_flash 0 displayrandvar rot_flash 2048
 guniqhudid 10
  rotatespritea x y 86638 rot_flash 6505 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
  add x 42
  add y 15

   ife HANDS_DRAW 2
    {
    sub x 55
    add y 25
    guniqhudid 11
    rotatesprite x y 40960 0 C_ARM_1 0 106 4096 windowx1 windowy1 windowx2 windowy2
    add x 55
    sub y 25
    }
  guniqhudid 12
  rotatesprite x y 40960 weap_disp_temp2 6503 0 106 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 13
  rotatesprite x y 40960 weap_disp_temp2 6506 0 0 4096 windowx1 windowy1 windowx2 windowy2
  sub y 27
  sub x 5
    guniqhudid 0
  qsprintf 1400 1401 MGUNMAG

  screentext 3010 x y NORMALSIZE 0 0 1400 0 12 0 -255 5 16 1 0 524290 0 0 xdim ydim

  ifn hitsprite -1
    {
    geta[hitsprite].extra weap_disp_temp
    ifg weap_disp_temp 0
        {
        sub y 10
        sub x 2
        digitalnumberz 3010 x y weap_disp_temp 20 2 4096 windowx1 windowy1 windowx2 windowy2 HALFSIZE
        }
    }
  break
case 50
case 51
  guniqhudid 10
  rotatesprite x y 40960 0 6504 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7
case 47
case 48
case 49
  guniqhudid 10
  rotatesprite x y 40960 16 6504 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 8
case 9
case 44
case 45
case 46
  guniqhudid 10
  rotatesprite x y 40960 32 6504 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 10
case 11
case 12
  guniqhudid 10
  rotatesprite x y 40960 48 6504 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 14
case 15
case 16
case 17
case 18
case 19
case 20
case 21
case 22
  guniqhudid 10
  rotatesprite x y 40960 64 6520 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 11
  rotatesprite x y 40960 64 6507 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    ife HANDS_DRAW 2
        {
      sub x 25
      set weap_disp_temp kickbackpic
      mulvar weap_disp_temp 3
      sub x weap_disp_temp
      add y weap_disp_temp
      guniqhudid 12
      rotatesprite x y 32768 0 6501 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      }
  break
case 23
case 24
case 25
case 26
add y 5
  guniqhudid 10
  rotatesprite x y 40960 68 6520 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 27
case 28
case 29
case 30
case 31
case 32
case 33
case 34
case 35
case 36
  guniqhudid 10
  rotatesprite x y 40960 68 6520 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 37
case 38
case 39
  add y 10
  guniqhudid 10
  rotatesprite x y 40960 58 6520 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 11
  rotatesprite x y 40960 58 6507 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 40
case 41
case 42
case 43
  guniqhudid 10
  rotatesprite x y 40960 68 6520 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 11
  rotatesprite x y 40960 68 6507 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
endswitch
guniqhudid 0
ends

// GEOFFREY'S AP SMG===============================================================================================================

defstate draw_ap_gsmg

  set x 210
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 240
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos

  clamp y 149 320

	ifl gunsmoke_disp 40 ife INVINC 0
     ifn weaponcount 2
        {
        add gunsmoke_disp 1
        guniqhudid 18
        sub x 40
        sub y 40
        rotatespritea x y 30000 0 29952 gunsmoke_disp wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
        add x 45
        add y 40
        guniqhudid 0
        }

switch weaponcount
case 0
case 1
  state wep_drawup
  state gunpushback_display
  guniqhudid 10
  rotatesprite x y 40960 weap_disp_temp2 6548 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 65
    add y 20
    guniqhudid 11
    rotatesprite x y 32768 weap_disp_temp2 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 2
  state gun_smoke_display
  displayrandvar gun_pushb_disp 10
  displayrandvar rot_flash 2048
  state gunpushback_display
  sub x 40
  sub y 40
  guniqhudid 10
  rotatespritea x y 18000 rot_flash 16115 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
  add x 40
  add y 40
  guniqhudid 11
  rotatesprite x y 40960 0 6548 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 12
  rotatesprite x y 40960 0 6549 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 65
    add y 20
    guniqhudid 13
    rotatesprite x y 32768 0 C_ARM_2 0 107 4096 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 4
  guniqhudid 10
  rotatesprite x y 40960 24 6548 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 65
    add y 20
    guniqhudid 11
    rotatesprite x y 32768 24 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7
case 38
case 39
case 40
  guniqhudid 10
  rotatesprite x y 40960 8 6548 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 65
    add y 20
    guniqhudid 11
    rotatesprite x y 32768 8 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 8
case 9
case 35
case 36
case 37
  guniqhudid 10
  rotatesprite x y 40960 16 6550 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 65
    add y 40
    guniqhudid 11
    rotatesprite x y 32768 16 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 10
case 11
case 12
case 32
case 33
case 34
  ife weaponcount 32 sub y 10
  add y 2
  guniqhudid 10
  rotatesprite x y 40960 24 6553 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 11
  rotatesprite x y 40960 24 6551 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 82
    add y 40
    guniqhudid 12
    rotatesprite x y 32768 48 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 14
case 15
case 16
case 17
case 27
case 28
case 29
case 30
case 31
   ife weaponcount 13 add y 10
   add y 4
  guniqhudid 10
  rotatesprite x y 40960 32 6553 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 11
  rotatesprite x y 40960 32 6552 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
case 26
  add y 6
  guniqhudid 10
  rotatesprite x y 40960 34 6553 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
endswitch
guniqhudid 0
ends

// ####################################################################################################################################################################################
// Geoffrey's GP63
// ####################################################################################################################################################################################

defstate gp63_hand
    sub x 65
    add y 23
    guniqhudid 15
    ife weaponcount 2 rotatesprite x y 32768 weap_disp_temp2 C_ARM_2 shade 106 4096 windowx1 windowy1 windowx2 windowy2
    else rotatesprite x y 32768 weap_disp_temp2 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
ends

defstate gp63_hand2
    sub x 68
    add y 13
    guniqhudid 16
    rotatesprite x y 36864 32 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
ends

defstate draw_gp_63

  set x 210
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 234
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos
  state gunpushback_display
  clamp y 150 320

	ifl gunsmoke_disp 40 ife INVINC 0
     ifn weaponcount 2
        {
        add gunsmoke_disp 1
        guniqhudid 18
        sub x 35
        sub y 40
        rotatespritea x y 35000 0 29952 gunsmoke_disp wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
        add x 35
        add y 40
        guniqhudid 0
        }

  set weap_disp_temp5 60
  sub weap_disp_temp5 GUN_HEAT[cur_weap]
guniqhudid 0
switch weaponcount
case 0
case 1
case 4
case 5
case 6
  state wep_drawup

    set rot_flash 0
    guniqhudid 10
    rotatesprite x y 40960 weap_disp_temp2 22618 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    guniqhudid 11
    rotatespritea x y 40960 weap_disp_temp2 22620 weap_disp_temp5 wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
    state gp63_hand
  break
case 2
add x 5
add y 5
set gun_pushb_disp 6
   sub y 40
  sub x 35
 ife rot_flash 0 displayrandvar rot_flash 2048
 guniqhudid 10
  rotatespritea x y 82000 rot_flash 16510 0 94 4096 -255 windowx1 windowy1 windowx2 windowy2
  add y 40
  add x 35
  guniqhudid 11
  rotatesprite x y 40960 0 22619 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 12
  rotatespritea x y 40960 weap_disp_temp2 22620 weap_disp_temp5 wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
  state gp63_hand
  break
case 3
add x 5
add y 5
set gun_pushb_disp 6

   sub y 40
  sub x 35
  guniqhudid 10
  rotatespritea x y 92000 rot_flash 16510 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
  add y 40
  add x 35
  guniqhudid 11
  rotatesprite x y 40960 0 22619 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 12
  rotatespritea x y 40960 weap_disp_temp2 22620 weap_disp_temp5 wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
  state gp63_hand
  break
case 7
case 8
case 9
case 10
case 19
case 20
case 21
case 22
  state gunpushback_display
  add x 10
  sub x 10
  guniqhudid 10
  rotatesprite x y 40960 16 22618 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 11
  rotatespritea x y 40960 16 22620 weap_disp_temp5 wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
  state gp63_hand
  break
case 11
case 12
case 13
case 16
case 17
case 18
    add x 10
    add y 10
    guniqhudid 10
  rotatesprite x y 40960 32 22621 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 11
  rotatespritea x y 40960 32 22622 weap_disp_temp5 wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
  state gp63_hand2
  break
case 14
add x 10
add y 10
  guniqhudid 10
  rotatesprite x y 40960 32 22621 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 11
  rotatespritea x y 40960 32 22622 weap_disp_temp5 wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
  state gp63_hand2
  break
case 15
add x 10
add y 10
  guniqhudid 10
  rotatesprite x y 40960 32 22621 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 11
  rotatespritea x y 40960 32 22622 weap_disp_temp5 wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
  state gp63_hand2
  break
endswitch
guniqhudid 0
ends

// ####################################################################################################################################################################################
// Geoffrey's Cutlass
// ####################################################################################################################################################################################

defstate draw_cutlass_bayonet

 ifn WEP3_BLOODY 0
    {
    ifg wep_pal 0
    ifl wep_pal 9
        set BLOOD_PAL wep_pal
        else set BLOOD_PAL WEP3_BLOODY
    }

  set x 195
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1
  set y 230
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos
  clamp y 138 320
  state weapon_shake

guniqhudid 0
switch weaponcount
case 0
case 1
  state wep_drawup
  guniqhudid 10
  rotatesprite x y 40960 weap_disp_temp2 29081 shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
  sub x 85
  add y 20
  guniqhudid 11
  rotatesprite x y 32768 0 C_ARM_2 shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
  add x 85
  sub y 20
  guniqhudid 12
  rotatesprite x y 40960 weap_disp_temp2 29082 shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
case 4
  add x 40
  guniqhudid 10
  rotatesprite x y 40960 0 29084 shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
  sub x 85
  add y 20
  guniqhudid 11
  rotatesprite x y 32768 -16 C_ARM_2 shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 13
case 14
case 15
  sub y 10
  add x 60
  guniqhudid 10
  rotatesprite x y 40960 0 29088 shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
  sub x 75
  add y 30
  guniqhudid 11
  rotatesprite x y 32768 -128 C_ARM_2 shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 11
case 12
  sub y 15
  add x 20
  guniqhudid 10
  rotatesprite x y 40960 0 29085 shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
  sub x 73
  add y 20
  guniqhudid 11
  rotatesprite x y 36768 -16 C_ARM_2 shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
    break
case 9
case 10
   sub y 20
	  guniqhudid 10
	  rotatesprite x y 40960 0 29086 shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
	  sub x 63
	  add y 10
	  guniqhudid 11
	  rotatesprite x y 36768 -16 C_ARM_2 shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
     break
endswitch
guniqhudid 0
ends

defstate draw_cutlass
 ifn WEP3_BLOODY 0
    {
    ifg wep_pal 0
    ifl wep_pal 9
        set BLOOD_PAL wep_pal
        else set BLOOD_PAL WEP3_BLOODY
    }
  set x 235
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 230
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos
  clamp y 138 320
  state gunpushback_display

	ifl gunsmoke_disp 40 ife INVINC 0
     ifn weaponcount 2
        {
        add gunsmoke_disp 1
        guniqhudid 18
		  sub x 64
		  sub y 34
        rotatespritea x y 30000 0 29952 gunsmoke_disp wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
        add x 64
        add y 34
        guniqhudid 0
        }
guniqhudid 0
switch weaponcount
case 0
case 1
case 4
case 5
case 6
case 7
case 8
case 9
case 10
  ifand gun_firemode 16384
          {
          set x 160
          set weap_disp_temp2 wepsway_x
          divvar weap_disp_temp2 2
          sub x weap_disp_temp2
          set weap_disp_temp4 weapon_xoffset // set the weapon x sway to displaytemp4
          divvar weap_disp_temp4 2 // divide it by 2
          add x weap_disp_temp4 // add it to x
          sub x 5 // offset it by 5
          set y 140
          set weap_disp_temp3 wepsway_y
          divvar weap_disp_temp3 2
          sub y weap_disp_temp3
          state gunpushback_sight_display
          guniqhudid 10
		  add weap_disp_temp8 16384
          rotatesprite x y weap_disp_temp8 0 29836 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // barrel part of ironsight
		  rotatespritea x y weap_disp_temp8 0 29837 shade wep_pal 33 64 windowx1 windowy1 windowx2 windowy2 // barrel part of ironsight
          sub y 40
          guniqhudid 11
          rotatespritea x y QUARTERSIZE 0 11046 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2 // red dot
          set x 160
          sub x wepsway_x
          add x weapon_xoffset // add weaponxsway to position
          sub x 10 // offset it by 10
          set y 142
          sub y wepsway_y
          guniqhudid 12
          rotatesprite x y weap_disp_temp8 0 29834 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // red dot sight
          guniqhudid 13
          rotatespritea x y weap_disp_temp8 0 29835 shade wep_pal 33 64 windowx1 windowy1 windowx2 windowy2 // Glass in holosight
          }
	else
		  {
		  state wep_drawup
		  guniqhudid 10
		  rotatesprite x y 40960 weap_disp_temp2 29081 shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
		  sub x 85
		  add y 20
		  guniqhudid 11
		  rotatesprite x y 32768 0 C_ARM_2 shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
		  add x 85
		  sub y 20
		  guniqhudid 12
		  rotatesprite x y 40960 weap_disp_temp2 29082 shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
		}
  break
case 2
case 3
  ifand gun_firemode 16384
          {
            displayrandvar rot_flash 2048
          set x 160
            state random_AR_flash
            // add y 40
            guniqhudid 10
            rotatespritea x y 40000 0 rot_flash 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
            // sub y 40
          set weap_disp_temp2 wepsway_x
          divvar weap_disp_temp2 2
          sub x weap_disp_temp2
          set weap_disp_temp4 weapon_xoffset // set the weapon x sway to displaytemp4
          divvar weap_disp_temp4 2 // divide it by 2
          add x weap_disp_temp4 // add it to x
          sub x 5 // offset it by 5
          set y 140
          set weap_disp_temp3 wepsway_y
          divvar weap_disp_temp3 2
          sub y weap_disp_temp3
		  set gun_pushb_disp 10
          state gunpushback_sight_display
          guniqhudid 11
		  add weap_disp_temp8 16384
          rotatesprite x y weap_disp_temp8 0 29836 shade 106 4096 windowx1 windowy1 windowx2 windowy2 // barrel part of ironsight
		  guniqhudid 12
		  rotatespritea x y weap_disp_temp8 0 29837 shade 106 33 64 windowx1 windowy1 windowx2 windowy2 // barrel part of ironsight
          sub y 40
          guniqhudid 13
          rotatespritea x y QUARTERSIZE 0 11046 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2 // red dot
          set x 160
          sub x wepsway_x
          add x weapon_xoffset // add weaponxsway to position
          sub x 10 // offset it by 10
          set y 142
          sub y wepsway_y
          guniqhudid 14
          rotatesprite x y weap_disp_temp8 0 29834 shade 106 4096 windowx1 windowy1 windowx2 windowy2 // red dot sight
          guniqhudid 15
          rotatespritea x y weap_disp_temp8 0 29835 shade 106 33 64 windowx1 windowy1 windowx2 windowy2 // Glass in holosight
          }
		  else
		  {
		  state gun_smoke_display
		 displayrandvar gun_pushb_disp 13
		  sub x 64
		  sub y 34
		  state random_AR_flash
		  guniqhudid 10
		  rotatespritea x y 24000 0 rot_flash 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
		  add x 64
		  add y 34

		  state wep_drawup
		  guniqhudid 10
		  rotatesprite x y 40960 weap_disp_temp2 29083 0 wep_pal 4104 windowx1 windowy1 windowx2 windowy2
		  sub x 85
		  add y 20
		  guniqhudid 11
		  rotatesprite x y 32768 0 C_ARM_2 0 106 4104 windowx1 windowy1 windowx2 windowy2
		}
  break
case 11
case 12
case 13
case 39
case 40
case 41
  guniqhudid 10
  rotatesprite x y 40960 0 29081 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
case 36
case 37
case 38
  add y 5
  add x 5
  guniqhudid 10
  ife kickbackpic 14 add y 10
  rotatesprite x y 40960 0 29084 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
case 26
  add y 5
  add x 5
  guniqhudid 10
  rotatesprite x y 40960 0 29084 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 27
case 28
case 29
  add y 5
  sub x 5
  guniqhudid 10
  rotatesprite x y 40960 0 29085 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 30
case 31
case 32
case 33
case 34
case 35
  add y 5
  sub x 5
  ife kickbackpic 33 sub y 10
  guniqhudid 10
  rotatesprite x y 40960 0 29086 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 37
  add y 45
  guniqhudid 11
  rotatesprite x y 32768 256 CHOLDING_3 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
// cocking anim
case 42
case 43
case 44
case 59
case 60
case 61
  add y 10
  add x 10
    guniqhudid 10
      rotatesprite x y 40960 0 29084 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    break
case 45
case 46
case 47
case 56
case 57
case 58
  add y 20
  add x 20
    guniqhudid 10
      rotatesprite x y 40960 0 29085 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    break
case 48
case 49
case 53
case 54
case 55
  add y 20
  add x 20
    guniqhudid 10
      rotatesprite x y 40960 16 29086 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    break
case 50
case 51
case 52
  add y 20
  add x 20
    guniqhudid 10
      rotatesprite x y 40960 32 29087 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    break
endswitch
guniqhudid 0
ends

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// SLOT 4 WEAPONS
//
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

// GEOFFREY'S GRENADE LAUNCHER===================================================================================================

defstate drawggrenadel

  set x 230
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 235
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos
  state gunpushback_display

  ifand GEOFFREY_UPGRADE 4 set wep_pal 21 else set wep_pal 12

	ifl gunsmoke_disp 40 ife INVINC 0
     ifn weaponcount 2
        {
        add gunsmoke_disp 1
        guniqhudid 18
        sub x 60
        sub y 50
        rotatespritea x y 40000 0 29952 gunsmoke_disp wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
        add x 65
        add y 50
        guniqhudid 0
        }

  guniqhudid 0
switch weaponcount
case 0
case 1
case 19
case 20
  state wep_drawup
    sub x 60
    add y 20
    guniqhudid 10
    rotatesprite x y 45920 weap_disp_temp2 C_ARM_1 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    add x 60
    sub y 20
    guniqhudid 11
  rotatesprite x y 49152 weap_disp_temp2 6474 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 2
    displayrandvar rot_flash 2048
    sub x 60
    sub y 50
    guniqhudid 10
    rotatespritea x y 14000 rot_flash 16115 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
    add x 60
    add y 50

    sub x 60
    add y 20
    guniqhudid 11
    rotatesprite x y 45920 0 C_ARM_1 0 107 4096 windowx1 windowy1 windowx2 windowy2
    add x 60
    sub y 20
  guniqhudid 12
  rotatesprite x y 49152 0 6475 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 3
    state gun_smoke_display
    displayrandvar rot_flash 2048
    sub x 60
    sub y 50
    guniqhudid 10
    rotatespritea x y 24000 rot_flash 16115 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
    add x 60
    add y 50

    sub x 60
    add y 20
    guniqhudid 11
    rotatesprite x y 45920 0 C_ARM_1 0 108 4096 windowx1 windowy1 windowx2 windowy2
    add x 60
    sub y 20
 guniqhudid 12
  rotatesprite x y 49152 0 6475 0 108 4096 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 11
case 12
  set gun_pushb_disp 10
  add x 3
  add y 3
    sub x 60
    add y 20
    guniqhudid 10
    rotatesprite x y 45920 32 C_ARM_1 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    add x 60
    sub y 20
    guniqhudid 11
  rotatesprite x y 49152 32 6474 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 9
case 10
  add x 5
  add y 5
    sub x 60
    add y 20
    guniqhudid 10
    rotatesprite x y 45920 64 C_ARM_1 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    add x 68
    sub y 20
    guniqhudid 11
  rotatesprite x y 49152 64 6474 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
  add x 3
  add y 3
    sub x 60
    add y 20
    guniqhudid 10
    rotatesprite x y 45920 96 C_ARM_1 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    add x 60
    sub y 20
    guniqhudid 11
  rotatesprite x y 49152 96 6474 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 14
case 15
    sub x 60
    add y 20
    guniqhudid 10
    rotatesprite x y 45920 0 C_ARM_1 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    add x 60
    sub y 20
    guniqhudid 11
  rotatesprite x y 49152 0 6476 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 16
case 17
case 18
    sub x 60
    add y 20
    guniqhudid 10
    rotatesprite x y 45920 16 C_ARM_1 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    add x 60
    sub y 20
    guniqhudid 11
  rotatesprite x y 49152 16 6476 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
endswitch
guniqhudid 0
ends

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// SLOT 5 WEAPONS
//
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// SLOT 6 WEAPONS
//
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

// GEOFFREY'S RAILGUN=======================================================================================================

defstate drawg_railgun
ife scope 2 break
  set x 235
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 229
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos
  clamp y 147 320


guniqhudid 0
ifg kickbackpic_2 0
switch kickbackpic_2
case 2
case 4
case 6
  state wep_drawup
  state gunpushback_display
  guniqhudid 10
  rotatesprite x y 45056 weap_disp_temp2 6523 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  set weap_disp_temp4 49
  ife opt_weapon_glow YES
      {
      state GLOWCODE
      guniqhudid 11
      rotatespritea x y 45056 weap_disp_temp2 6569 weap_disp_temp weap_disp_temp4 4096 -255 windowx1 windowy1 windowx2 windowy2
      state crystal_glow
      guniqhudid 12
      rotatespritea x y 45056 weap_disp_temp2 6528 crystal_shade weap_disp_temp4 4096 -255 windowx1 windowy1 windowx2 windowy2
      }
    sub x 75
    add y 30
    guniqhudid 13
    rotatesprite x y 32768 0 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 1
case 5
 displayrandvar gun_pushb_disp 3
  add x gun_pushb_disp
 displayrandvar gun_pushb_disp 3
  add y gun_pushb_disp
  guniqhudid 10
    rotatesprite x y 45056 0 6524 shade 49 4096 windowx1 windowy1 windowx2 windowy2
    sub x 75
    add y 30
    guniqhudid 11
    rotatesprite x y 32768 0 C_ARM_2 shade 49 4096 windowx1 windowy1 windowx2 windowy2
    break
case 3
case 7
 displayrandvar gun_pushb_disp 3
  add x gun_pushb_disp
 displayrandvar gun_pushb_disp 3
  add y gun_pushb_disp
  guniqhudid 10
    rotatesprite x y 45056 0 6525 shade 49 4096 windowx1 windowy1 windowx2 windowy2
    sub x 75
    add y 30
    guniqhudid 11
    rotatesprite x y 32768 0 C_ARM_2 shade 49 4096 windowx1 windowy1 windowx2 windowy2
    break
case 8
case 9
case 10
  guniqhudid 10
  rotatesprite x y 45056 0 6526 0 49 4096 windowx1 windowy1 windowx2 windowy2
    sub x 75
    add y 30
    guniqhudid 11
    rotatesprite x y 32768 0 C_ARM_2 shade 49 4096 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
  guniqhudid 10
  rotatesprite x y 45056 0 6527 0 119 4096 windowx1 windowy1 windowx2 windowy2
    sub x 75
    add y 30
    guniqhudid 11
    rotatesprite x y 32768 0 C_ARM_2 0 119 4096 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
  set gun_pushb_disp 10
  guniqhudid 10
  rotatesprite x y 45056 0 6524 shade 49 4096 windowx1 windowy1 windowx2 windowy2
    sub x 75
    add y 30
    guniqhudid 11
    rotatesprite x y 32768 0 C_ARM_2 shade 49 4096 windowx1 windowy1 windowx2 windowy2
  break
endswitch
else
switch weaponcount
case 0
case 2
case 4
case 6
  state wep_drawup
  state gunpushback_display
  guniqhudid 10
  rotatesprite x y 45056 weap_disp_temp2 6523 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  ife currentweapon 11 set weap_disp_temp4 21 else set weap_disp_temp4 0
  ife opt_weapon_glow YES
      {
      state GLOWCODE
      guniqhudid 11
      rotatespritea x y 45056 weap_disp_temp2 6569 weap_disp_temp weap_disp_temp4 4096 -255 windowx1 windowy1 windowx2 windowy2
      state crystal_glow
      guniqhudid 12
      rotatespritea x y 45056 weap_disp_temp2 6528 crystal_shade weap_disp_temp4 4096 -255 windowx1 windowy1 windowx2 windowy2
      }
    sub x 75
    add y 30
    guniqhudid 13
    rotatesprite x y 32768 0 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 1
case 5
 displayrandvar gun_pushb_disp 3
  add x gun_pushb_disp
 displayrandvar gun_pushb_disp 3
  add y gun_pushb_disp
  guniqhudid 10
    rotatesprite x y 45056 0 6524 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 75
    add y 30
    guniqhudid 11
    rotatesprite x y 32768 0 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    break
case 3
case 7
 displayrandvar gun_pushb_disp 3
  add x gun_pushb_disp
 displayrandvar gun_pushb_disp 3
  add y gun_pushb_disp
  guniqhudid 10
    rotatesprite x y 45056 0 6525 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 75
    add y 30
    guniqhudid 11
    rotatesprite x y 32768 0 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    break
case 8
case 9
case 10
  guniqhudid 10
  rotatesprite x y 45056 0 6526 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 75
    add y 30
    guniqhudid 11
    rotatesprite x y 32768 0 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
  guniqhudid 10
  rotatesprite x y 45056 0 6527 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 75
    add y 30
    guniqhudid 11
    rotatesprite x y 32768 0 C_ARM_2 0 102 4096 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
  set gun_pushb_disp 10
  guniqhudid 10
  rotatesprite x y 45056 0 6524 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 75
    add y 30
    guniqhudid 11
    rotatesprite x y 32768 0 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
endswitch
guniqhudid 0
ends

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// SLOT 7 WEAPONS
//
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

//  GEOFFREY'S MELTA RIFLE===============================================================================================================

defstate drawmeltarifle

  set x 220
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 230
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos
  clamp y 148 320

  	ifl gunsmoke_disp 40 ife INVINC 0 // melta smoke
     ifn weaponcount 2
        {
        add gunsmoke_disp 1
        guniqhudid 18
        sub x 46
        sub y 38
        rotatespritea x y 30000 0 29952 gunsmoke_disp 2 4096 -255 windowx1 windowy1 windowx2 windowy2
        add x 46
        add y 38
        guniqhudid 0
        }

  	ifl gunsmoke_disp2 40 ife INVINC 0 // ice smoke
     ifn weaponcount 2
        {
        add gunsmoke_disp2 1
        guniqhudid 18
        sub x 46
        sub y 38
        rotatespritea x y 30000 0 29952 gunsmoke_disp2 1 4096 -255 windowx1 windowy1 windowx2 windowy2
        add x 46
        add y 38
        guniqhudid 0
        }

ifg kickbackpic_2 0
switch kickbackpic_2
case 1
      sub x 46
      sub y 38
      displayrandvar rot_flash 2048
      guniqhudid 10
      rotatespritea x y 80000 rot_flash 7056 0 1 4096 -255 windowx1 windowy1 windowx2 windowy2
      add x 46
      add y 38

    sub x 75
    add y 30
    guniqhudid 11
    rotatesprite x y 32768 0 C_ARM_2 0 102 4096 windowx1 windowy1 windowx2 windowy2
    add x 75
    sub y 30
 guniqhudid 12
  rotatesprite x y 45056 0 6577 0 102 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 13
  rotatesprite x y 45056 0 6578 0 102 4097 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
	state gun_smoke2_display
      sub x 46
      sub y 38
      displayrandvar rot_flash 2048
      guniqhudid 10
      rotatespritea x y 80000 rot_flash 7056 0 1 4096 -255 windowx1 windowy1 windowx2 windowy2
      add x 46
      add y 38

    sub x 75
    add y 30
    guniqhudid 11
    rotatesprite x y 32768 0 C_ARM_2 0 103 4096 windowx1 windowy1 windowx2 windowy2
    add x 75
    sub y 30
guniqhudid 12
 rotatesprite x y 45056 0 6577 0 103 4096 windowx1 windowy1 windowx2 windowy2
 guniqhudid 13
 rotatesprite x y 45056 0 6578 0 103 4097 windowx1 windowy1 windowx2 windowy2
  break
endswitch
else
switch weaponcount
case 0
case 3
case 4
  state wep_drawup
    sub x 75
    add y 30
    guniqhudid 10
    rotatesprite x y 32768 weap_disp_temp2 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    add x 75
    sub y 30
    guniqhudid 11
  rotatesprite x y 45056 weap_disp_temp2 6576 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 12
  rotatesprite x y 45056 weap_disp_temp2 6578 0 0 4097 windowx1 windowy1 windowx2 windowy2

      ife opt_weapon_glow YES
        {
        guniqhudid 13
        state reverse_shade
        rotatespritea x y 45056 weap_disp_temp2 6561 weap_disp_temp5 0 4096 -255 windowx1 windowy1 windowx2 windowy2
        }

  break
case 1
      sub x 46
      sub y 38
      displayrandvar rot_flash 2048
      guniqhudid 10
      rotatespritea x y 80000 rot_flash 7056 0 2 4096 -255 windowx1 windowy1 windowx2 windowy2
      add x 46
      add y 38

    sub x 75
    add y 30
    guniqhudid 11
    rotatesprite x y 32768 0 C_ARM_2 0 107 4096 windowx1 windowy1 windowx2 windowy2
    add x 75
    sub y 30
 guniqhudid 12
  rotatesprite x y 45056 0 6577 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 13
  rotatesprite x y 45056 0 6578 0 wep_pal 4097 windowx1 windowy1 windowx2 windowy2
  break
case 2
	state gun_smoke_display
      sub x 46
      sub y 38
      displayrandvar rot_flash 2048
      guniqhudid 10
      rotatespritea x y 80000 rot_flash 7056 0 2 4096 -255 windowx1 windowy1 windowx2 windowy2
      add x 46
      add y 38

    sub x 75
    add y 30
    guniqhudid 11
    rotatesprite x y 32768 0 C_ARM_2 0 106 4096 windowx1 windowy1 windowx2 windowy2
    add x 75
    sub y 30
guniqhudid 12
 rotatesprite x y 45056 0 6577 0 106 4096 windowx1 windowy1 windowx2 windowy2
 guniqhudid 13
 rotatesprite x y 45056 0 6578 0 0 4097 windowx1 windowy1 windowx2 windowy2
  break
endswitch
guniqhudid 0
ends

//  GEOFFREY'S AUTOSHOTGUN===============================================================================================================

defstate draw_geo_autoshotgun

  set x 230
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 203
  sub y wepsway_y
  add y looking_arc
  set weap_disp_temp gun_pos
  divvar weap_disp_temp 2
  sub y weap_disp_temp
guniqhudid 0

	ifl gunsmoke_disp 40 ife INVINC 0
     ifn weaponcount 2
        {
        add gunsmoke_disp 1
        guniqhudid 18
        sub x 47
        sub y 40
        rotatespritea x y 35000 0 29952 gunsmoke_disp wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
        add x 47
        add y 40
        guniqhudid 0
        }

switch weaponcount
case 0
case 1
  state wep_drawup
  state gunpushback_display
  guniqhudid 10
  rotatesprite x y 40960 weap_disp_temp2 22596 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  ife HANDS_DRAW 2
  {
    sub x 75
    add y 30
    guniqhudid 11
    rotatesprite x y 32768 weap_disp_temp2 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  }
  break
case 2
	state gun_smoke_display
    sub x 47
    sub y 40
    displayrandvar rot_flash 2048
    guniqhudid 10
    rotatespritea x y 18000 rot_flash 16114 0 2 4096 -255 windowx1 windowy1 windowx2 windowy2
    add x 47
    add y 40
    guniqhudid 11
  rotatesprite x y 40960 0 22597 0 108 4096 windowx1 windowy1 windowx2 windowy2
  ife HANDS_DRAW 2
  {
    sub x 75
    add y 30
    guniqhudid 12
    rotatesprite x y 32768 0 C_ARM_2 0 108 4096 windowx1 windowy1 windowx2 windowy2
  }
  break
case 3
  state gunpushback_display
   displayrandvar gun_pushb_disp 5
   add gun_pushb_disp 10
  add x gun_pushb_disp
  add y gun_pushb_disp

      sub x 47
      sub y 40
      guniqhudid 10
      rotatespritea x y 20000 rot_flash 16114 15 2 4096 -255 windowx1 windowy1 windowx2 windowy2
      add x 47
      add y 40
      guniqhudid 11
 rotatesprite x y 40960 0 22597 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  ife HANDS_DRAW 2
    {
    sub x 75
    add y 30
    guniqhudid 12
    rotatesprite x y 32768 0 C_ARM_2 0 107 4096 windowx1 windowy1 windowx2 windowy2
    }
  break
case 4
case 5
case 7
case 8
  sub y 10
  state gunpushback_display
  guniqhudid 10
  rotatesprite x y 40960 0 22596 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
 ife HANDS_DRAW 2
    {
    sub x 75
    add y 27
    guniqhudid 11
    rotatesprite x y 32768 32 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    }
  break
case 6
  sub y 15
  state gunpushback_display
  guniqhudid 10
  rotatesprite x y 40960 0 22596 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  ife HANDS_DRAW 2
   {
    sub x 77
    add y 32
    guniqhudid 11
    rotatesprite x y 36864 32 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
   }
  break
endswitch
guniqhudid 0
ends

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// SLOT 8 WEAPONS
//
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

// GEOFFREY'S TRIPBOMB===============================================================================================================

defstate displaydisctripbomb

  set x 180
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 265
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
ife cur_weap 8 getp[].ammo_amount 8 weap_disp_temp
state wep_drawup
  guniqhudid 10
   ifg weap_disp_temp 0
  rotatesprite x y NORMALSIZE weap_disp_temp2 6481 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 1
  sub x 10
  guniqhudid 10
  rotatesprite x y NORMALSIZE -32 6481 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 2
  sub x 20
  guniqhudid 10
  rotatesprite x y NORMALSIZE -64 6481 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 3
  sub x 30
  guniqhudid 10
  rotatesprite x y NORMALSIZE -96 6481 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 4
  sub x 40
  guniqhudid 10
  rotatesprite x y NORMALSIZE -128 6481 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 5
  sub x 50
  guniqhudid 10
  rotatesprite x y NORMALSIZE -160 6481 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 6
  sub x 60
  guniqhudid 10
  rotatesprite x y NORMALSIZE -192 6481 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 7
   sub x 40
   guniqhudid 10
  rotatesprite x y NORMALSIZE -128 6481 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 8
   sub x 20
   guniqhudid 10
  rotatesprite x y NORMALSIZE -64 1496 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 9
guniqhudid 10
  rotatesprite x y NORMALSIZE 0 1496 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 10
  add x 10
  guniqhudid 10
  rotatesprite x y NORMALSIZE 32 1496 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 11
  add x 20
  guniqhudid 10
  rotatesprite x y NORMALSIZE 64 1496 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 12
  add x 30
  guniqhudid 10
  rotatesprite x y NORMALSIZE 96 1496 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
 case 13
  add x 40
  guniqhudid 10
  rotatesprite x y NORMALSIZE 128 1496 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
endswitch
guniqhudid 0
ends

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// SLOT 9 WEAPONS
//
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

// GEOFFREY'S SHOCK RIFLE===============================================================================================================

defstate drawgshockr

  set x 247
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 237
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos
  ifl y 156 set y 156

    ifl gunsmoke_disp 40 ife INVINC 0
     ifn weaponcount 2
        {
		add gunsmoke_disp 1
        guniqhudid 28
        sub x 55
        sub y 30
        rotatespritea x y 25000 0 29952 gunsmoke_disp 8 4096 -255 windowx1 windowy1 windowx2 windowy2
        add x 55
        add y 30
        guniqhudid 0
        }

ifand gun_firemode 16384 { add x 20 add y 20 set weap_disp_temp9 50000 }
else set weap_disp_temp9 40960
guniqhudid 0
ifg kickbackpic 5
 ifand gun_firemode 16384
    {
    set weap_disp_temp2 kickbackpic
    mulvar weap_disp_temp2 4
    set weap_disp_temp6 weap_disp_temp2
    guniqhudid 15
    rotatesprite x y weap_disp_temp9 weap_disp_temp2 6620 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    getp[].ammo_amount 9 weap_disp_temp ifg weap_disp_temp 0 rotatesprite x y weap_disp_temp9 weap_disp_temp2 6621 0 0 4096 windowx1 windowy1 windowx2 windowy2
    sub x 85
    add y 10
    guniqhudid 16
    rotatesprite x y 32768 weap_disp_temp2 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    }
guniqhudid 0

switch weaponcount
case 0
case 1
case 3
case 4
case 5
  set weap_disp_temp2 player[].weapon_pos
    ifg weap_disp_temp6 0
      {
      clamp weap_disp_temp6 0 76
      sub weap_disp_temp6 32
      set weap_disp_temp2 weap_disp_temp6
      }
  else
      {
      state wep_drawup
      }
      guniqhudid 10
      state gunpushback_display
  rotatesprite x y weap_disp_temp9 weap_disp_temp2 6620 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  ife opt_weapon_glow YES
      {
      getp[].ammo_amount 9 weap_disp_temp
      guniqhudid 11
      ifg weap_disp_temp 0 rotatesprite x y weap_disp_temp9 weap_disp_temp2 6621 0 0 4096 windowx1 windowy1 windowx2 windowy2
      state reverse_shade
      guniqhudid 12
      rotatespritea x y weap_disp_temp9 weap_disp_temp2 6623 weap_disp_temp5 0 4096 -255 windowx1 windowy1 windowx2 windowy2
      }
    sub x 85
    add y 10
    guniqhudid 13
    rotatesprite x y 32768 weap_disp_temp2 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 2
  state gun_smoke_display
  set gun_pushb_disp 4
      sub x 55
      sub y 30
      displayrandvar rot_flash 2048
      guniqhudid 10
      rotatespritea x y 45000 rot_flash 3605 0 11 1 -255 windowx1 windowy1 windowx2 windowy2
      add x 55
      add y 30
      guniqhudid 11
		rotatesprite x y weap_disp_temp9 0 6620 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      guniqhudid 12
		rotatesprite x y weap_disp_temp9 0 6622 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2

    sub x 85
    add y 10
    guniqhudid 13
    rotatesprite x y 32768 0 C_ARM_2 0 107 4096 windowx1 windowy1 windowx2 windowy2

  break
endswitch
guniqhudid 0
ends
