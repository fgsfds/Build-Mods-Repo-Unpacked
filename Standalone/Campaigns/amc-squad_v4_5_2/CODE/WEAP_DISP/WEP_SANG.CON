/*
-------------------------------------------------------------------------------
===============================================================================

         -ooo:             +oo-            `+oo.       ./+oooooooooo+/:
        /NMMMN+            NMMNo`         -dMMM/      .mMMNmmmmmmmmmMMNo
       /NMd:mMMo           NMMNMd:      `oNMNMM/      :MMM/.........mMMh
      oNMd. -mMMy`         NMN:mMNs`   -hMm/mMM/      :MMM:         ::-.
    `sMMh`   .dMMh`        NMN .sNMd:`oNMh. mMM/      :MMM:
   `yMMMdhhhhhmMMMd.       NMN   /mMNdMm+`  mMM/      :MMM:         ss+:
  `hMMdhhhhhhhhhmMMm-      NMN    .yMMh.    mMM/      :MMM/.........mMMh
 .dMMs`         .hMMm:     NMN      :/`     mMM/      .mMMNmmmmmmmmmMMNo
 :oo+            `+oo+     +o+              +oo.       ./++ooooooooo+/:

###############################################################################
+ The AMC Squad
+ CON code by James Stanfield, Cedric "Sangman" Haegeman, Dino Bollinger,
+              Mikko Sandt, Cedric "Zaxtor" Lutes and Dan "Danarama" Gaskill
-------------------------------------------------------------------------------
* See AMC_MAIN.CON for a full list of script authors.

Feel free to use any code in the game for your own uses; just make
sure to mention the authors and/or "The AMC Squad" in your credits.
--------------------------------------------------------------------------------
NOTES:
This file defines the display code for Sang's weapons.
--------------------------------------------------------------------------------
*/

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// SLOT 1 WEAPONS
//
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

// SANG SPELL 1===============================================================================================================

defstate sang_offhand_uzi_disp
ifand gun_firemode 64
	{
	set x2 70
	sub x2 wepsway_x
	add x2 weapon_xoffset
	add x2 looking_angSR1

	sub y 20

	ifl gunsmoke_disp 40 ife INVINC 0
     ifn weaponcount 2
        {
        add gunsmoke_disp 1
        guniqhudid 18
        add x2 38
        sub y 39
        rotatespritea x2 y 30000 0 29952 gunsmoke_disp wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
        sub x2 38
        add y 39
        guniqhudid 0
        }

    switch kickbackpic_2
    case 0
    case 1
	case 3
	case 4
	case 5
		set tilenum 12135
        add x2 1
        add y 30
        guniqhudid 20
        rotatesprite x2 y 57344 1024 C_PISTOL_L shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2 // Left hand
        sub x2 1
        sub y 30
        guniqhudid 21
        ifand gun_firemode_two 2048 rotatesprite x2 y 49152 1024 12137 shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2
        guniqhudid 22
        rotatesprite x2 y 49152 1024 tilenum shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2 // Left Gun
      break
    case 2
	  state gun_smoke_display
      displayrandvar weap_disp_temp 5
      add x weap_disp_temp
      add y weap_disp_temp

		ifand gun_firemode_two 2048
			{
			set tilenum 12135
			  add x2 1
			  add y 30
			  guniqhudid 20
			  rotatesprite x2 y 57344 1024 C_PISTOL_L 0 67 4100 windowx1 windowy1 windowx2 windowy2 // Left hand
			  sub x2 1
			  sub y 30
			  guniqhudid 21
			  rotatesprite x2 y 49152 1024 12137 0 67 4100 windowx1 windowy1 windowx2 windowy2 // supressor
			  guniqhudid 22
			   rotatesprite x2 y 49152 1024 tilenum 0 67 4100 windowx1 windowy1 windowx2 windowy2 // Left Gun
			}
		else
			{
			set tilenum 12136
			  sub y 45
			   set x2 110
			  sub x2 wepsway_x
			  add x2 weapon_xoffset
			  add x2 looking_angSR1
			  guniqhudid 27
			  rotatespritea x2 y 14000 rot_flash 16115 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
			  add y 45
			  set x2 70
			  sub x2 wepsway_x
			  add x2 weapon_xoffset
			  sub x2 looking_angSR1
			  add x2 1
			  add y 30
			  guniqhudid 20
			  rotatesprite x2 y 57344 1024 C_PISTOL_L 0 107 4100 windowx1 windowy1 windowx2 windowy2 // Left hand
			  sub x2 1
			  sub y 30
			  guniqhudid 21
			   rotatesprite x2 y 49152 1024 tilenum 0 0 4100 windowx1 windowy1 windowx2 windowy2 // Left Gun

		  }
      break
    case 6
    case 7
    case 8
		  guniqhudid 20
		  ifand gun_firemode_two 2048 rotatesprite x2 y 49152 960 12715 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
          add y 30
          ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
          guniqhudid 21
          rotatesprite x2 y 40960 840 tilenum shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2
          sub y 30
          guniqhudid 22
          rotatesprite x2 y 49152 1024 6229 shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2
      break
    case 9
    case 10
    case 11
		  add y 5
		  add x2 5
		  guniqhudid 20
		   ifand gun_firemode_two 2048 rotatesprite x2 y 49152 928 12715 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
          add y 30
          ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
          guniqhudid 21
          rotatesprite x2 y 40960 820 tilenum shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2
          sub y 30
          guniqhudid 22
          rotatesprite x2 y 49152 928 6229 shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2
      break
    case 12
    case 13
    case 14
		  sub y 15
		  sub x2 5
		  guniqhudid 20
		  ifand gun_firemode_two 2048 rotatesprite x2 y 49152 1040 12173 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
		  guniqhudid 21
		  rotatesprite x2 y 49152 1040 6227 shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2
      break
    case 15
    case 16
    case 17
		  sub y 15
		  sub x2 5
		  guniqhudid 20
		  ifand gun_firemode_two 2048 rotatesprite x2 y 49152 1024 12173 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
		  guniqhudid 21
		  rotatesprite x2 y 49152 1024 6227 shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2
      break
    case 18
    case 19
    case 20
    case 21
		  sub y 15
		  add x2 10
		  guniqhudid 20
		  ifand gun_firemode_two 2048 rotatesprite x2 y 49152 1024 12174 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
		  guniqhudid 21
		  rotatesprite x2 y 49152 1024 6228 shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2
      break
    case 22
    case 23
    case 24
		  sub y 5
		  sub x2 5
		  guniqhudid 20
		  ifand gun_firemode_two 2048 rotatesprite x2 y 49152 928 12175 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
          add y 30
          ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
          guniqhudid 21
          rotatesprite x2 y 40960 820 tilenum shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2
          sub y 30
          guniqhudid 22
          rotatesprite x2 y 49152 928 6229 shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2
      break
    case 25
    case 26
    case 27
    case 28
    case 29
    case 30
		    sub y 5
		    sub x2 5
		    guniqhudid 20
		    ifand gun_firemode_two 2048 rotatesprite x2 y 49152 960 12175 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
			add y 30
			ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
			guniqhudid 21
			rotatesprite x2 y 40960 840 tilenum shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2
			sub y 30
			guniqhudid 22
			rotatesprite x2 y 49152 960 6229 shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2
      break
    case 31
    case 32
    case 33
    case 34
    case 35
		  sub y 5
		  sub x2 5
		  guniqhudid 22
		  ifand gun_firemode_two 2048 rotatesprite x2 y 49152 1024 12175 shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2
			add y 30
			ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
			guniqhudid 21
			rotatesprite x2 y 40960 904 tilenum shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2
			sub y 30
			guniqhudid 22
			rotatesprite x2 y 49152 1024 6229 shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2
      break
	endswitch
	add y 20
	}
else // just display his left hand like normal
  ife HANDS_DRAW 2
  ifn weaponcount 1
   ifn weaponcount 2
  {
  set x2 95
  sub x2 wepsway_x
  add x2 weapon_xoffset
  sub x2 looking_angSR1
  sub x2 weaponcount
  state wep_drawup
  ifand CHAR_APP 2
    {
    clamp y2 174 320
    guniqhudid 20
    rotatesprite x2 y2 49152 weap_disp_temp2 23836 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    }
  else
    {
    clamp y2 172 320
    guniqhudid 20
    rotatesprite x2 y2 49152 weap_disp_temp2 6144 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    }
  }
ends

defstate drawspell1
guniqhudid 0
  set y 253
  //add y looking_arc
  sub y wepsway_y
  sub y gun_pos

  set y2 253
  //add y looking_arc
  sub y2 wepsway_y
  sub y2 gun_pos
  add y2 weaponcount


  ifl ALT_ANIM 20
   {
   add ALT_ANIM 1
   ifg ALT_ANIM 15 set weap_disp_temp3 4129
   else ifg ALT_ANIM 10 set weap_disp_temp3 4097
   else set weap_disp_temp3 4096
   set weap_disp_temp5 ALT_ANIM
   mulvar weap_disp_temp5 1200
   add weap_disp_temp5 52000
   guniqhudid 21
   rotatespritea 160 170 weap_disp_temp5 0 6335 ALT_ANIM 0 weap_disp_temp3 -255 windowx1 windowy1 windowx2 windowy2
   }


  ifl ALT_ANIM_2 20
   {
   add ALT_ANIM_2 1
   ifg ALT_ANIM_2 15 set weap_disp_temp3 4129
   else ifg ALT_ANIM_2 10 set weap_disp_temp3 4097
   else set weap_disp_temp3 4096

   set weap_disp_temp5 ALT_ANIM_2
   mulvar weap_disp_temp5 1200
   add weap_disp_temp5 40960
   guniqhudid 22
   rotatespritea 160 170 weap_disp_temp5 0 6335 ALT_ANIM_2 0 weap_disp_temp3 -255 windowx1 windowy1 windowx2 windowy2
   }

state sang_offhand_uzi_disp

ifand CHAR_APP 2
    switch weaponcount
    case 0
      set x 255
      sub x wepsway_x
      sub x weapon_xoffset
      sub x looking_angSR1
      state wep_drawup
      clamp y 162 320
      ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 23843 else set tilenum 23837
      guniqhudid 10
      rotatesprite x y 49152 weap_disp_temp2 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 1
    case 2
      set x 135
      sub y 40
      sub x wepsway_x
      add x weapon_xoffset
      sub x looking_angSR1
      clamp y 174 320
      ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 23882 else set tilenum 23838
      guniqhudid 10
      rotatesprite x y 49152 0 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    break
    case 3
    case 7
      set x 205
      sub y 40
      sub x wepsway_x
      add x weapon_xoffset
      sub x looking_angSR1
      clamp y 140 320
      ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 23844 else set tilenum 23839
      guniqhudid 10
      rotatesprite x y 49152 0 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      guniqhudid 11
      rotatespritea x y 49152 0 6150 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
     break
    case 4
    case 6
      set x 205
      sub y 40
      sub x wepsway_x
      add x weapon_xoffset
      sub x looking_angSR1
      clamp y 140 320
      ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 23876 else set tilenum 23876
      guniqhudid 10
      rotatesprite x y 49152 0 tilenum 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      guniqhudid 11
      rotatespritea x y 49152 0 6150 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
     break
    case 5
      set x 205
      sub y 40
      sub x wepsway_x
      add x weapon_xoffset
      sub x looking_angSR1
      clamp y 140 320
      ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 23845 else set tilenum 23840
      guniqhudid 10
      rotatesprite x y 49152 0 tilenum 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
     break
    endswitch
else
    switch weaponcount
    case 0
      set x 255
      sub x wepsway_x
      sub x weapon_xoffset
      sub x looking_angSR1
      state wep_drawup
      clamp y 162 320
      ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 13490 else set tilenum 6145
      guniqhudid 10
      rotatesprite x y 49152 weap_disp_temp2 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 1
    case 2
      set x 135
      sub y 40
      sub x wepsway_x
      add x weapon_xoffset
      sub x looking_angSR1
      clamp y 174 320
      ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 13491 else set tilenum 6146
      guniqhudid 10
      rotatesprite x y 49152 0 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    break
    case 3
    case 7
      set x 205
      sub y 40
      sub x wepsway_x
      add x weapon_xoffset
      sub x looking_angSR1
      clamp y 140 320
      ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 13492 else set tilenum 6147
      guniqhudid 10
      rotatesprite x y 49152 0 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      guniqhudid 11
      rotatespritea x y 49152 0 6150 0 wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
     break
    case 4
    case 6
      set x 205
      sub y 40
      sub x wepsway_x
      add x weapon_xoffset
      sub x looking_angSR1
      clamp y 140 320
      ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 13493 else set tilenum 6148
      guniqhudid 10
      rotatesprite x y 49152 0 tilenum 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      guniqhudid 11
      rotatespritea x y 49152 0 6150 0 wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
     break
    case 5
      set x 205
      sub y 40
      sub x wepsway_x
      add x weapon_xoffset
      sub x looking_angSR1
      clamp y 140 320
      ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 13494 else set tilenum 6149
      guniqhudid 10
      rotatesprite x y 49152 0 tilenum 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
     break
    endswitch
guniqhudid 0
ends

// SANG GOLD SPELL 1===============================================================================================================

defstate draw_gold_spell1
guniqhudid 0
  set y 253
  //add y looking_arc
  sub y wepsway_y
  sub y gun_pos

  set y2 253
  //add y looking_arc
  sub y2 wepsway_y
  sub y2 gun_pos
  add y2 weaponcount

  ifl ALT_ANIM 20
   {
   add ALT_ANIM 1
   ifg ALT_ANIM 15 set weap_disp_temp3 4129
   else ifg ALT_ANIM 10 set weap_disp_temp3 4097
   else set weap_disp_temp3 4096

   set weap_disp_temp5 ALT_ANIM
   mulvar weap_disp_temp5 1200
   add weap_disp_temp5 32000
   guniqhudid 21
   rotatespritea 160 170 weap_disp_temp5 0 6335 ALT_ANIM 0 weap_disp_temp3 -255 windowx1 windowy1 windowx2 windowy2
   }


  ifl ALT_ANIM_2 20
   {
   add ALT_ANIM_2 1
   ifg ALT_ANIM_2 15 set weap_disp_temp3 4129
   else ifg ALT_ANIM_2 10 set weap_disp_temp3 4097
   else set weap_disp_temp3 4096

   set weap_disp_temp5 ALT_ANIM_2
   mulvar weap_disp_temp5 1200
   add weap_disp_temp5 32000
   guniqhudid 22
   rotatespritea 160 170 weap_disp_temp5 0 6335 ALT_ANIM_2 0 weap_disp_temp3 -255 windowx1 windowy1 windowx2 windowy2
   }

state sang_offhand_uzi_disp

ifand CHAR_APP 2
    switch weaponcount
    case 0
      set x 255
      sub x wepsway_x
      sub x weapon_xoffset
      sub x looking_angSR1
      state wep_drawup
      guniqhudid 10
      rotatesprite x y NNORMALSIZE weap_disp_temp2 23843 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      add x 5
      state do_gold_sparkle
      sub x 5
      break
    case 1
    case 2
      set x 135
      sub x wepsway_x
      add x weapon_xoffset
      sub x looking_angSR1
      guniqhudid 10
      rotatesprite x y NNORMALSIZE 0 23838 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    break
    case 7
      set x 175
      sub x wepsway_x
      add x weapon_xoffset
      sub x looking_angSR1
      guniqhudid 10
       rotatesprite x y NNORMALSIZE 0 23844 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
     break
    case 3
    case 4
      set x 175
      sub x wepsway_x
      add x weapon_xoffset
      sub x looking_angSR1
      guniqhudid 10
      rotatesprite x y NNORMALSIZE 0 23845 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
     break
    case 5
      set x 175
      sub x wepsway_x
      add x weapon_xoffset
      sub x looking_angSR1
      guniqhudid 10
      rotatesprite x y NNORMALSIZE 0 23845 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
     break
    endswitch
else
    switch weaponcount
    case 0
      set x 255
      sub x wepsway_x
      sub x weapon_xoffset
      sub x looking_angSR1
      state wep_drawup
      guniqhudid 10
      rotatesprite x y NNORMALSIZE weap_disp_temp2 13490 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      add x 5
      state do_gold_sparkle
      sub x 5
      break
    case 1
    case 2
      set x 135
      sub x wepsway_x
      add x weapon_xoffset
      sub x looking_angSR1
      guniqhudid 10
      rotatesprite x y NNORMALSIZE 0 13491 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    break
    case 7
      set x 175
      sub x wepsway_x
      add x weapon_xoffset
      sub x looking_angSR1
      guniqhudid 10
      rotatesprite x y NNORMALSIZE 0 13492 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
     break
    case 3
    case 4
      set x 175
      sub x wepsway_x
      add x weapon_xoffset
      sub x looking_angSR1
      guniqhudid 10
      rotatesprite x y NNORMALSIZE 0 13493 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
     break
    case 5
      set x 175
      sub x wepsway_x
      add x weapon_xoffset
      sub x looking_angSR1
      guniqhudid 10
      rotatesprite x y NNORMALSIZE 0 13494 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
     break
    endswitch
guniqhudid 0
ends

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// SLOT 2 WEAPONS
//
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

// SANG SPELL 2===============================================================================================================

defstate drawspell2

  set y 255
  sub y wepsway_y
  //add y looking_arc
  sub y gun_pos

  set x 155
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set x2 205
  sub x2 wepsway_x
  sub x2 weapon_xoffset
  sub x2 looking_angSR1


switch weaponcount
case 0
  ifn SPECIALIST_EQUIPMENT[17] 2 soundonce SPELL2AMB
  displayrandvar weap_disp_temp6 5
  add x weap_disp_temp6
  displayrandvar weap_disp_temp7 5
  add y weap_disp_temp7

 ifand CHAR_APP 2
  {
  guniqhudid 20
  rotatespritea x y 40960 0 23855 0 1 4129 -255 windowx1 windowy1 windowx2 windowy2 // left hand glow
  guniqhudid 21
  rotatesprite x y 32768 0 23855 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // left hand
  }
 else
  {
  guniqhudid 20
  rotatespritea x y 40960 0 6186 0 1 4129 -255 windowx1 windowy1 windowx2 windowy2 // left hand glow
  guniqhudid 21
  rotatesprite x y 32768 0 6186 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // left hand
  }


  ife weap_disp_temp8 0
  {
  add weap_disp_temp9 1
  ifg weap_disp_temp9 64 set weap_disp_temp8 1
  }
  else
  {
  sub weap_disp_temp9 1
  ifl weap_disp_temp9 32 set weap_disp_temp8 0
  }

  set weap_disp_temp4 weap_disp_temp9
  mulvar weap_disp_temp4 1024

  ifg weap_disp_temp4 66560 { set weap_disp_temp4 66560 set weap_disp_temp8 0 }
  displayrandvar rot_flash 2048
  ife SPECIALIST_EQUIPMENT[17] 2 set tilenum 7160 else set tilenum 6197 // Ice spell?
  guniqhudid 16
  rotatespritea 160 y weap_disp_temp4 rot_flash 8623 0 1 4129 -255 windowx1 windowy1 windowx2 windowy2 // Lightning ball glow
  guniqhudid 17
  rotatespritea 160 y weap_disp_temp4 rot_flash tilenum 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2 // Lightning ball


  displayrandvar weap_disp_temp6 5
  sub x2 weap_disp_temp6
  displayrandvar weap_disp_temp7 5
  sub y weap_disp_temp7
  sub x2 20

    ifand CHAR_APP 2
     {
     guniqhudid 10
     rotatespritea x2 y 49152 0 23856 0 1 4129 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
     guniqhudid 11
     rotatesprite x2 y 40960 0 23856 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
     }
     else
  ife SPECIALIST_EQUIPMENT[40] 2 // Gold ring?
      {
      guniqhudid 10
      rotatespritea x2 y 49152 0 13504 0 1 4129 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
      guniqhudid 11
      rotatesprite x2 y 40960 0 13504 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
      add x2 35
      sub y 15
      state do_gold_sparkle2
      sub x2 35
      add y 15
      }
  else
      {
      guniqhudid 10
      rotatespritea x2 y 49152 0 6187 0 1 4129 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
      guniqhudid 11
      rotatesprite x2 y 40960 0 6187 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  break
case 1
case 2
case 3
  displayrandvar weap_disp_temp6 2
  add x weap_disp_temp6
  displayrandvar weap_disp_temp7 2
  add y weap_disp_temp7
  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 4
  sub x weap_disp_temp
  ifand CHAR_APP 2
  {
  guniqhudid 20
  rotatespritea x y 49152 0 23857 0 1 4129 -255 windowx1 windowy1 windowx2 windowy2 // left hand glow
  guniqhudid 21
  rotatesprite x y 40960 0 23857 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // left hand
  }
  else
  {
  guniqhudid 20
  rotatespritea x y 49152 0 6188 0 1 4129 -255 windowx1 windowy1 windowx2 windowy2 // left hand glow
  guniqhudid 21
  rotatesprite x y 40960 0 6188 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // left hand
  }

  displayrandvar rot_flash 2048
  set weap_disp_temp2 y
 set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  sub weap_disp_temp2 weap_disp_temp
  ife SPECIALIST_EQUIPMENT[17] 2 set tilenum 7160 else set tilenum 6197 // Ice spell?
  guniqhudid 15
  rotatespritea 160 weap_disp_temp2 68638 rot_flash 8623 0 1 4129 -255 windowx1 windowy1 windowx2 windowy2 // Lightning ball glow
  guniqhudid 16
  rotatespritea 160 weap_disp_temp2 64638 rot_flash tilenum 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2 // Lightning ball


  displayrandvar weap_disp_temp6 2
  sub x weap_disp_temp6
  displayrandvar weap_disp_temp7 2
  sub y weap_disp_temp7

  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 4
  add x weap_disp_temp
  ifand CHAR_APP 2
      {
      guniqhudid 10
      rotatespritea x y 49152 0 23858 0 1 4129 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
      guniqhudid 11
      rotatesprite x y 40960 0 23858 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  else
  ife SPECIALIST_EQUIPMENT[40] 2 // gold ring?
      {
      guniqhudid 10
      rotatespritea x y 49152 0 13505 0 1 4129 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
      guniqhudid 11
      rotatesprite x y 40960 0 13505 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  else
      {
      guniqhudid 10
      rotatespritea x y 49152 0 6189 0 1 4129 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
      guniqhudid 11
      rotatesprite x y 40960 0 6189 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  break
case 4
  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  sub x weap_disp_temp
  ifand CHAR_APP 2
      {
      guniqhudid 20
      rotatespritea x y 49152 0 23859 0 1 4129 -255 windowx1 windowy1 windowx2 windowy2 // left hand glow
      guniqhudid 21
      rotatesprite x y 40960 0 23859 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // left hand
      }
  else
      {
      guniqhudid 20
      rotatespritea x y 49152 0 6192 0 1 4129 -255 windowx1 windowy1 windowx2 windowy2 // left hand glow
      guniqhudid 21
      rotatesprite x y 40960 0 6192 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // left hand
      }

  sub y 40
  displayrandvar rot_flash 2048
  ife SPECIALIST_EQUIPMENT[17] 2 set tilenum 7160 else set tilenum 6197 // Ice spell?
  guniqhudid 16
  rotatespritea 160 y NNORMALSIZE rot_flash 8623 0 1 4129 -255 windowx1 windowy1 windowx2 windowy2 // Lightning ball glow
  guniqhudid 17
  rotatespritea 160 y NORMALSIZE rot_flash tilenum 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2 // Lightning ball
  add y 40

  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  add x weap_disp_temp
  ifand CHAR_APP 2
  {
  guniqhudid 10
  rotatespritea x y 49152 0 23860 0 1 4129 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
  guniqhudid 11
  rotatesprite x y 40960 0 23860 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  else
  ife SPECIALIST_EQUIPMENT[40] 2 // Gold ring?
  {
  guniqhudid 10
  rotatespritea x y 49152 0 13506 0 1 4129 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
  guniqhudid 11
  rotatesprite x y 40960 0 13506 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  else
  {
  guniqhudid 10
  rotatespritea x y 49152 0 6193 0 1 4129 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
  guniqhudid 11
  rotatesprite x y 40960 0 6193 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  break
case 5
case 6
case 7
  sub x 50
  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  sub x weap_disp_temp
  displayrandvar rot_flash 2048
  guniqhudid 19
  rotatespritea x y 84638 rot_flash 15845 0 0 4097 -255 windowx1 windowy1 windowx2 windowy2 // Electricity arc
  ifand CHAR_APP 2
      {
      guniqhudid 20
      rotatespritea x y 49152 0 23859 0 1 4097 -255 windowx1 windowy1 windowx2 windowy2 // left hand
      guniqhudid 21
      rotatesprite x y 40960 0 23859 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // left hand
      }
  else
      {
      guniqhudid 20
      rotatespritea x y 49152 0 6192 0 1 4097 -255 windowx1 windowy1 windowx2 windowy2 // left hand
      guniqhudid 21
      rotatesprite x y 40960 0 6192 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // left hand
      }

  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  add x2 weap_disp_temp
  displayrandvar rot_flash 2048
  guniqhudid 16
  rotatespritea x2 y 84638 rot_flash 15845 0 0 4097 -255 windowx1 windowy1 windowx2 windowy2 // Electricity arc

  ifand CHAR_APP 2
      {
      guniqhudid 10
      rotatespritea x2 y 49152 0 23860 0 1 4097 -255 windowx1 windowy1 windowx2 windowy2 // right hand
      guniqhudid 11
      rotatesprite x2 y 40960 0 23860 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  else
  ife SPECIALIST_EQUIPMENT[40] 2 // Gold ring?
      {
      guniqhudid 10
      rotatespritea x2 y 49152 0 13506 0 1 4097 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
      guniqhudid 11
      rotatesprite x2 y 40960 0 13506 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  else
      {
      guniqhudid 10
      rotatespritea x2 y 49152 0 6193 0 1 4097 -255 windowx1 windowy1 windowx2 windowy2 // right hand
      guniqhudid 11
      rotatesprite x2 y 40960 0 6193 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  break
case 8
case 9
case 10
  sub x 50
  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  sub x weap_disp_temp
  ifand CHAR_APP 2
      {
      rotatespritea x y 49152 0 23859 0 1 4129 -255 windowx1 windowy1 windowx2 windowy2 // left hand
      guniqhudid 20
      rotatesprite x y 40960 0 23861 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // left hand
      guniqhudid 21
      }
  else
      {
      guniqhudid 20
      rotatespritea x y 49152 0 6192 0 1 4129 -255 windowx1 windowy1 windowx2 windowy2 // left hand
      guniqhudid 21
      rotatesprite x y 40960 0 6194 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // left hand
      }
  displayrandvar rot_flash 2048
  guniqhudid 16
  rotatespritea x y 84638 rot_flash 15845 0 0 4129 -255 windowx1 windowy1 windowx2 windowy2 // Electricity arc

  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  add x2 weap_disp_temp
  ifand CHAR_APP 2
      {
      guniqhudid 10
      rotatespritea x2 y 49152 0 23860 0 1 4129 -255 windowx1 windowy1 windowx2 windowy2 // right hand
      guniqhudid 11
      rotatesprite x2 y 40960 0 23862 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  else
  ife SPECIALIST_EQUIPMENT[40] 2 // Gold ring
      {
      guniqhudid 10
      rotatespritea x2 y 49152 0 13506 0 1 4129 -255 windowx1 windowy1 windowx2 windowy2 // right hand
      guniqhudid 11
      rotatesprite x2 y 40960 0 13507 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  else
      {
      guniqhudid 10
      rotatespritea x2 y 49152 0 6193 0 1 4129 -255 windowx1 windowy1 windowx2 windowy2 // right hand
      guniqhudid 11
      rotatesprite x2 y 40960 0 6195 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  displayrandvar rot_flash 2048
  guniqhudid 12
  rotatespritea x2 y 84638 rot_flash 15845 0 0 4129 -255 windowx1 windowy1 windowx2 windowy2 // Electricity arc

  break
case 11
case 12
case 13
  sub x 50
  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  sub x weap_disp_temp
  guniqhudid 20
  ifand CHAR_APP 2 rotatesprite x y 40960 0 23861 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // left hand
  else rotatesprite x y 40960 0 6194 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // left hand

  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  add x2 weap_disp_temp
  guniqhudid 10
  ifand CHAR_APP 2 rotatesprite x2 y 40960 0 23862 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
  else ife SPECIALIST_EQUIPMENT[40] 2 rotatesprite x2 y 40960 0 13507 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
  else rotatesprite x2 y 40960 0 6195 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
  break
case 14
  sub x 50
  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  sub x weap_disp_temp
  guniqhudid 10
  ifand CHAR_APP 2 rotatesprite x y 40960 0 23861 shade wep_pal 4129 windowx1 windowy1 windowx2 windowy2 // left hand
  else rotatesprite x y 40960 0 6194 shade wep_pal 4129 windowx1 windowy1 windowx2 windowy2 // left hand

  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  add x2 weap_disp_temp
  guniqhudid 20
  ifand CHAR_APP 2 rotatesprite x2 y 40960 0 23862 shade wep_pal 4129 windowx1 windowy1 windowx2 windowy2 // right hand
  else ife SPECIALIST_EQUIPMENT[40] 2 rotatesprite x2 y 40960 0 13507 shade wep_pal 4129 windowx1 windowy1 windowx2 windowy2 // right hand
  else rotatesprite x2 y 40960 0 6195 shade wep_pal 4129 windowx1 windowy1 windowx2 windowy2 // right hand

  sub y 5
  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  add x weap_disp_temp
  guniqhudid 11
  ifand CHAR_APP 2 rotatesprite x y 40960 0 23857 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  else rotatesprite x y 40960 0 6188 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // left hand

  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  sub x2 weap_disp_temp
  guniqhudid 21
  ifand CHAR_APP 2 rotatesprite x2 y 40960 0 23858 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  else ife SPECIALIST_EQUIPMENT[40] 2 rotatesprite x2 y 40960 0 13505 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
  else rotatesprite x2 y 40960 0 6189 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
  break
case 15
case 16
case 17
case 18
  sub y 5
  sub x 80
  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  add x weap_disp_temp
  guniqhudid 20
  ifand CHAR_APP 2 rotatesprite x y 40960 0 23857 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  else rotatesprite x y 40960 0 6188 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // left hand

  add x2 40
  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  sub x2 weap_disp_temp
  guniqhudid 10
  ifand CHAR_APP 2 rotatesprite x2 y 40960 0 23858 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  else ife SPECIALIST_EQUIPMENT[40] 2 rotatesprite x2 y 40960 0 13505 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
  else rotatesprite x2 y 40960 0 6189 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
  break
case 19
case 20
case 21
case 22
case 23
case 24
  sub y 5
  sub x 80
  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  add x weap_disp_temp
  ifand CHAR_APP 2
  {
  guniqhudid 20
  ifg kickbackpic 21 rotatespritea x y 40960 0 23855 0 1 4097 -255 windowx1 windowy1 windowx2 windowy2 // left hand
  guniqhudid 21
  rotatesprite x y 32768 0 23855 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // left hand
  }
  else
  {
  guniqhudid 20
  ifg kickbackpic 21 rotatespritea x y 40960 0 6186 0 1 4097 -255 windowx1 windowy1 windowx2 windowy2 // left hand
  guniqhudid 21
  rotatesprite x y 32768 0 6186 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // left hand
  }


  add x 15
  set weap_disp_temp4 kickbackpic
  mulvar weap_disp_temp4 1024
  set weap_disp_temp9 31

  displayrandvar rot_flash 2048
  ife SPECIALIST_EQUIPMENT[17] 2 set tilenum 7160 else set tilenum 6197 // Ice spell?
  guniqhudid 16
  rotatespritea 160 y weap_disp_temp4 rot_flash 8623 0 1 4129 -255 windowx1 windowy1 windowx2 windowy2 // Lightning ball glow
  guniqhudid 17
  rotatespritea 160 y weap_disp_temp4 rot_flash tilenum 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2 // Lightning ball


  add x2 40
  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  sub x2 weap_disp_temp
  ifand CHAR_APP 2
  {
  guniqhudid 10
  ifg kickbackpic 21 rotatesprite x2 y 49152 0 23856 0 1 4107 windowx1 windowy1 windowx2 windowy2 // right hand
  guniqhudid 11
  rotatesprite x2 y 40960 0 23856 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  else
  ife SPECIALIST_EQUIPMENT[40] 2
  {
  guniqhudid 10
  ifg kickbackpic 21 rotatesprite x2 y 49152 0 13504 0 1 4107 windowx1 windowy1 windowx2 windowy2 // right hand
  guniqhudid 11
  rotatesprite x2 y 40960 0 13504 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  else
  {
  guniqhudid 10
  ifg kickbackpic 21 rotatesprite x2 y 49152 0 6187 0 1 4107 windowx1 windowy1 windowx2 windowy2 // right hand
  guniqhudid 11
  rotatesprite x2 y 40960 0 6187 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  break
endswitch
guniqhudid 0
ends

defstate draw_spell2_fire

  set y 255
  sub y wepsway_y
  //add y looking_arc
  sub y gun_pos

  set x 155
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set x2 205
  sub x2 wepsway_x
  sub x2 weapon_xoffset
  sub x2 looking_angSR1


switch weaponcount
case 0
  ifn SPECIALIST_EQUIPMENT[17] 2 soundonce SPELL2AMB
  displayrandvar weap_disp_temp6 5
  add x weap_disp_temp6
  displayrandvar weap_disp_temp7 5
  add y weap_disp_temp7

 ifand CHAR_APP 2
  {
  guniqhudid 20
  rotatespritea x y 40960 0 23855 0 2 4129 -255 windowx1 windowy1 windowx2 windowy2 // left hand glow
  guniqhudid 21
  rotatesprite x y 32768 0 23855 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // left hand
  }
 else
  {
  guniqhudid 20
  rotatespritea x y 40960 0 6186 0 2 4129 -255 windowx1 windowy1 windowx2 windowy2 // left hand glow
  guniqhudid 21
  rotatesprite x y 32768 0 6186 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // left hand
  }


  ife weap_disp_temp8 0
  {
  add weap_disp_temp9 1
  ifg weap_disp_temp9 64 set weap_disp_temp8 1
  }
  else
  {
  sub weap_disp_temp9 1
  ifl weap_disp_temp9 32 set weap_disp_temp8 0
  }

  set weap_disp_temp4 weap_disp_temp9
  mulvar weap_disp_temp4 1024

  ifg weap_disp_temp4 66560 { set weap_disp_temp4 66560 set weap_disp_temp8 0 }
  displayrandvar rot_flash 2048
  guniqhudid 16
  rotatespritea 160 y weap_disp_temp4 rot_flash 8623 0 2 4129 -255 windowx1 windowy1 windowx2 windowy2 // fireball glow
  guniqhudid 17
  rotatespritea 160 y weap_disp_temp4 rot_flash 18114 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2 // fireball

  displayrandvar weap_disp_temp6 5
  sub x2 weap_disp_temp6
  displayrandvar weap_disp_temp7 5
  sub y weap_disp_temp7
  sub x2 20

    ifand CHAR_APP 2
     {
     guniqhudid 10
     rotatespritea x2 y 49152 0 23856 weap_disp_temp5 2 4129 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
     guniqhudid 11
     rotatesprite x2 y 40960 0 23856 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
     }
     else
  ife SPECIALIST_EQUIPMENT[40] 2 // Gold ring?
      {
      guniqhudid 10
      rotatespritea x2 y 49152 0 13504 weap_disp_temp5 2 4129 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
      guniqhudid 11
      rotatesprite x2 y 40960 0 13504 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
      add x2 35
      sub y 15
      state do_gold_sparkle2
      sub x2 35
      add y 15
      }
  else
      {
      guniqhudid 10
      rotatespritea x2 y 49152 0 6187 weap_disp_temp5 2 4129 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
      guniqhudid 11
      rotatesprite x2 y 40960 0 6187 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  break
case 1
case 2
case 3
  displayrandvar weap_disp_temp6 2
  add x weap_disp_temp6
  displayrandvar weap_disp_temp7 2
  add y weap_disp_temp7
  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 4
  sub x weap_disp_temp
  ifand CHAR_APP 2
      {
      guniqhudid 20
      rotatespritea x y 49152 0 23857 0 2 4129 -255 windowx1 windowy1 windowx2 windowy2 // left hand glow
      guniqhudid 21
      rotatesprite x y 40960 0 23857 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // left hand
      }
  else
      {
      guniqhudid 20
      rotatespritea x y 49152 0 6188 0 2 4129 -255 windowx1 windowy1 windowx2 windowy2 // left hand glow
      guniqhudid 21
      rotatesprite x y 40960 0 6188 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // left hand
      }

  displayrandvar rot_flash 2048
  set weap_disp_temp2 y
 set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  sub weap_disp_temp2 weap_disp_temp
  guniqhudid 16
  rotatespritea 160 weap_disp_temp2 68638 rot_flash 8623 0 2 4129 -255 windowx1 windowy1 windowx2 windowy2 // fireball glow
  guniqhudid 17
  rotatespritea 160 weap_disp_temp2 64638 rot_flash 18114 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2 // fireball

  displayrandvar weap_disp_temp6 2
  sub x weap_disp_temp6
  displayrandvar weap_disp_temp7 2
  sub y weap_disp_temp7

  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 4
  add x weap_disp_temp
  ifand CHAR_APP 2
      {
      guniqhudid 10
      rotatespritea x y 49152 0 23858 0 2 4129 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
      guniqhudid 11
      rotatesprite x y 40960 0 23858 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  else
  ife SPECIALIST_EQUIPMENT[40] 2 // gold ring?
      {
      guniqhudid 10
      rotatespritea x y 49152 0 13505 0 2 4129 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
      guniqhudid 11
      rotatesprite x y 40960 0 13505 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  else
      {
      guniqhudid 10
      rotatespritea x y 49152 0 6189 0 2 4129 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
      guniqhudid 11
      rotatesprite x y 40960 0 6189 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  break
case 4
  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  sub x weap_disp_temp
  ifand CHAR_APP 2
      {
      guniqhudid 20
      rotatespritea x y 49152 0 23859 0 2 4129 -255 windowx1 windowy1 windowx2 windowy2 // left hand glow
      guniqhudid 21
      rotatesprite x y 40960 0 23859 shade 21 0 windowx1 windowy1 windowx2 windowy2 // left hand
      }
  else
      {
      guniqhudid 20
      rotatespritea x y 49152 0 6192 0 2 4129 -255 windowx1 windowy1 windowx2 windowy2 // left hand glow
      guniqhudid 21
      rotatesprite x y 40960 0 6192 shade 21 0 windowx1 windowy1 windowx2 windowy2 // left hand
      }

  sub y 40
  displayrandvar rot_flash 2048
  guniqhudid 16
  rotatespritea 160 y NNORMALSIZE rot_flash 8623 0 2 4129 -255 windowx1 windowy1 windowx2 windowy2 // Fire ball glow
  guniqhudid 17
  rotatespritea 160 y NORMALSIZE rot_flash 18114 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2 // Fire ball
  add y 40

  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  add x weap_disp_temp
  ifand CHAR_APP 2
      {
      guniqhudid 10
      rotatespritea x y 49152 0 23860 0 2 4129 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
      guniqhudid 11
      rotatesprite x y 40960 0 23860 shade 21 0 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  else
  ife SPECIALIST_EQUIPMENT[40] 2 // Gold ring?
      {
      guniqhudid 10
      rotatespritea x y 49152 0 13506 0 2 4129 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
      guniqhudid 11
      rotatesprite x y 40960 0 13506 shade 21 0 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  else
      {
      guniqhudid 10
      rotatespritea x y 49152 0 6193 0 2 4129 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
      guniqhudid 11
      rotatesprite x y 40960 0 6193 shade 21 0 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  break
case 5
case 6
case 7
  sub x 50
  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  sub x weap_disp_temp
  displayrandvar rot_flash 2048
  guniqhudid 12
  rotatespritea x y 84638 rot_flash 7047 0 0 4097 -255 windowx1 windowy1 windowx2 windowy2 // fire crackle
  ifand CHAR_APP 2
      {
      guniqhudid 20
      rotatespritea x y 49152 0 23859 0 2 4097 -255 windowx1 windowy1 windowx2 windowy2 // left hand
      guniqhudid 21
      rotatesprite x y 40960 0 23859 shade 21 0 windowx1 windowy1 windowx2 windowy2 // left hand
      }
  else
      {
      guniqhudid 20
      rotatespritea x y 49152 0 6192 0 2 4097 -255 windowx1 windowy1 windowx2 windowy2 // left hand
      guniqhudid 21
      rotatesprite x y 40960 0 6192 shade 21 0 windowx1 windowy1 windowx2 windowy2 // left hand
      }

  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  add x2 weap_disp_temp
  displayrandvar rot_flash 2048
  guniqhudid 22
  rotatespritea x2 y 84638 rot_flash 7047 0 0 4097 -255 windowx1 windowy1 windowx2 windowy2 // fire arc

  ifand CHAR_APP 2
      {
      guniqhudid 10
      rotatespritea x2 y 49152 0 23860 0 2 4097 -255 windowx1 windowy1 windowx2 windowy2 // right hand
      guniqhudid 11
      rotatesprite x2 y 40960 0 23860 shade 21 0 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  else
  ife SPECIALIST_EQUIPMENT[40] 2 // Gold ring?
      {
      guniqhudid 10
      rotatespritea x2 y 49152 0 13506 0 2 4097 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
      guniqhudid 11
      rotatesprite x2 y 40960 0 13506 shade 21 0 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  else
      {
      guniqhudid 10
      rotatespritea x2 y 49152 0 6193 0 2 4097 -255 windowx1 windowy1 windowx2 windowy2 // right hand
      guniqhudid 11
      rotatesprite x2 y 40960 0 6193 shade 21 0 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  break
case 8
case 9
case 10
  sub x 50
  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  sub x weap_disp_temp
  displayrandvar rot_flash 2048
  guniqhudid 12
  rotatespritea x y 84638 rot_flash 7047 0 0 4129 -255 windowx1 windowy1 windowx2 windowy2 // Fire arc
  ifand CHAR_APP 2
      {
      guniqhudid 20
      rotatespritea x y 49152 0 23859 0 2 4129 -255 windowx1 windowy1 windowx2 windowy2 // left hand
      guniqhudid 21
      rotatesprite x y 40960 0 23861 shade 21 0 windowx1 windowy1 windowx2 windowy2 // left hand
      }
  else
      {
      guniqhudid 20
      rotatespritea x y 49152 0 6192 0 2 4129 -255 windowx1 windowy1 windowx2 windowy2 // left hand
      guniqhudid 21
      rotatesprite x y 40960 0 6194 shade 21 0 windowx1 windowy1 windowx2 windowy2 // left hand
      }
  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  add x2 weap_disp_temp
  displayrandvar rot_flash 2048
  guniqhudid 16
  rotatespritea x2 y 84638 rot_flash 7047 0 0 4129 -255 windowx1 windowy1 windowx2 windowy2 // fire arc
  ifand CHAR_APP 2
      {
      guniqhudid 10
      rotatespritea x2 y 49152 0 23860 0 2 4129 -255 windowx1 windowy1 windowx2 windowy2 // right hand
      guniqhudid 11
      rotatesprite x2 y 40960 0 23862 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  else
  ife SPECIALIST_EQUIPMENT[40] 2 // Gold ring
      {
      guniqhudid 10
      rotatespritea x2 y 49152 0 13506 0 2 4129 -255 windowx1 windowy1 windowx2 windowy2 // right hand
      guniqhudid 11
      rotatesprite x2 y 40960 0 13507 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  else
      {
      guniqhudid 10
      rotatespritea x2 y 49152 0 6193 0 2 4129 -255 windowx1 windowy1 windowx2 windowy2 // right hand
      guniqhudid 11
      rotatesprite x2 y 40960 0 6195 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  break
case 11
case 12
case 13
  sub x 50
  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  sub x weap_disp_temp
  guniqhudid 20
  ifand CHAR_APP 2 rotatesprite x y 40960 0 23861 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // left hand
  else rotatesprite x y 40960 0 6194 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // left hand

  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  add x2 weap_disp_temp
  guniqhudid 10
  ifand CHAR_APP 2 rotatesprite x2 y 40960 0 23862 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
  else ife SPECIALIST_EQUIPMENT[40] 2 rotatesprite x2 y 40960 0 13507 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
  else rotatesprite x2 y 40960 0 6195 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
  break
case 14
  sub x 50
  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  sub x weap_disp_temp
  guniqhudid 20
  ifand CHAR_APP 2 rotatesprite x y 40960 0 23861 shade wep_pal 4129 windowx1 windowy1 windowx2 windowy2 // left hand
  else rotatesprite x y 40960 0 6194 shade wep_pal 4129 windowx1 windowy1 windowx2 windowy2 // left hand

  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  add x2 weap_disp_temp
  guniqhudid 10
  ifand CHAR_APP 2 rotatesprite x2 y 40960 0 23862 shade wep_pal 4129 windowx1 windowy1 windowx2 windowy2 // right hand
  else ife SPECIALIST_EQUIPMENT[40] 2 rotatesprite x2 y 40960 0 13507 shade wep_pal 4129 windowx1 windowy1 windowx2 windowy2 // right hand
  else rotatesprite x2 y 40960 0 6195 shade wep_pal 4129 windowx1 windowy1 windowx2 windowy2 // right hand

  sub y 5
  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  add x weap_disp_temp
  guniqhudid 21
  ifand CHAR_APP 2 rotatesprite x y 40960 0 23857 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  else rotatesprite x y 40960 0 6188 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // left hand

  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  sub x2 weap_disp_temp
  guniqhudid 11
  ifand CHAR_APP 2 rotatesprite x2 y 40960 0 23858 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  else ife SPECIALIST_EQUIPMENT[40] 2 rotatesprite x2 y 40960 0 13505 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
  else rotatesprite x2 y 40960 0 6189 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
  break
case 15
case 16
case 17
case 18
  sub y 5
  sub x 80
  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  add x weap_disp_temp
  guniqhudid 20
  ifand CHAR_APP 2 rotatesprite x y 40960 0 23857 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  else rotatesprite x y 40960 0 6188 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // left hand

  add x2 40
  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  sub x2 weap_disp_temp
  guniqhudid 10
  ifand CHAR_APP 2 rotatesprite x2 y 40960 0 23858 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  else ife SPECIALIST_EQUIPMENT[40] 2 rotatesprite x2 y 40960 0 13505 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
  else rotatesprite x2 y 40960 0 6189 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
  break
case 19
case 20
case 21
case 22
case 23
case 24
  sub y 5
  sub x 80
  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  add x weap_disp_temp
  ifand CHAR_APP 2
  {
  guniqhudid 20
  ifg kickbackpic 21 rotatespritea x y 40960 0 23855 0 2 4097 -255 windowx1 windowy1 windowx2 windowy2 // left hand
  guniqhudid 21
  rotatesprite x y 32768 0 23855 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // left hand
  }
  else
  {
  guniqhudid 20
  ifg kickbackpic 21 rotatespritea x y 40960 0 6186 0 2 4097 -255 windowx1 windowy1 windowx2 windowy2 // left hand
  guniqhudid 21
  rotatesprite x y 32768 0 6186 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // left hand
  }


  add x 15
  set weap_disp_temp4 kickbackpic
  mulvar weap_disp_temp4 1024
  set weap_disp_temp9 31

  displayrandvar rot_flash 2048
  guniqhudid 16
  rotatespritea 160 y weap_disp_temp4 rot_flash 8623 0 2 4129 -255 windowx1 windowy1 windowx2 windowy2 // fireball glow
  guniqhudid 17
  rotatespritea 160 y weap_disp_temp4 rot_flash 18114 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2 // fireball


  add x2 40
  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  sub x2 weap_disp_temp
  ifand CHAR_APP 2
      {
      guniqhudid 10
      ifg kickbackpic 21 rotatespritea x2 y 49152 0 23856 0 2 11 -255 windowx1 windowy1 windowx2 windowy2 // right hand
      guniqhudid 11
      rotatesprite x2 y 40960 0 23856 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  else
  ife SPECIALIST_EQUIPMENT[40] 2
      {
      guniqhudid 10
      ifg kickbackpic 21 rotatespritea x2 y 49152 0 13504 0 2 11 -255 windowx1 windowy1 windowx2 windowy2 // right hand
      guniqhudid 11
      rotatesprite x2 y 40960 0 13504 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  else
      {
      guniqhudid 10
      ifg kickbackpic 21 rotatespritea x2 y 49152 0 6187 0 2 11 -255 windowx1 windowy1 windowx2 windowy2 // right hand
      guniqhudid 11
      rotatesprite x2 y 40960 0 6187 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  break
endswitch
guniqhudid 0
ends

// SANG GOLD SPELL 2 ===============================================================================================================

defstate draw_spell2_gold
guniqhudid 0
  set y 255
  sub y wepsway_y
  //add y looking_arc
  sub y gun_pos

  set x 155
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set x2 205
  sub x2 wepsway_x
  sub x2 weapon_xoffset
  sub x2 looking_angSR1


switch weaponcount
case 0
  ifn SPECIALIST_EQUIPMENT[17] 2 soundonce SPELL2AMB
  displayrandvar weap_disp_temp6 5
  add x weap_disp_temp6
  displayrandvar weap_disp_temp7 5
  add y weap_disp_temp7

 ifand CHAR_APP 2
      {
      guniqhudid 20
      rotatespritea x y 40960 0 23855 0 19 4129 -255 windowx1 windowy1 windowx2 windowy2 // left hand glow
      guniqhudid 21
      rotatesprite x y 32768 0 23855 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // left hand
      }
 else
      {
      guniqhudid 20
      rotatespritea x y 40960 0 6186 0 19 4129 -255 windowx1 windowy1 windowx2 windowy2 // left hand glow
      guniqhudid 21
      rotatesprite x y 32768 0 6186 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // left hand
      }

  ife weap_disp_temp8 0
      {
      add weap_disp_temp9 1
      ifg weap_disp_temp9 64 set weap_disp_temp8 1
      }
  else
      {
      sub weap_disp_temp9 1
      ifl weap_disp_temp9 32 set weap_disp_temp8 0
      }

  set weap_disp_temp4 weap_disp_temp9
  mulvar weap_disp_temp4 1024

  ifg weap_disp_temp4 66560 { set weap_disp_temp4 66560 set weap_disp_temp8 0 }
  displayrandvar rot_flash 2048
  guniqhudid 16
  rotatespritea 160 y weap_disp_temp4 rot_flash 8623 0 19 4129 -255 windowx1 windowy1 windowx2 windowy2 // gold glow
  guniqhudid 17
  rotatespritea 160 y weap_disp_temp4 rot_flash 19806 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2 // gold

  displayrandvar weap_disp_temp6 5
  sub x2 weap_disp_temp6
  displayrandvar weap_disp_temp7 5
  sub y weap_disp_temp7
  sub x2 20

    ifand CHAR_APP 2
     {
     guniqhudid 10
     rotatespritea x2 y 49152 0 23856 weap_disp_temp5 19 4129 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
     guniqhudid 11
     rotatesprite x2 y 40960 0 23856 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
     }
     else
  ife SPECIALIST_EQUIPMENT[40] 2 // Gold ring?
      {
      guniqhudid 10
      rotatespritea x2 y 49152 0 13504 weap_disp_temp5 19 4129 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
      guniqhudid 11
      rotatesprite x2 y 40960 0 13504 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
      add x2 35
      sub y 15
      state do_gold_sparkle2
      sub x2 35
      add y 15
      }
  else
      {
      guniqhudid 10
      rotatespritea x2 y 49152 0 6187 weap_disp_temp5 19 4129 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
      guniqhudid 11
      rotatesprite x2 y 40960 0 6187 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  break
case 1
case 2
case 3
  displayrandvar weap_disp_temp6 2
  add x weap_disp_temp6
  displayrandvar weap_disp_temp7 2
  add y weap_disp_temp7
  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 4
  sub x weap_disp_temp
  ifand CHAR_APP 2
  {
  guniqhudid 20
  rotatespritea x y 49152 0 23857 0 19 4129 -255 windowx1 windowy1 windowx2 windowy2 // left hand glow
  guniqhudid 21
  rotatesprite x y 40960 0 23857 shade 22 0 windowx1 windowy1 windowx2 windowy2 // left hand
  }
  else
  {
  guniqhudid 20
  rotatespritea x y 49152 0 6188 0 19 4129 -255 windowx1 windowy1 windowx2 windowy2 // left hand glow
  guniqhudid 21
  rotatesprite x y 40960 0 6188 shade 22 0 windowx1 windowy1 windowx2 windowy2 // left hand
  }

  displayrandvar rot_flash 2048
  set weap_disp_temp2 y
 set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  sub weap_disp_temp2 weap_disp_temp
  guniqhudid 16
  rotatespritea 160 weap_disp_temp2 68638 rot_flash 8623 0 19 4129 -255 windowx1 windowy1 windowx2 windowy2 // gold ball glow
  guniqhudid 17
  rotatespritea 160 weap_disp_temp2 64638 rot_flash 19806 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2 // gold ball

  displayrandvar weap_disp_temp6 2
  sub x weap_disp_temp6
  displayrandvar weap_disp_temp7 2
  sub y weap_disp_temp7

  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 4
  add x weap_disp_temp
  ifand CHAR_APP 2
      {
      guniqhudid 10
      rotatespritea x y 49152 0 23858 0 19 4129 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
      guniqhudid 11
      rotatesprite x y 40960 0 23858 shade 22 0 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  else
  ife SPECIALIST_EQUIPMENT[40] 2 // gold ring?
      {
      guniqhudid 10
      rotatespritea x y 49152 0 13505 0 19 4129 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
      guniqhudid 11
      rotatesprite x y 40960 0 13505 shade 22 0 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  else
      {
      guniqhudid 10
      rotatespritea x y 49152 0 6189 0 19 4129 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
      guniqhudid 11
      rotatesprite x y 40960 0 6189 shade 22 0 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  break
case 4
  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  sub x weap_disp_temp
  ifand CHAR_APP 2
      {
      guniqhudid 20
      rotatespritea x y 49152 0 23859 0 19 4129 -255 windowx1 windowy1 windowx2 windowy2 // left hand glow
      guniqhudid 21
      rotatesprite x y 40960 0 23859 shade 22 0 windowx1 windowy1 windowx2 windowy2 // left hand
      }
  else
      {
      guniqhudid 20
      rotatespritea x y 49152 0 6192 0 19 4129 -255 windowx1 windowy1 windowx2 windowy2 // left hand glow
      guniqhudid 21
      rotatesprite x y 40960 0 6192 shade 22 0 windowx1 windowy1 windowx2 windowy2 // left hand
      }

  sub y 40
  displayrandvar rot_flash 2048
  guniqhudid 16
  rotatespritea 160 y NNORMALSIZE rot_flash 8623 0 19 4129 -255 windowx1 windowy1 windowx2 windowy2 // Goldball glow
  guniqhudid 17
  rotatespritea 160 y NORMALSIZE rot_flash 19806 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2 // goldball
  add y 40

  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  add x weap_disp_temp
  ifand CHAR_APP 2
      {
      guniqhudid 10
      rotatespritea x y 49152 0 23860 0 19 4129 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
      guniqhudid 11
      rotatesprite x y 40960 0 23860 shade 22 0 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  else
  ife SPECIALIST_EQUIPMENT[40] 2 // Gold ring?
      {
      guniqhudid 10
      rotatespritea x y 49152 0 13506 0 19 4129 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
      guniqhudid 11
      rotatesprite x y 40960 0 13506 shade 22 0 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  else
      {
      guniqhudid 10
      rotatespritea x y 49152 0 6193 0 19 4129 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
      guniqhudid 11
      rotatesprite x y 40960 0 6193 shade 22 0 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  break
case 5
case 6
case 7
  sub x 50
  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  sub x weap_disp_temp
  displayrandvar rot_flash 2048
  guniqhudid 12
  rotatespritea x y 84638 rot_flash 7047 0 0 4097 -255 windowx1 windowy1 windowx2 windowy2 // fire crackle
  ifand CHAR_APP 2
      {
      guniqhudid 20
      rotatespritea x y 49152 0 23859 0 19 4097 -255 windowx1 windowy1 windowx2 windowy2 // left hand
      guniqhudid 21
      rotatesprite x y 40960 0 23859 shade 22 0 windowx1 windowy1 windowx2 windowy2 // left hand
      }
  else
      {
      guniqhudid 20
      rotatespritea x y 49152 0 6192 0 19 4097 -255 windowx1 windowy1 windowx2 windowy2 // left hand
      guniqhudid 21
      rotatesprite x y 40960 0 6192 shade 22 0 windowx1 windowy1 windowx2 windowy2 // left hand
      }

  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  add x2 weap_disp_temp
  displayrandvar rot_flash 2048
  guniqhudid 16
  rotatespritea x2 y 84638 rot_flash 7047 0 19 4097 -255 windowx1 windowy1 windowx2 windowy2 // fire arc

  ifand CHAR_APP 2
  {
  guniqhudid 10
  rotatespritea x2 y 49152 0 23860 0 19 4097 -255 windowx1 windowy1 windowx2 windowy2 // right hand
  guniqhudid 11
  rotatesprite x2 y 40960 0 23860 shade 22 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  else
  ife SPECIALIST_EQUIPMENT[40] 2 // Gold ring?
  {
  guniqhudid 10
  rotatespritea x2 y 49152 0 13506 0 19 4097 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
  guniqhudid 11
  rotatesprite x2 y 40960 0 13506 shade 22 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  else
  {
  guniqhudid 10
  rotatespritea x2 y 49152 0 6193 0 19 4097 -255 windowx1 windowy1 windowx2 windowy2 // right hand
  guniqhudid 11
  rotatesprite x2 y 40960 0 6193 shade 22 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  break
case 8
case 9
case 10
  sub x 50
  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  sub x weap_disp_temp
  displayrandvar rot_flash 2048
  guniqhudid 12
  rotatespritea x y 84638 rot_flash 7047 0 0 4129 -255 windowx1 windowy1 windowx2 windowy2 // Fire arc
  ifand CHAR_APP 2
      {
      guniqhudid 20
      rotatespritea x y 49152 0 23859 0 19 4129 -255 windowx1 windowy1 windowx2 windowy2 // left hand
      guniqhudid 21
      rotatesprite x y 40960 0 23861 shade 22 0 windowx1 windowy1 windowx2 windowy2 // left hand
      }
  else
      {
      guniqhudid 20
      rotatespritea x y 49152 0 6192 0 19 4129 -255 windowx1 windowy1 windowx2 windowy2 // left hand
      guniqhudid 21
      rotatesprite x y 40960 0 6194 shade 22 0 windowx1 windowy1 windowx2 windowy2 // left hand
      }
  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  add x2 weap_disp_temp
  displayrandvar rot_flash 2048
  guniqhudid 16
  rotatespritea x2 y 84638 rot_flash 7047 0 0 4129 -255 windowx1 windowy1 windowx2 windowy2 // fire arc
  ifand CHAR_APP 2
      {
      guniqhudid 10
      rotatespritea x2 y 49152 0 23860 0 19 4129 -255 windowx1 windowy1 windowx2 windowy2 // right hand
      guniqhudid 11
      rotatesprite x2 y 40960 0 23862 shade 22 0 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  else
  ife SPECIALIST_EQUIPMENT[40] 2 // Gold ring
      {
      guniqhudid 10
      rotatespritea x2 y 49152 0 13506 0 19 4129 -255 windowx1 windowy1 windowx2 windowy2 // right hand
      guniqhudid 11
      rotatesprite x2 y 40960 0 13507 shade 22 0 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  else
      {
      guniqhudid 10
      rotatespritea x2 y 49152 0 6193 0 19 4129 -255 windowx1 windowy1 windowx2 windowy2 // right hand
      guniqhudid 11
      rotatesprite x2 y 40960 0 6195 shade 22 0 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  break
case 11
case 12
case 13
  sub x 50
  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  sub x weap_disp_temp
  guniqhudid 20
  ifand CHAR_APP 2 rotatesprite x y 40960 0 23861 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // left hand
  else rotatesprite x y 40960 0 6194 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // left hand

  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  add x2 weap_disp_temp
  guniqhudid 10
  ifand CHAR_APP 2 rotatesprite x2 y 40960 0 23862 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
  else ife SPECIALIST_EQUIPMENT[40] 2 rotatesprite x2 y 40960 0 13507 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
  else rotatesprite x2 y 40960 0 6195 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
  break
case 14
  sub x 50
  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  sub x weap_disp_temp
  guniqhudid 20
  ifand CHAR_APP 2 rotatesprite x y 40960 0 23861 shade wep_pal 4129 windowx1 windowy1 windowx2 windowy2 // left hand
  else rotatesprite x y 40960 0 6194 shade wep_pal 4129 windowx1 windowy1 windowx2 windowy2 // left hand

  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  add x2 weap_disp_temp
  guniqhudid 10
  ifand CHAR_APP 2 rotatesprite x2 y 40960 0 23862 shade wep_pal 4129 windowx1 windowy1 windowx2 windowy2 // right hand
  else ife SPECIALIST_EQUIPMENT[40] 2 rotatesprite x2 y 40960 0 13507 shade wep_pal 4129 windowx1 windowy1 windowx2 windowy2 // right hand
  else rotatesprite x2 y 40960 0 6195 shade wep_pal 4129 windowx1 windowy1 windowx2 windowy2 // right hand

  sub y 5
  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  add x weap_disp_temp
  guniqhudid 21
  ifand CHAR_APP 2 rotatesprite x y 40960 0 23857 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  else rotatesprite x y 40960 0 6188 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // left hand

  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  sub x2 weap_disp_temp
  guniqhudid 11
  ifand CHAR_APP 2 rotatesprite x2 y 40960 0 23858 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  else ife SPECIALIST_EQUIPMENT[40] 2 rotatesprite x2 y 40960 0 13505 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
  else rotatesprite x2 y 40960 0 6189 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
  break
case 15
case 16
case 17
case 18
  sub y 5
  sub x 80
  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  add x weap_disp_temp
  guniqhudid 20
  ifand CHAR_APP 2 rotatesprite x y 40960 0 23857 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  else rotatesprite x y 40960 0 6188 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // left hand

  add x2 40
  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  sub x2 weap_disp_temp
  guniqhudid 10
  ifand CHAR_APP 2 rotatesprite x2 y 40960 0 23858 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  else ife SPECIALIST_EQUIPMENT[40] 2 rotatesprite x2 y 40960 0 13505 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
  else rotatesprite x2 y 40960 0 6189 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
  break
case 19
case 20
case 21
case 22
case 23
case 24
  sub y 5
  sub x 80
  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  add x weap_disp_temp
  ifand CHAR_APP 2
  {
  guniqhudid 20
  ifg kickbackpic 21 rotatespritea x y 40960 0 23855 0 19 4097 -255 windowx1 windowy1 windowx2 windowy2 // left hand
  guniqhudid 21
  rotatesprite x y 32768 0 23855 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // left hand
  }
  else
  {
  guniqhudid 20
  ifg kickbackpic 21 rotatespritea x y 40960 0 6186 0 19 4097 -255 windowx1 windowy1 windowx2 windowy2 // left hand
  guniqhudid 21
  rotatesprite x y 32768 0 6186 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // left hand
  }
  add x 15
  set weap_disp_temp4 kickbackpic
  mulvar weap_disp_temp4 1024
  set weap_disp_temp9 31

  displayrandvar rot_flash 2048
  guniqhudid 16
  rotatespritea 160 y weap_disp_temp4 rot_flash 8623 0 19 4129 -255 windowx1 windowy1 windowx2 windowy2 // Goldball glow
  guniqhudid 17
  rotatespritea 160 y weap_disp_temp4 rot_flash 19806 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2 // Goldball
  add x2 40
  set weap_disp_temp kickbackpic
  mulvar weap_disp_temp 3
  sub x2 weap_disp_temp
  ifand CHAR_APP 2
      {
      guniqhudid 10
      ifg kickbackpic 21 rotatespritea x2 y 49152 0 23856 0 19 11 -255 windowx1 windowy1 windowx2 windowy2 // right hand
      guniqhudid 11
      rotatesprite x2 y 40960 0 23856 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  else
  ife SPECIALIST_EQUIPMENT[40] 2
    {
    guniqhudid 10
    ifg kickbackpic 21 rotatespritea x2 y 49152 0 13504 0 19 11 -255 windowx1 windowy1 windowx2 windowy2 // right hand
    guniqhudid 11
    rotatesprite x2 y 40960 0 13504 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
    }
  else
      {
      guniqhudid 10
      ifg kickbackpic 21 rotatespritea x2 y 49152 0 6187 0 19 11 -255 windowx1 windowy1 windowx2 windowy2 // right hand
      guniqhudid 11
      rotatesprite x2 y 40960 0 6187 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // right hand
      }
  break
endswitch
guniqhudid 0
ends

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// SLOT 3 WEAPONS
//
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

// SANG'S UZI===============================================================================================================

defstate drawsuzi

ifand gun_firemode 1024 // Akimbo
    {
      set x 210
      sub x wepsway_x
      add x weapon_xoffset
      sub x looking_angSR1

      set y 240
      sub y wepsway_y
      add y looking_arc
      sub y gun_pos

    switch weaponcount
    case 0
    case 1
          add x 40
         set tilenum 12135
          sub x 2
          add y 30
          guniqhudid 20
          rotatesprite x y 57344 0 C_PISTOL_R shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // Right hand
          sub y 30
          add x 2
         guniqhudid 21
         ifand gun_firemode_two 2048 rotatesprite x y 49152 0 12137 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
         guniqhudid 22
         rotatesprite x y 49152 0 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // Right Gun


      set x2 70
      sub x2 wepsway_x
      sub x2 weapon_xoffset
      add x2 looking_angSR1
          add x2 1
          add y 30
          guniqhudid 10
          rotatesprite x2 y 57344 1024 C_PISTOL_L shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2 // Left hand
          sub x2 1
          sub y 30
          guniqhudid 11
          ifand gun_firemode_two 2048 rotatesprite x2 y 49152 1024 12137 shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2
          guniqhudid 12
           rotatesprite x2 y 49152 1024 tilenum shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2 // Left Gun
      break
    case 3
    case 5
    case 2
    case 4
    case 6

      displayrandvar weap_disp_temp 5
      add x weap_disp_temp
      add y weap_disp_temp

    ifand gun_firemode_two 2048
        {
          add x 40
         set tilenum 12135
          sub x 2
          add y 30
          guniqhudid 20
          rotatesprite x y 57344 weap_disp_temp2 C_PISTOL_R 0 67 4096 windowx1 windowy1 windowx2 windowy2 // Right hand
          sub y 30
          add x 2
          guniqhudid 21
         rotatesprite x y 49152 0 12137 0 67 4096 windowx1 windowy1 windowx2 windowy2
         guniqhudid 22
         rotatesprite x y 49152 0 tilenum 0 67 4096 windowx1 windowy1 windowx2 windowy2 // Right Gun

      set x2 70
      sub x2 wepsway_x
      sub x2 weapon_xoffset
      add x2 looking_angSR1
          add x2 1
          add y 30
          guniqhudid 10
          rotatesprite x2 y 57344 1024 C_PISTOL_L 0 67 4100 windowx1 windowy1 windowx2 windowy2 // Left hand
          sub x2 1
          sub y 30
          guniqhudid 11
          rotatesprite x2 y 49152 1024 12137 0 67 4100 windowx1 windowy1 windowx2 windowy2 // supressor
          guniqhudid 12
           rotatesprite x2 y 49152 1024 tilenum 0 67 4100 windowx1 windowy1 windowx2 windowy2 // Left Gun
        }
    else
        {
      displayrandvar rot_flash 2048
      sub y 45
      guniqhudid 16
      rotatespritea x y 14000 rot_flash 16115 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
      sub x 125

              set x2 120
          sub x2 wepsway_x
          sub x2 weapon_xoffset
          add x2 looking_angSR1
      guniqhudid 17
      rotatespritea x2 y 14000 rot_flash 16115 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
      add y 45
      add x 125

          add x 40
         set tilenum 12136
          sub x 2
          add y 30
          guniqhudid 20
          rotatesprite x y 57344 weap_disp_temp2 C_PISTOL_R 0 107 4096 windowx1 windowy1 windowx2 windowy2 // Right hand
          sub y 30
          add x 2
          guniqhudid 21
         rotatesprite x y 49152 0 tilenum 0 0 4096 windowx1 windowy1 windowx2 windowy2 // Right Gun

          set x2 70
          sub x2 wepsway_x
          sub x2 weapon_xoffset
          add x2 looking_angSR1
          add x2 1
          add y 30
          guniqhudid 10
          rotatesprite x2 y 57344 1024 C_PISTOL_L 0 107 4100 windowx1 windowy1 windowx2 windowy2 // Left hand
          sub x2 1
          sub y 30
          guniqhudid 11
           rotatesprite x2 y 49152 1024 tilenum 0 0 4100 windowx1 windowy1 windowx2 windowy2 // Left Gun

      }
      break
    case 7
    case 8
    case 9
    case 10
        set tilenum 12135
        guniqhudid 10
         rotatesprite x y 49152 0 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
        set weap_disp_temp kickbackpic
    mul weap_disp_temp 3
    add y weap_disp_temp
            sub x 190
          add x looking_angSR1
          guniqhudid 11
          ifand gun_firemode_two 2048 rotatesprite x y 49152 1024 12175 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
          add y 30
          ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
          guniqhudid 12
          rotatesprite x y 40960 840 tilenum shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2
          sub y 30
          guniqhudid 13
          rotatesprite x y 49152 1024 6229 shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2
      break
    case 11
    case 12
    case 13
    guniqhudid 10
       ifand gun_firemode_two 2048 rotatesprite x y 49152 64 12175 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      add y 30
      ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
      guniqhudid 11
      rotatesprite x y 40960 200 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      sub y 30
      guniqhudid 12
      rotatesprite x y 49152 64 6229 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 14
    case 15
    case 16
      add y 5
      add x 5
      guniqhudid 10
      ifand gun_firemode_two 2048 rotatesprite x y 49152 96 12175 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      add y 30
      ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
      guniqhudid 11
      rotatesprite x y 40960 220 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      sub y 30
      guniqhudid 12
      rotatesprite x y 49152 96 6229 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 17
    case 18
    case 19
      sub y 15
      sub x 5
      guniqhudid 10
      ifand gun_firemode_two 2048 rotatesprite x y 49152 16 12173 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
      guniqhudid 11
      rotatesprite x y 49152 16 6227 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
      break
    case 20
    case 21
    case 22
      sub y 15
      sub x 5
      guniqhudid 10
      ifand gun_firemode_two 2048 rotatesprite x y 49152 0 12173 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
      guniqhudid 11
      rotatesprite x y 49152 0 6227 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
      break
    case 23
    case 24
    case 25
    case 26
      sub y 15
      add x 10
      guniqhudid 10
      ifand gun_firemode_two 2048 rotatesprite x y 49152 0 12174 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
      guniqhudid 11
      rotatesprite x y 49152 0 6228 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
      break
    case 27
    case 28
    case 29
      sub y 5
      sub x 5
      guniqhudid 10
      ifand gun_firemode_two 2048 rotatesprite x y 49152 96 12175 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
      add y 30
      guniqhudid 11
      rotatesprite x y 40960 220 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      sub y 30
      guniqhudid 12
      rotatesprite x y 49152 96 6229 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 30
    case 31
    case 32
    case 33
    case 34
    case 35
      sub y 5
      sub x 5
      guniqhudid 10
      ifand gun_firemode_two 2048 rotatesprite x y 49152 64 12175 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      add y 30
      ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
      guniqhudid 11
      rotatesprite x y 40960 200 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      sub y 30
      guniqhudid 12
      rotatesprite x y 49152 64 6229 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 36
    case 37
    case 38
      sub x 150
      guniqhudid 10
      ifand gun_firemode_two 2048 rotatesprite x y 49152 960 12715 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
          add y 30
          ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
          guniqhudid 11
          rotatesprite x y 40960 840 tilenum shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2
          sub y 30
          guniqhudid 12
          rotatesprite x y 49152 1024 6229 shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2
      break
    case 39
    case 40
    case 41
    sub x 150
      add y 5
      add x 5
      guniqhudid 10
       ifand gun_firemode_two 2048 rotatesprite x y 49152 928 12715 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
          add y 30
          ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
          guniqhudid 11
          rotatesprite x y 40960 820 tilenum shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2
          sub y 30
          guniqhudid 12
          rotatesprite x y 49152 928 6229 shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2
      break
    case 42
    case 43
    case 44
    sub x 150
      sub y 15
      sub x 5
      guniqhudid 10
      ifand gun_firemode_two 2048 rotatesprite x y 49152 1040 12173 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      guniqhudid 11
      rotatesprite x y 49152 1040 6227 shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2
      break
    case 45
    case 46
    case 47
    sub x 150
      sub y 15
      sub x 5
      guniqhudid 10
      ifand gun_firemode_two 2048 rotatesprite x y 49152 1024 12173 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      guniqhudid 11
      rotatesprite x y 49152 1024 6227 shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2
      break
    case 48
    case 49
    case 50
    case 51
    sub x 150
      sub y 15
      add x 10
      guniqhudid 10
      ifand gun_firemode_two 2048 rotatesprite x y 49152 1024 12174 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      guniqhudid 11
      rotatesprite x y 49152 1024 6228 shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2
      break
    case 52
    case 53
    case 54
    sub x 150
      sub y 5
      sub x 5
      guniqhudid 10
      ifand gun_firemode_two 2048 rotatesprite x y 49152 928 12175 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
          add y 30
          ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
          guniqhudid 11
          rotatesprite x y 40960 820 tilenum shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2
          sub y 30
          guniqhudid 12
          rotatesprite x y 49152 928 6229 shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2
      break
    case 55
    case 56
    case 57
    case 58
    case 59
    case 60
    sub x 150
      sub y 5
      sub x 5
      guniqhudid 10
      ifand gun_firemode_two 2048 rotatesprite x y 49152 960 12175 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
          add y 30
          ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
          guniqhudid 11
          rotatesprite x y 40960 840 tilenum shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2
          sub y 30
          guniqhudid 12
          rotatesprite x y 49152 960 6229 shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2
      break
    case 61
    case 62
    case 63
    case 64
    case 65
      sub y 5
      sub x 5
      guniqhudid 10
      ifand gun_firemode_two 2048 rotatesprite x y 49152 0 12175 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      guniqhudid 11
      rotatesprite x y 49152 0 6229 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      sub x 150
      guniqhudid 12
      ifand gun_firemode_two 2048 rotatesprite x y 49152 1024 12175 shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2
      guniqhudid 13
      rotatesprite x y 49152 1024 6229 shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2
      break
    endswitch
guniqhudid 0
    }
else
    {
    guniqhudid 0
      set x 182
      sub x wepsway_x
      add x weapon_xoffset
      sub x looking_angSR1

      set y 240
      sub y wepsway_y
      add y looking_arc
      sub y gun_pos

    switch weaponcount
    case 0
    case 1
    case 7
    case 8
    case 9
    case 10
          set tilenum 6224
          guniqhudid 10
          ifand gun_firemode_two 2048 rotatesprite x y 49152 0 12168 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
          guniqhudid 11
          rotatesprite x y 49152 0 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
          guniqhudid 12
          ifand SANG_UPGRADE 2 rotatesprite x y 49152 0 12120 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
          add x 25
          add y 15
          ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
          guniqhudid 13
          rotatesprite x y 40960 0 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
          sub x 25
          sub y 15
          guniqhudid 14
          rotatesprite x y 49152 0 6226 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 3
    case 5
    case 2
    case 4
    case 6
      displayrandvar weap_disp_temp 5
      add x weap_disp_temp
      add y weap_disp_temp
      ifand gun_firemode_two 2048
        {
        set tilenum 6224
        guniqhudid 10
      ifand gun_firemode_two 2048 rotatesprite x y 49152 0 12168 0 67 4096 windowx1 windowy1 windowx2 windowy2
      guniqhudid 11
      rotatesprite x y 49152 0 tilenum 0 67 4096 windowx1 windowy1 windowx2 windowy2
      guniqhudid 12
      ifand SANG_UPGRADE 2 rotatesprite x y 49152 0 12120 0 67 4096 windowx1 windowy1 windowx2 windowy2
          add x 25
          add y 15
          ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
          guniqhudid 13
          rotatesprite x y 40960 0 tilenum 0 67 4096 windowx1 windowy1 windowx2 windowy2
          sub x 25
          sub y 15
          guniqhudid 14
          rotatesprite x y 49152 0 6226 0 67 4096 windowx1 windowy1 windowx2 windowy2
        }  // Suppressor
      else
      {
      set tilenum 6225
      displayrandvar rot_flash 2048
      sub x 45
      sub y 45
      guniqhudid 10
      rotatespritea x y 14000 rot_flash 16115 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
      add x 45
      add y 45
      guniqhudid 11
      rotatesprite x y 49152 0 tilenum 0 0 0 windowx1 windowy1 windowx2 windowy2
          add x 25
          add y 15
          ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
          guniqhudid 12
          rotatesprite x y 40960 0 tilenum 0 107 0 windowx1 windowy1 windowx2 windowy2
          sub x 25
          sub y 15
          guniqhudid 13
          rotatesprite x y 49152 0 6230 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
          guniqhudid 14
          ifand SANG_UPGRADE 2 rotatesprite x y 49152 0 12120 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      }
      break
    case 11
    case 12
    case 13
      guniqhudid 10
      ifand gun_firemode_two 2048 rotatesprite x y 49152 64 12175 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      add y 30
      ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
      guniqhudid 11
      rotatesprite x y 40960 200 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      sub y 30
      guniqhudid 12
      rotatesprite x y 49152 64 6229 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 14
    case 15
    case 16
      add y 5
      add x 5
      guniqhudid 10
      ifand gun_firemode_two 2048 rotatesprite x y 49152 96 12175 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      add y 30
      ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
      guniqhudid 11
      rotatesprite x y 40960 220 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      sub y 30
      guniqhudid 12
      rotatesprite x y 49152 96 6229 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 17
    case 18
    case 19
      sub y 15
      sub x 5
      guniqhudid 10
      ifand gun_firemode_two 2048 rotatesprite x y 49152 16 12173 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
      guniqhudid 11
      rotatesprite x y 49152 16 6227 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
      break
    case 20
    case 21
    case 22
      sub y 15
      sub x 5
      guniqhudid 10
      ifand gun_firemode_two 2048 rotatesprite x y 49152 0 12173 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
      guniqhudid 11
      rotatesprite x y 49152 0 6227 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
      break
    case 23
    case 24
    case 25
    case 26
      sub y 15
      add x 10
      guniqhudid 10
      ifand gun_firemode_two 2048 rotatesprite x y 49152 0 12174 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
      guniqhudid 11
      rotatesprite x y 49152 0 6228 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
      break
    case 27
    case 28
    case 29
      sub y 5
      sub x 5
      set tilenum 6229
      guniqhudid 10
      ifand gun_firemode_two 2048 rotatesprite x y 49152 96 12175 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      add y 30
      ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
      guniqhudid 11
      rotatesprite x y 40960 220 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      sub y 30
      guniqhudid 12
      rotatesprite x y 49152 96 6229 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 30
    case 31
    case 32
    case 33
    case 34
    case 35
      sub y 5
      sub x 5
      guniqhudid 10
      ifand gun_firemode_two 2048 rotatesprite x y 49152 64 12175 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      add y 30
      ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
      guniqhudid 11
      rotatesprite x y 40960 200 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      sub y 30
      guniqhudid 12
      rotatesprite x y 49152 64 6229 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    endswitch
    }
guniqhudid 0
ends

// SANG' SR-2===============================================================================================================

defstate draw_sang_sr-2

  set x 240
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 220
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos

  clamp y 144 320

ifn wep_pal 1
ifn wep_pal 2
ifn wep_pal 4
ifn wep_pal 7
ifn wep_pal 8
ifn wep_pal 18
	{
	set cosm_col_id 34
	state cus_gun_colour
	set wep_pal cosm_col
	}

ifand gun_firemode 16384 { add x 20 add y 20  }
switch weaponcount
case 0
case 1
case 4
case 5
case 6
  state wep_drawup
  state gunpushback_display
  set rot_flash 0
      guniqhudid 10
      ife HANDS_DRAW 2
          {
          sub x 70
          add y 43
          rotatesprite x y 40960 weap_disp_temp2 C_ARM_1 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
          add x 70
          sub y 43
          }
          else rotatesprite x y 36864 weap_disp_temp2 13460 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // draw handle instead
          guniqhudid 11
      rotatesprite x y 36864 weap_disp_temp2 13445 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
   ife weaponcount 2 displayrandvar gun_pushb_disp 5
   ife weaponcount 3
       {
       add x gun_pushb_disp
       add y gun_pushb_disp
       }
       sub y 15
      sub x 49
      ife rot_flash 0 displayrandvar rot_flash 2048
      guniqhudid 10
      rotatespritea x y 19000 rot_flash 16115 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
      add y 15
      add x 49
      guniqhudid 11
    ife HANDS_DRAW 2
        {
        sub x 70
        add y 43
        rotatesprite x y 40960 weap_disp_temp2 C_ARM_1 0 106 4096 windowx1 windowy1 windowx2 windowy2
        add x 70
        sub y 43
        }
        else rotatesprite x y 36864 weap_disp_temp2 13460 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // draw handle instead
        guniqhudid 12
    rotatesprite x y 36864 weap_disp_temp2 13446 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 9
case 10
case 11
  ife weaponcount 8 add y 10
  guniqhudid 10
  rotatesprite x y 36864 32 13447 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2

      add y 25
      set weap_disp_temp3 kickbackpic
      mulvar weap_disp_temp3 10
      sub x weap_disp_temp3
      add y kickbackpic
      set tilenum CTIP
      add tilenum 1
      guniqhudid 11
      rotatesprite x y 40960 1024 tilenum shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2
  break
case 12
case 13
case 14
  guniqhudid 10
  rotatesprite x y 36864 64 13447 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 15
case 16
  add y 5
  add x 5
  guniqhudid 10
  rotatesprite x y 36864 96 13448 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 20
case 21
  add y 5
  add x 5
  guniqhudid 10
  rotatesprite x y 36864 128 13448 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 22
case 23
case 24
case 25
case 26
  add y 5
  add x 5
  ife weaponcount 25 sub y 10
  guniqhudid 10
  rotatesprite x y 36864 128 13448 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 27
case 28
case 29
  sub y 5
  sub x 5
  guniqhudid 10
  rotatesprite x y 36864 96 13448 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 30
case 31
case 32
case 33
case 34
case 35
  sub y 5
  sub x 5
  guniqhudid 10
 rotatesprite x y 36864 64 13448 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
endswitch
guniqhudid 0
ends

// ********************************************************************************************************************************************
// SANG'S PPSH
// ********************************************************************************************************************************************

defstate draw_ppsh

  set x 200
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 233
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos

guniqhudid 0
switch weaponcount
case 0
case 2
  state wep_drawup
   sub x 53
   add y 24
   guniqhudid 10
   rotatesprite x y 32768 0 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
   sub y 24
   add x 53
   guniqhudid 11
  rotatesprite x y 40960 weap_disp_temp2 12056 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 1
case 3
 displayrandvar weap_disp_temp2 5
  add x weap_disp_temp2
  add y weap_disp_temp2

   displayrandvar rot_flash 2048
  sub x 23
  sub y 45
  guniqhudid 10
  rotatespritea x y 16000 rot_flash 16115 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
  add x 23
  add y 45
   sub x 53
   add y 24
   guniqhudid 11
   rotatesprite x y 32768 0 C_ARM_2 0 107 4096 windowx1 windowy1 windowx2 windowy2
   sub y 24
   add x 53
   guniqhudid 12
   rotatesprite x y 40960 0 12056 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
   guniqhudid 13
  rotatesprite x y 40960 0 12057 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 5
case 6
case 48
  add x 15
   sub x 53
   add y 24
   guniqhudid 10
   rotatesprite x y 32768 0 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
   sub y 24
   add x 53
   guniqhudid 11
  rotatesprite x y 40960 0 12056 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 9
case 46
case 47
add x 15
    guniqhudid 10
  rotatesprite x y 40960 16 12058 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
   sub x 53
   add y 30
   guniqhudid 11
   rotatesprite x y 32768 0 CHOLDING_3 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 10
case 11
case 12
case 44
case 45
    add x 15
    guniqhudid 10
  rotatesprite x y 40960 32 12058 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
   sub x 53
   add y 30
   guniqhudid 11
   rotatesprite x y 32768 16 CHOLDING_3 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 14
case 15
case 42
case 43
    add x 15
    guniqhudid 10
    rotatesprite x y 40960 32 12060 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    guniqhudid 11
  rotatesprite x y 40960 32 12059 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
   sub x 65
   add y 30
   guniqhudid 12
   rotatesprite x y 32768 16 CHOLDING_3 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 16
case 17
case 18
case 40
case 41
    add x 15
    guniqhudid 10
    rotatesprite x y 40960 48 12060 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    guniqhudid 11
  rotatesprite x y 40960 48 12059 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
   sub x 63
   add y 28
   guniqhudid 12
   rotatesprite x y 32768 32 CHOLDING_3 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 19
case 20
case 38
case 39
add x 15
  guniqhudid 10
  rotatesprite x y 40960 64 12060 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 11
  rotatesprite x y 40960 64 12059 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
   sub x 65
   add y 26
   guniqhudid 12
   rotatesprite x y 32768 48 CHOLDING_3 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 21
add x 15
add y 10
  guniqhudid 10
  rotatesprite x y 40960 64 12060 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 11
  rotatesprite x y 40960 64 12055 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
   sub x 85
   add y 66
   guniqhudid 12
   rotatesprite x y 32768 48 CHOLDING_3 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 22
case 23
case 24
case 25
case 26
case 27
case 28
case 29
case 30
case 31
case 32
case 33
case 34
case 35
add x 15
  guniqhudid 10
  rotatesprite x y 40960 64 12060 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 36
add x 15
  sub y 10
  guniqhudid 10
  rotatesprite x y 40960 72 12060 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 11
  rotatesprite x y 40960 72 12055 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 37
add x 15
  sub y 10
  guniqhudid 10
  rotatesprite x y 40960 72 12060 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 11
  rotatesprite x y 40960 72 12059 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
endswitch
guniqhudid 0
ends

// SANG'S BAR===============================================================================================================

defstate draw_bar

  set x 240
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 230
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos
guniqhudid 0
switch weaponcount
case 0
case 1
case 42
state gunpushback_display
 state wep_drawup
  guniqhudid 10
  rotatesprite x y 32768 weap_disp_temp2 11114 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 70
    add y 45
    guniqhudid 11
    rotatesprite x y 32768 0 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
    displayrandvar gun_pushb_disp 10
    add x gun_pushb_disp
    add y gun_pushb_disp
  displayrandvar rot_flash 2048
  sub x 55
  sub y 45
  state random_AR_flash
  guniqhudid 10
  rotatespritea x y 24000 9 rot_flash 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
  add x 55
  add y 45
  guniqhudid 11
  rotatesprite x y 32768 0 11114 0 0 0 windowx1 windowy1 windowx2 windowy2
  guniqhudid 12
  rotatesprite x y 32768 0 11115 0 0 0 windowx1 windowy1 windowx2 windowy2
    sub x 70
    add y 45
    guniqhudid 13
    rotatesprite x y 32768 0 C_ARM_2 0 107 4096 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 5
case 6
    state gunpushback_display
    guniqhudid 10
    rotatesprite x y 32768 0 11114 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 70
    add y 45
    guniqhudid 11
    rotatesprite x y 32768 0 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 9
case 10
case 11
  sub x 7
  add x weaponcount
  guniqhudid 10
   rotatesprite x y 32768 0 11116 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 80
    add y 45
    guniqhudid 11
    rotatesprite x y 36768 0 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 12
case 13
case 14
case 15
case 16
case 17
case 30
case 31
case 32
case 33
case 34
case 35
  ife kickbackpic 30 sub y 5
  set weap_disp_temp weaponcount
  mulvar weap_disp_temp 3
  divvar weap_disp_temp 2
  guniqhudid 10
  rotatesprite x y 32768 weap_disp_temp 11117 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
case 26
case 27
case 28
case 29
  add x 5
  guniqhudid 10
  rotatesprite x y 32768 12 11117 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 36
case 37
case 38
case 39
case 40
case 41
  guniqhudid 11
  rotatesprite x y 32768 0 11116 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
endswitch
guniqhudid 0
ends

// SANG'S AK47 ==================================================================================================================

defstate AK47_SCANNER
guniqhudid 0
ife player[].weapon_pos 0
{
  guniqhudid 19
  rotatesprite x y 40960 weap_disp_temp2 19909 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  sub y 10
  sub x 71
  guniqhudid 0
  digitalnumber 3010 x y MGUNMAG 0 4 0 windowx1 windowy1 windowx2 windowy2

  ifn hitsprite -1
    {
    geta[hitsprite].extra weap_disp_temp
    ifg weap_disp_temp 0
        {
        add y 10
        add x 20
        digitalnumberz 3010 x y weap_disp_temp 0 4 0 windowx1 windowy1 windowx2 windowy2 DOUBLESIZE
        }
    }
}
ends

defstate sak47_draw
switch player[].weapon_pos
case 0
set tilenum 19902 break
case 1
case 2
soundonce LIGHT_SWITCH
set tilenum 19911 break
case 3
case 4
case 5
case 6
case 7
case 8
case 9
case 10
set tilenum 19910 break
case -1
case -2
soundonce LIGHT_SWITCH
set tilenum 19911 break
case -3
case -4
case -5
case -6
case -7
case -8
case -9
case -10
set tilenum 19910 break
endswitch
ends

defstate draw_ak47

  set x 195
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 227
  clamp y 155 320
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos

 ifand gun_firemode 32768 // Using the GL?
{
    switch gl_countd
    case 0
    case 43
    case 42
    case 41
      state wep_drawup
      guniqhudid 10
     rotatesprite x y 40960 weap_disp_temp2 19902 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
     break
    case 1
    case 2
    case 3
    case 4
     guniqhudid 10
     rotatesprite x y 40960 0 19904 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
     break
    case 5
    case 6
    case 7
    case 8
      guniqhudid 10
     rotatesprite x y 40960 32 19907 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
     break
    case 9
    case 10
    case 11
    case 12
    case 13
     guniqhudid 10
     rotatesprite x y 40960 32 19908 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
     break
    case 14
    case 15
    case 16
     guniqhudid 10
     rotatesprite x y 40960 0 19908 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
            sub x 20
            add y 25
            guniqhudid 11
            rotatesprite x y NNORMALSIZE 1024 C_HAND_2 shade wep_pal 4100 windowx1 windowy1 windowx2 windowy2
     break
    case 17
    case 18
    case 19
    case 20
    case 21
    case 22
    case 23
    case 24
    case 25
    case 26
    case 27
    case 28
    case 29
     guniqhudid 10
     rotatesprite x y 40960 64 19908 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
            set weap_disp_temp7 gl_countd
            mulvar weap_disp_temp7 2
            sub weap_disp_temp7 20
            add y weap_disp_temp7
            sub x 20
            state fortymm_caseless_disp
     break
    case 30
    case 31
    case 32
     guniqhudid 10
     rotatesprite x y 40960 0 19907 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
     break
    case 33
    case 34
    case 35
    case 36
     guniqhudid 10
     rotatesprite x y 40960 32 19907 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
     break
    case 37
    case 38
    case 39
    case 40
     guniqhudid 10
     rotatesprite x y 40960 0 19904 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
     break
    case 44
    case 45
    case 46
    case 47
    case 48
            set weap_disp_temp6 x
            sub weap_disp_temp6 48
            set weap_disp_temp7 y
            sub weap_disp_temp7 32
            displayrandvar rot_flash 2048
            guniqhudid 10
            rotatespritea weap_disp_temp6 weap_disp_temp7 14000 rot_flash 16114 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
            guniqhudid 11
            rotatesprite x y 40960 0 19903 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
     break
    endswitch
}
else
switch weaponcount
case 0
case 1
case 4
case 5
case 6
  ifand gun_firemode 16384 // Ironsight?
  {
      set x 160
      set weap_disp_temp2 wepsway_x
      divvar weap_disp_temp2 2
      sub x weap_disp_temp2
      set y 140
      set weap_disp_temp3 wepsway_y
      divvar weap_disp_temp3 2
      sub y weap_disp_temp3
      set weap_disp_temp4 weapon_xoffset // set the weapon x sway to displaytemp4
      divvar weap_disp_temp4 2 // divide it by 2
      add x weap_disp_temp4 // add it to x
      sub x 5 // offset it by 5
      sub y 10
      state gunpushback_sight_display
      guniqhudid 10
      rotatesprite x y weap_disp_temp8 0 12172 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // Barrel
      sub y 30
      guniqhudid 11
      rotatespritea x y QUARTERSIZE 0 11046 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2 // red dot
      set x 160
      sub x wepsway_x
      sub x 10
      add x weapon_xoffset
      set y 147
      sub y wepsway_y
      guniqhudid 12
      rotatesprite x y weap_disp_temp8 0 12165 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // holotech sight

            ifl player_shade_diff -5
                {
                set weap_disp_temp3 player_shade_diff
                mulvar weap_disp_temp3 2
                sub y 30
                guniqhudid 13
                rotatespritea x y 6096 0 2587 player_shade_diff wall_pal 33 weap_disp_temp3 windowx1 windowy1 windowx2 windowy2 // Glass in holosight
                }

  }
  else
  {
  state wep_drawup
  state gunpushback_display
  sub x 15
  add y 50
  guniqhudid 10
  rotatesprite x y NNORMALSIZE weap_disp_temp2 C_ARM_1 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add x 15
  sub y 50
  state sak47_draw
  guniqhudid 11
  rotatesprite x y 40960 weap_disp_temp2 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 0
  state AK47_SCANNER
  }
  break
case 2
case 3
  ifand gun_firemode 16384
  {
      set x 160
      set weap_disp_temp2 wepsway_x
      divvar weap_disp_temp2 2
      sub x weap_disp_temp2
      set y 140
      set weap_disp_temp3 wepsway_y
      divvar weap_disp_temp3 2
      sub y weap_disp_temp3
      set weap_disp_temp4 weapon_xoffset // set the weapon x sway to displaytemp4
      divvar weap_disp_temp4 2 // divide it by 2
      add x weap_disp_temp4 // add it to x
      sub x 5 // offset it by 5
      sub y 5
      state random_AR_flash
      sub y 10
      guniqhudid 10
      rotatespritea x y 20000 0 rot_flash 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
      add y 5
      set gun_pushb_disp 10
        state gunpushback_sight_display
        guniqhudid 11
      rotatesprite x y weap_disp_temp8 0 12172 0 106 4096 windowx1 windowy1 windowx2 windowy2 // Barrel
      sub y 30
      guniqhudid 12
      rotatespritea x y QUARTERSIZE 0 11046 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2 // red dot
      set x 160
      sub x wepsway_x
      sub x 10
      add x weapon_xoffset
      set y 147
      sub y wepsway_y
      guniqhudid 13
      rotatesprite x y weap_disp_temp8 0 12165 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // holotech sight

  }
  else
  {
 displayrandvar gun_pushb_disp 7
  add x gun_pushb_disp
  add y gun_pushb_disp
  sub x 10
  sub y 38
  state random_AR_flash
  guniqhudid 10
  rotatespritea x y 20500 0 rot_flash 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
  add x 10
  add y 38
      sub x 15
      add y 50
      guniqhudid 11
      rotatesprite x y NNORMALSIZE 0 C_ARM_1 0 107 4096 windowx1 windowy1 windowx2 windowy2
      add x 15
      sub y 50
      guniqhudid 12
  rotatesprite x y 40960 0 19903 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 0
  state AK47_SCANNER
  }
  break
case 7
case 8
case 9
case 10
  sub x 15
  add y 50
  guniqhudid 10
  rotatesprite x y NNORMALSIZE 0 C_ARM_1 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add x 15
  sub y 50
  guniqhudid 11
  rotatesprite x y 40960 0 19902 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 0
  state AK47_SCANNER
  break
case 11
case 12
case 13
  guniqhudid 10
  rotatesprite x y 40960 64 19904 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
case 36
case 37
  add y 5
  add x 5
  guniqhudid 10
  rotatesprite x y 40960 96 19904 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 20
case 34
case 35
  ife weaponcount 18 add y 10
  ife weaponcount 34 sub y 10
  add y 5
  add x 5
  guniqhudid 10
  rotatesprite x y 40960 128 19904 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 21
case 22
case 23
case 24
case 25
case 32
case 33
  sub y 5
  sub x 5
  guniqhudid 10
  rotatesprite x y 40960 96 19905 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 26
case 27
case 28
case 29
case 30
case 31
  sub y 5
  sub x 5
  guniqhudid 10
  rotatesprite x y 40960 64 19906 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 38 // start reloading
case 58
  guniqhudid 10
  rotatesprite x y 40960 0 19902 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 39
case 57
  guniqhudid 10
  rotatesprite x y 40960 16 19902 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 40
case 56
  guniqhudid 10
  rotatesprite x y 40960 32 19902 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 41
case 55
  guniqhudid 10
  rotatesprite x y 40960 32 19902 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 42
case 54
  guniqhudid 10
  rotatesprite x y 40960 32 19902 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 43
case 53
  add y 15
  guniqhudid 10
  rotatesprite x y 40960 48 19902 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 44
case 52
  add y 20
  guniqhudid 10
  rotatesprite x y 40960 64 19902 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 45
case 51
  add y 25
  guniqhudid 10
  rotatesprite x y 40960 76 19904 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 46
case 50
  add y 30
  guniqhudid 10
  rotatesprite x y 40960 96 19904 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 47
case 48
case 49
  add y 45
  guniqhudid 10
  rotatesprite x y 40960 104 19904 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
endswitch
guniqhudid 0
ends

// =====================================================================================================================================================
// KRISS VECTOR
// =====================================================================================================================================================

defstate draw_kriss

  set x 220
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 233
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos

 ifn wep_pal 1
ifn wep_pal 2
ifn wep_pal 4
ifn wep_pal 7
ifn wep_pal 8
ifn wep_pal 18
	{
	set cosm_col_id 92
	state cus_gun_colour
	set wep_pal cosm_col
	}


guniqhudid 0
    switch weaponcount
    case 0
    case 1
    case 4
      set weap_disp_temp2 player[].weapon_pos
      mulvar weap_disp_temp2 -20
      set rot_flash 0
      ifand gun_firemode 16384 // ironsighting?
          {
          set x 160
          set weap_disp_temp2 wepsway_x
          divvar weap_disp_temp2 2
          sub x weap_disp_temp2
          set weap_disp_temp4 weapon_xoffset // set the weapon x sway to displaytemp4
          divvar weap_disp_temp4 2 // divide it by 2
          add x weap_disp_temp4 // add it to x
          sub x 5 // offset it by 5
          set y 140
          set weap_disp_temp3 wepsway_y
          divvar weap_disp_temp3 2
          sub y weap_disp_temp3
          state gunpushback_sight_display
          guniqhudid 10
          rotatesprite x y weap_disp_temp8 0 16014 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // barrel part of ironsight
          sub y 40
          guniqhudid 11
          rotatespritea x y 4096 0 11047 0 0 1 -255 windowx1 windowy1 windowx2 windowy2 // holographic crosshair
          set x 160
          sub x wepsway_x
          add x weapon_xoffset // add weaponxsway to position
          sub x 10 // offset it by 10
          set y 142
          sub y wepsway_y
          guniqhudid 12
          rotatesprite x y weap_disp_temp8 0 16013 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // red dot sight
            ifl player_shade_diff -5
                {
                set weap_disp_temp3 player_shade_diff
                mulvar weap_disp_temp3 2
                sub y 37
                guniqhudid 13
                rotatespritea x y 10192 0 2587 player_shade_diff wall_pal 33 weap_disp_temp3 windowx1 windowy1 windowx2 windowy2 // Glass in holosight
                }
          }
      else
          {
          state gunpushback_display
          state wep_drawup
          sub x 55
          add y 20
          guniqhudid 10
          rotatesprite x y 45152 weap_disp_temp2 C_ARM_1 shade arm_pal 4104 windowx1 windowy1 windowx2 windowy2
          add x 55
          sub y 20
          guniqhudid 11
          rotatesprite x y 45152 weap_disp_temp2 29146 shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
          }
      break
    case 2
    case 3
      ifand gun_firemode 16384
      {
      ife rot_flash 0 displayrandvar rot_flash 2048
      sub x 67
      sub y 55
      ife AMMO_TYPES[3] 2 set weap_disp_temp2 1 else ife AMMO_TYPES[3] 32768 set weap_disp_temp2 106 else set weap_disp_temp2 0
      guniqhudid 10
      rotatespritea x y 10000 rot_flash 16115 0 weap_disp_temp2 4096 -255 windowx1 windowy1 windowx2 windowy2
      set x 160
      set weap_disp_temp2 wepsway_x
      divvar weap_disp_temp2 2
      sub x weap_disp_temp2
      set weap_disp_temp4 weapon_xoffset // set the weapon x sway to displaytemp4
      divvar weap_disp_temp4 2 // divide it by 2
      add x weap_disp_temp4 // add it to x
      sub x 5 // offset it by 5
      set y 140
      set weap_disp_temp3 wepsway_y
      divvar weap_disp_temp3 2
      sub y weap_disp_temp3
      set gun_pushb_disp 10
        state gunpushback_sight_display
        guniqhudid 10
      rotatesprite x y weap_disp_temp8 0 16014 0 106 4096 windowx1 windowy1 windowx2 windowy2 // barrel part of ironsight
      sub y 40
      guniqhudid 11
      rotatespritea x y 4096 0 11047 0 0 1 -255 windowx1 windowy1 windowx2 windowy2 // holographic crosshair
      set x 160
      sub x wepsway_x
      add x weapon_xoffset // add weaponxsway to position
      sub x 10 // offset it by 10
      set y 142
      sub y wepsway_y
      guniqhudid 12
      rotatesprite x y weap_disp_temp8 0 16013 0 108 4096 windowx1 windowy1 windowx2 windowy2 // red dot sight
      }
    else
            {
         displayrandvar gun_pushb_disp 5
          add x gun_pushb_disp
          add y gun_pushb_disp
        ife rot_flash 0 displayrandvar rot_flash 2048
          sub x 44
          sub y 36
          ife AMMO_TYPES[3] 2 set weap_disp_temp2 1 else ife AMMO_TYPES[3] 32768 set weap_disp_temp2 106 else set weap_disp_temp2 0
          guniqhudid 10
          rotatespritea x y 18000 rot_flash 16115 0 weap_disp_temp2 8 -255 windowx1 windowy1 windowx2 windowy2
          add x 44
          add y 36

          sub x 55
          add y 20
          guniqhudid 11
          rotatesprite x y 45152 0 C_ARM_1 shade arm_pal 4104 windowx1 windowy1 windowx2 windowy2
          add x 55
          sub y 20
          guniqhudid 12
          rotatesprite x y 45152 0 29147 0 wep_pal 4104 windowx1 windowy1 windowx2 windowy2
          }
      break
    case 5
    case 41
    case 42
    case 43
    case 44
      add x 20
      guniqhudid 10
      rotatesprite x y 49152 0 29148 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 6
    case 7
    case 39
    case 40
    add x 22
      guniqhudid 10
      rotatesprite x y 49152 16 29148 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 8
    case 9
    case 37
    case 38
    add x 24
    guniqhudid 10
      rotatesprite x y 49152 32 29148 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 10
    case 11
    case 35
    case 36
    add x 26
    guniqhudid 10
      rotatesprite x y 49152 48 29149 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 12
    case 13
    case 33
    case 34
    add x 15
    guniqhudid 10
      rotatesprite x y 49152 48 29149 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 14
    case 15
    case 31
    case 32
    add x 15
    guniqhudid 10
      rotatesprite x y 49152 64 29150 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 16
    add x 15
      add y 10
      guniqhudid 10
      rotatesprite x y 49152 64 29150 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 17
    add x 15
      add y 10
      guniqhudid 10
      rotatesprite x y 49152 64 29150 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 18
    case 19
    case 20
    case 21
    case 22
    case 23
    case 24
    case 25
    case 26
    case 27
    case 28
    add x 15
      guniqhudid 10
      rotatesprite x y 49152 64 29150 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 29
    add x 15
      sub y 10
      guniqhudid 10
      rotatesprite x y 49152 64 29150 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 30
    add x 15
      sub y 10
      guniqhudid 10
      rotatesprite x y 49152 64 29150 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    endswitch
ends

// SANG'S F2000===============================================================================================================

defstate draw_F2000
guniqhudid 0
  set x 245
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 225
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos

  ifand gun_firemode 32768 // Using the M16's GL?
switch gl_countd
case 0
case 43
case 42
case 41
  state wep_drawup
  guniqhudid 10
 rotatesprite x y 40960 weap_disp_temp2 19837 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
 break
case 1
case 2
case 3
case 4
 guniqhudid 10
 rotatesprite x y 32768 0 19842 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
 break
case 5
case 6
case 7
case 8
 guniqhudid 10
 rotatesprite x y 32768 32 19842 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
 break
case 9
case 10
case 11
case 12
case 13
 guniqhudid 10
 rotatesprite x y 32768 0 19844 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
 break
case 14
case 15
case 16
    guniqhudid 10
    rotatesprite x y 32768 0 19843 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 70
    add y 25
    guniqhudid 11
    ifand CHAR_APP 2 rotatesprite x y 40960 1024 6364 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    else rotatesprite x y 40960 0 6190 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
 break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
case 26
case 27
case 28
case 29
 guniqhudid 10
 rotatesprite x y 32768 64 19843 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
        set weap_disp_temp7 gl_countd
        mulvar weap_disp_temp7 2
        sub weap_disp_temp7 5
        add y weap_disp_temp7
        sub x 85
        state fortymm_case_disp
 break
case 30
case 31
case 32
 guniqhudid 10
 rotatesprite x y 32768 0 19844 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
 break
case 33
case 34
case 35
case 36
 guniqhudid 10
 rotatesprite x y 32768 32 19842 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
 break
case 37
case 38
case 39
case 40
 guniqhudid 10
 rotatesprite x y 32768 0 19842 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
 break
case 44
case 45
case 46
case 47
case 48
    set x2 x
    sub x2 58
    set y2 y
    add y2 22
    displayrandvar rot_flash 2048
    guniqhudid 10
    rotatespritea x2 y2 14000 rot_flash 16115 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
    guniqhudid 11
    rotatesprite x y 40960 weap_disp_temp2 19838 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
 break
endswitch
else // normal firemode
switch weaponcount
case 0
case 1
case 42
    ifand gun_firemode 16384 // Ironsight?
   {
      set x 160
      set weap_disp_temp2 wepsway_x
      divvar weap_disp_temp2 2
      sub x weap_disp_temp2
      set y 130
      set weap_disp_temp3 wepsway_y
      divvar weap_disp_temp3 2
      sub y weap_disp_temp3
      set weap_disp_temp4 weapon_xoffset // set the weapon x sway to displaytemp4
      divvar weap_disp_temp4 2 // divide it by 2
      add x weap_disp_temp4 // add it to x
      sub x 5 // offset it by 5
      sub y 30
      guniqhudid 10
      rotatespritea x y QUARTERSIZE 0 11046 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2 // holotech dot
      set x 160
      sub x wepsway_x
      sub x 10
      add x weapon_xoffset
      set y 142
      sub y wepsway_y

     set weap_disp_temp8 62500
       ifg gun_pushb_disp 0
        {
        set weap_disp_temp7 32 // base value
        mul weap_disp_temp7 gun_spread // weapon shake affected by gun spread too
        mul weap_disp_temp7 gun_pushb_disp // countdown
        add weap_disp_temp8 weap_disp_temp7 // add to zoom value
        sub gun_pushb_disp 2
        }
      guniqhudid 11
      rotatesprite x y weap_disp_temp8 0 19845 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // holographic sight
        ifl player_shade_diff -5
            {
            set weap_disp_temp3 player_shade_diff
            mulvar weap_disp_temp3 4
            guniqhudid 12
            rotatespritea x y weap_disp_temp8 0 19846 player_shade_diff wall_pal 33 weap_disp_temp3 windowx1 windowy1 windowx2 windowy2 // Glass in holosight
            }
  }
  else
      {
      state gunpushback_display
      state wep_drawup
      guniqhudid 10
      rotatesprite x y 40960 weap_disp_temp2 19837 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      sub x 100
      add y 50
      guniqhudid 11
      rotatesprite x y 40960 weap_disp_temp2 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      }
  break
case 2
case 3
    ifand gun_firemode 16384 // Ironsight?
  {
      set x 160
      set weap_disp_temp2 wepsway_x
      divvar weap_disp_temp2 2
      sub x weap_disp_temp2
      set y 130
      set weap_disp_temp3 wepsway_y
      divvar weap_disp_temp3 2
      sub y weap_disp_temp3
      set weap_disp_temp4 weapon_xoffset // set the weapon x sway to displaytemp4
      divvar weap_disp_temp4 2 // divide it by 2
      add x weap_disp_temp4 // add it to x
      sub x 5 // offset it by 5
      sub y 30
         state random_AR_flash
      add y 20
      guniqhudid 10
      rotatespritea x y 24000 0 rot_flash 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
      sub y 20
      guniqhudid 11
      rotatespritea x y QUARTERSIZE 0 11046 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2 // holotech dot
      set x 160
      sub x wepsway_x
      sub x 10
      add x weapon_xoffset
      set y 142
      sub y wepsway_y

      set gun_pushb_disp 10
    set weap_disp_temp8 62500
       ifg gun_pushb_disp 0
        {
        set weap_disp_temp7 32 // base value
        mul weap_disp_temp7 gun_spread // weapon shake affected by gun spread too
        mul weap_disp_temp7 gun_pushb_disp // countdown
        add weap_disp_temp8 weap_disp_temp7 // add to zoom value
        sub gun_pushb_disp 2
        }
    guniqhudid 12
      rotatesprite x y weap_disp_temp8 0 19845 0 108 0 windowx1 windowy1 windowx2 windowy2 // holographic sight
        ifl player_shade_diff -5
            {
            set weap_disp_temp3 player_shade_diff
            mulvar weap_disp_temp3 2
            guniqhudid 13
            rotatespritea x y weap_disp_temp8 0 19846 player_shade_diff wall_pal 33 weap_disp_temp3 windowx1 windowy1 windowx2 windowy2 // Glass in holosight
            }
  }
  else
  {
displayrandvar gun_pushb_disp 10
add x gun_pushb_disp
add y gun_pushb_disp

  displayrandvar rot_flash 2048
  sub x 55
  sub y 20
   state random_AR_flash
   guniqhudid 10
   rotatespritea x y 28000 0 rot_flash 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
  add x 55
  add y 20
  guniqhudid 11
  rotatesprite x y 40960 0 19838 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  sub x 100
  add y 50
  guniqhudid 12
  rotatesprite x y 40960 weap_disp_temp2 C_ARM_2 0 107 4096 windowx1 windowy1 windowx2 windowy2
  }
  break
case 4
case 5
case 6
   state gunpushback_display
   guniqhudid 10
  rotatesprite x y 40960 0 19837 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  sub x 100
  add y 50
  guniqhudid 11
  rotatesprite x y 40960 weap_disp_temp2 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 9
case 36
case 37
case 38
case 39
  guniqhudid 10
  rotatesprite x y 40960 0 19837 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  sub x 100
  add y 50
  guniqhudid 11
  rotatesprite x y 40960 0 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 40
case 41
case 10
case 11
  guniqhudid 10
  rotatesprite x y 40960 16 19837 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  sub x 100
  add y 50
  guniqhudid 11
  rotatesprite x y 40960 16 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 12
case 13
case 14
case 30
case 31
case 32
  ife kickbackpic 30 sub y 5
  guniqhudid 10
  rotatesprite x y 40960 0 19839 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 15
case 16
case 17
case 33
case 34
case 35
  ife kickbackpic 30 sub y 5
  guniqhudid 10
  rotatesprite x y 40960 32 19839 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
case 26
case 27
case 28
case 29
  add x 20
  guniqhudid 10
  rotatesprite x y 40960 0 19839 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
endswitch
guniqhudid 0
ends

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// SLOT 4 WEAPONS
//
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

//SANG HELLFIRE STAFF===============================================================================================================

defstate drawspell4

guniqhudid 0
  set x 240
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 217
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos
  clamp y 133 320

   ife weap_disp_temp8 0
   {
   displayrandvar weap_disp_temp6 3000
  ifl weap_disp_temp6 5
        {
        set weap_disp_temp8 90
        }
    }

ifg weap_disp_temp8 0
    {
    sub weap_disp_temp8 1
    soundonce SPELL4AMB
    displayrandvar weap_disp_temp7 3
    add x weap_disp_temp7
    displayrandvar weap_disp_temp7 3
    add y weap_disp_temp7
    }

  ifg kickbackpic 0
  ifl kickbackpic 70
    {
    set weap_disp_temp5 kickbackpic
    mulvar weap_disp_temp5 4096
    add rot_flash 128
      sub y 25
      sub x 50
      guniqhudid 18
    rotatespritea x y weap_disp_temp5 rot_flash 7056 0 2 0 -255 windowx1 windowy1 windowx2 windowy2
    div weap_disp_temp5 2
    guniqhudid 19
    rotatespritea x y weap_disp_temp5 rot_flash 3605 0 2 0 -255 windowx1 windowy1 windowx2 windowy2
      add y 25
      add x 50
    }

ifg kickbackpic_2 0 // alt fire
switch kickbackpic_2
case 0
    state wep_drawup
    state gunpushback_display
    guniqhudid 10
    rotatesprite x y 40960 weap_disp_temp2 6215 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 95
    add y 40
    guniqhudid 11
    rotatesprite x y 32768 weap_disp_temp2 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // Arm
    add x 95
    sub y 40
    guniqhudid 12
    rotatesprite x y 40960 weap_disp_temp2 6213 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
	ifand MAGIC_UPGRADE[4] 4
		{
	  getp[].random_club_frame weap_disp_temp
	   sin weap_disp_temp weap_disp_temp
	   divvar weap_disp_temp 1024 // 2^10
	   add weap_disp_temp 10
	   guniqhudid 13
	   rotatespritea x y 40960 weap_disp_temp2 6214 weap_disp_temp 0 0 -255 windowx1 windowy1 windowx2 windowy2
	   }
  break
case 1
case 2
    guniqhudid 10
    rotatesprite x y 40960 weap_disp_temp2 6215 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    guniqhudid 11
    rotatesprite x y 40960 weap_disp_temp2 6216 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 95
    add y 40
    guniqhudid 12
    rotatesprite x y 32768 weap_disp_temp2 C_ARM_2 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // Arm
    add x 95
    sub y 40
    guniqhudid 13
    rotatesprite x y 40960 weap_disp_temp2 6213 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    guniqhudid 14
    rotatesprite x y 40960 weap_disp_temp2 6212 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
   guniqhudid 15
  rotatespritea x y 40960 weap_disp_temp2 6214 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 4
case 5
    set weap_disp_temp2 kickbackpic_2
    div weap_disp_temp2 2
 displayrandvarvar weap_disp_temp weap_disp_temp2
  add x weap_disp_temp
 displayrandvarvar weap_disp_temp weap_disp_temp2
  add y weap_disp_temp
    guniqhudid 10
    rotatesprite x y 40960 weap_disp_temp2 6215 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    guniqhudid 11
    rotatesprite x y 40960 weap_disp_temp2 6216 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 95
    add y 40
    guniqhudid 12
    rotatesprite x y 32768 weap_disp_temp2 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // Arm
    add x 95
    sub y 40
    guniqhudid 13
    rotatesprite x y 40960 weap_disp_temp2 6213 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    guniqhudid 14
    rotatesprite x y 40960 weap_disp_temp2 6212 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    guniqhudid 15
  rotatespritea x y 40960 0 6214 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
  break
case 6
case 7
 displayrandvar weap_disp_temp 7
  add x weap_disp_temp
 displayrandvar weap_disp_temp 7
  add y weap_disp_temp
  guniqhudid 10
  rotatesprite x y 40960 weap_disp_temp2 6215 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 11
    rotatesprite x y 40960 weap_disp_temp2 6216 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 95
    add y 40
    guniqhudid 12
    rotatesprite x y 32768 weap_disp_temp2 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // Arm
    add x 95
    sub y 40
    guniqhudid 13
    rotatesprite x y 40960 weap_disp_temp2 6213 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    guniqhudid 14
    rotatesprite x y 40960 weap_disp_temp2 6212 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    guniqhudid 15
  rotatespritea x y 40960 0 6214 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
  break
case 8
case 9
case 10
  set weap_disp_temp5 kickbackpic_2
  mulvar weap_disp_temp5 2048
  set weap_disp_temp6 65536
  sub weap_disp_temp6 weap_disp_temp5
  sub y 15
  sub x 50
  displayrandvar rot_flash 2048
  guniqhudid 10
  rotatespritea x y weap_disp_temp6 rot_flash 6247 0 2 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 15
  add x 50
    guniqhudid 11
    rotatesprite x y 40960 weap_disp_temp2 6215 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    guniqhudid 12
    rotatesprite x y 40960 weap_disp_temp2 6216 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 95
    add y 40
    guniqhudid 13
    rotatesprite x y 32768 weap_disp_temp2 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // Arm
    add x 95
    sub y 40
    guniqhudid 14
    rotatesprite x y 40960 weap_disp_temp2 6213 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    guniqhudid 15
    rotatesprite x y 40960 weap_disp_temp2 6212 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 16
  rotatespritea x y 40960 0 6214 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
  set gun_pushb_disp 10
  state gunpushback_display
  guniqhudid 10
    rotatesprite x y 40960 weap_disp_temp2 6215 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 95
    add y 40
    guniqhudid 11
    rotatesprite x y 32768 weap_disp_temp2 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // Arm
    add x 95
    sub y 40
    guniqhudid 12
    rotatesprite x y 40960 weap_disp_temp2 6213 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    guniqhudid 13
  rotatespritea x y 40960 0 6214 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 14
  state gunpushback_display
    guniqhudid 10
    rotatesprite x y 40960 weap_disp_temp2 6215 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 95
    add y 40
    guniqhudid 11
    rotatesprite x y 32768 weap_disp_temp2 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // Arm
    add x 95
    sub y 40
    guniqhudid 12
    rotatesprite x y 40960 weap_disp_temp2 6213 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    guniqhudid 13
  rotatespritea x y 40960 0 6214 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
  break
endswitch
else
switch weaponcount
case 0
case 1
    state wep_drawup
    state gunpushback_display
    guniqhudid 10
    rotatesprite x y 40960 weap_disp_temp2 6215 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 95
    add y 40
    guniqhudid 11
    rotatesprite x y 32768 weap_disp_temp2 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // Arm
    add x 95
    sub y 40
    guniqhudid 12
    rotatesprite x y 40960 weap_disp_temp2 6213 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  getp[].random_club_frame weap_disp_temp
   sin weap_disp_temp weap_disp_temp
   divvar weap_disp_temp 1024 // 2^10
   add weap_disp_temp 10
   guniqhudid 13
   rotatespritea x y 40960 weap_disp_temp2 6214 weap_disp_temp 0 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
    guniqhudid 10
    rotatesprite x y 40960 weap_disp_temp2 6215 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    guniqhudid 11
    rotatesprite x y 40960 weap_disp_temp2 6216 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 95
    add y 40
    guniqhudid 12
    rotatesprite x y 32768 weap_disp_temp2 C_ARM_2 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // Arm
    add x 95
    sub y 40
    guniqhudid 13
    rotatesprite x y 40960 weap_disp_temp2 6213 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    guniqhudid 14
    rotatesprite x y 40960 weap_disp_temp2 6212 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 5
    set weap_disp_temp2 weaponcount
    div weap_disp_temp2 2
 displayrandvarvar weap_disp_temp weap_disp_temp2
  add x weap_disp_temp
 displayrandvarvar weap_disp_temp weap_disp_temp2
  add y weap_disp_temp
    guniqhudid 10
    rotatesprite x y 40960 weap_disp_temp2 6215 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    guniqhudid 11
    rotatesprite x y 40960 weap_disp_temp2 6216 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 95
    add y 40
    guniqhudid 12
    rotatesprite x y 32768 weap_disp_temp2 C_ARM_2 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // Arm
    add x 95
    sub y 40
    guniqhudid 13
    rotatesprite x y 40960 weap_disp_temp2 6213 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    guniqhudid 14
    rotatesprite x y 40960 weap_disp_temp2 6212 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 6
case 7
 displayrandvar weap_disp_temp 7
  add x weap_disp_temp
 displayrandvar weap_disp_temp 7
  add y weap_disp_temp
    guniqhudid 10
    rotatesprite x y 40960 weap_disp_temp2 6215 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    guniqhudid 11
    rotatesprite x y 40960 weap_disp_temp2 6216 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 95
    add y 40
    guniqhudid 12
    rotatesprite x y 32768 weap_disp_temp2 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // Arm
    add x 95
    sub y 40
    guniqhudid 13
    rotatesprite x y 40960 weap_disp_temp2 6213 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    guniqhudid 14
    rotatesprite x y 40960 weap_disp_temp2 6212 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 8
case 9
case 10
  set weap_disp_temp5 kickbackpic
  mulvar weap_disp_temp5 2048
  set weap_disp_temp6 65536
  sub weap_disp_temp6 weap_disp_temp5
  sub y 15
  sub x 50
  guniqhudid 10
  rotatespritea x y weap_disp_temp6 0 6240 0 2 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 15
  add x 50
  guniqhudid 11
    rotatesprite x y 40960 weap_disp_temp2 6215 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    guniqhudid 12
    rotatesprite x y 40960 weap_disp_temp2 6216 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 95
    add y 40
    guniqhudid 13
    rotatesprite x y 32768 weap_disp_temp2 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // Arm
    add x 95
    sub y 40
    guniqhudid 14
    rotatesprite x y 40960 weap_disp_temp2 6213 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    guniqhudid 15
    rotatesprite x y 40960 weap_disp_temp2 6212 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
  set gun_pushb_disp 10
  state gunpushback_display
    guniqhudid 10
    rotatesprite x y 40960 weap_disp_temp2 6215 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 95
    add y 40
    guniqhudid 11
    rotatesprite x y 32768 weap_disp_temp2 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // Arm
    add x 95
    sub y 40
    guniqhudid 12
    rotatesprite x y 40960 weap_disp_temp2 6213 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 14
  state gunpushback_display
    guniqhudid 10
    rotatesprite x y 40960 weap_disp_temp2 6215 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 95
    add y 40
    guniqhudid 11
    rotatesprite x y 32768 weap_disp_temp2 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // Arm
    add x 95
    sub y 40
    guniqhudid 12
    rotatesprite x y 40960 weap_disp_temp2 6213 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
endswitch
guniqhudid 0
ends

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// SLOT 5 WEAPONS
//
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// SLOT 6 WEAPONS
//
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

//SANG'S SPELL BOOK===============================================================================================================

defstate drawspell5
guniqhudid 0
  set y 253
  sub y wepsway_y
  //add y looking_arc
  sub y gun_pos
  guniqhudid 0
switch weaponcount
case 0
  set x 265
  sub x wepsway_x
  sub x weapon_xoffset
  sub x looking_angSR1
  ifand CHAR_APP 2
      {
      ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 23843
      else set tilenum 23837
      }
  else
      {
      ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 13490
      else set tilenum 6145
      }
  state wep_drawup
  guniqhudid 10
  rotatesprite x y 40960 weap_disp_temp2 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 1
case 2
  set x 165
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1
  ifand CHAR_APP 2 set tilenum 23838
else
    {
    ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 13491
    else set tilenum 6146
    }
  guniqhudid 10
  rotatesprite x y 40960 0 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
break
case 7
  set x 205
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1
  ifand CHAR_APP 2
      {
      ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 23844
      else set tilenum 23839
      }
    else
     {
      ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 13492
      else set tilenum 6147
      }
  guniqhudid 10
  rotatesprite x y 40960 weap_disp_temp2 tilenum 0 21 0 windowx1 windowy1 windowx2 windowy2
 break
case 3
case 4
  set x 205
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1
  ifand CHAR_APP 2
      {
      ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 23844
      else set tilenum 23839
      }
    else
      {
        ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 13493
      else set tilenum 6148
        }
    guniqhudid 10
  rotatesprite x y 40960 weap_disp_temp2 tilenum 0 21 0 windowx1 windowy1 windowx2 windowy2
 break
case 5
  set x 205
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1
   ifand CHAR_APP 2
      {
      ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 23845
      else set tilenum 23840
      }
 else
      {
        ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 13494
      else set tilenum 6149
        }
    guniqhudid 10
  rotatesprite x y 40960 weap_disp_temp2 tilenum 0 21 0 windowx1 windowy1 windowx2 windowy2
 break
endswitch

  ifg player[].weapon_pos 0
      {
      ife player[].weapon_pos 8 sound BOOK_OPEN
      ifg player[].weapon_pos 7 set tilenum 6280
      else ifg player[].weapon_pos 4 set tilenum 6281
      else ifg player[].weapon_pos 0 set tilenum 6282
      }
  else
  ifl player[].weapon_pos 0
      {
      ife player[].weapon_pos -8 sound BOOK_CLOSE
      ifl player[].weapon_pos -7 set tilenum 6280
      else ifl player[].weapon_pos -4 set tilenum 6281
      else ifl player[].weapon_pos -0 set tilenum 6282
      }
  else
      {
      ife currentweapon 11 set tilenum 6269
      else set tilenum 6268
      }

  set x2 85
  sub x2 wepsway_x
  add x2 weapon_xoffset
  sub x2 looking_angSR1
  state wep_drawup
  guniqhudid 20
  rotatesprite x2 y 40960 weap_disp_temp2 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
guniqhudid 0
ends

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// SLOT 7 WEAPONS
//
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

// SANG'S UNMAKER===============================================================================================================

defstate drawunmaker

  set x 215
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1
  
  set x2 70
   sub x2 wepsway_x
   sub x2 weapon_xoffset
   add x2 looking_angSR1

  set y 240
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos
  clamp y 148 320

ifg kickbackpic_2 0
	switch kickbackpic_2
	case 13
	case 12
	case 11
		set tilenum CDETON
		add tilenum 1
		ife kickbackpic_2 13 sound CLICK_FINGER
		guniqhudid 10
		rotatesprite x2 y 40960 0 tilenum shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
		guniqhudid 13
		rotatesprite x y 49152 -256 6277 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
		break
	case 15
	case 14
	case 10
	case 9
	case 8
	case 7
	case 6
	case 5
	case 4
	case 3
	case 2
	case 1
		set y2 y
		ifle kickbackpic_2 11
			{
			set weap_disp_temp2 11
			sub weap_disp_temp2 kickbackpic_2
			mul weap_disp_temp2 8
			add y2 weap_disp_temp2
			}
		set tilenum CDETON
		guniqhudid 10
		rotatesprite x2 y2 40960 0 tilenum shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
		
		ifge GUN_CHARGE 249 add rot_flash 9
		else ifge GUN_CHARGE 150 add rot_flash 6
		else ifge GUN_CHARGE 50 add rot_flash 3
		else add rot_flash 1
		ifge rot_flash 2048 set rot_flash 0
		sub y2 40
		guniqhudid 11
		set weap_disp_temp 50
		sub weap_disp_temp GUN_CHARGE
		clamp weap_disp_temp 0 512
		rotatespritea x2 y2 16384 rot_flash PENTAGRAM weap_disp_temp 0 4096 -255 windowx1 windowy1 windowx2 windowy2
		
		ifg GUN_CHARGE 50
			{
			guniqhudid 12
			ifge GUN_CHARGE 249 rotatesprite x2 y2 16384 0 BRUISER 0 0 4096 windowx1 windowy1 windowx2 windowy2
			else
			ifge GUN_CHARGE 150 rotatesprite x2 y2 16384 0 CYBERTOUR 0 0 4096 windowx1 windowy1 windowx2 windowy2
			else
			ifge GUN_CHARGE 50 rotatesprite x2 y2 16384 0 SHADE 0 0 4096 windowx1 windowy1 windowx2 windowy2
			}
		
		guniqhudid 13
		rotatesprite x y 49152 -256 6277 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
		break
	endswitch
else
	switch weaponcount
	case 0
	case 4
	  state wep_drawup
		guniqhudid 10
	  rotatesprite x y 49152 weap_disp_temp2 6277 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
		ife HANDS_DRAW 2
		  {
		  sub x 50
		  add y 30
		  guniqhudid 11
		  rotatesprite x y 32768 0 C_ARM_2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
		  }
	break
	case 1
	case 3
		guniqhudid 10
	  rotatesprite x y 49152 0 6278 0 106 4096 windowx1 windowy1 windowx2 windowy2
		ife HANDS_DRAW 2
		  {
		  sub x 50
		  add y 30
		  guniqhudid 11
		  rotatesprite x y 32768 0 C_ARM_2 0 106 4096 windowx1 windowy1 windowx2 windowy2
		  }
	 break
	case 2
		  sub x 25
		  sub y 30
		  displayrandvar rot_flash 2048
		  guniqhudid 10
		  rotatespritea x y 18000 rot_flash 16114 0 2 0 -255 windowx1 windowy1 windowx2 windowy2
		  add x 25
		  add y 30
		guniqhudid 11
	  rotatesprite x y 49152 0 6277 0 107 4096 windowx1 windowy1 windowx2 windowy2
		ife HANDS_DRAW 2
		  {
		  sub x 50
		  add y 30
		  guniqhudid 12
		  rotatesprite x y 32768 0 C_ARM_2 0 107 4096 windowx1 windowy1 windowx2 windowy2
		  }
	 break
	endswitch
guniqhudid 0
ends

// SANG'S SACRED MANACLE===============================================================================================================

defstate draw_manacle

  set x 235
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 240
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos

ifand gun_firemode 16384
    {
    add x 40
    add y 40
    set weap_disp_temp 57444
    }
    else set weap_disp_temp HALFSIZE

switch weaponcount
case 0
case 14
  state gunpushback_display
  state wep_drawup
  guniqhudid 10
  rotatesprite x y weap_disp_temp weap_disp_temp2 22604 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2

   ife opt_weapon_glow YES
      {
      getp[].random_club_frame weap_disp_temp3
       sin weap_disp_temp3 weap_disp_temp3
       divvar weap_disp_temp3 1024 // 2^10
       add weap_disp_temp3 10
       guniqhudid 11
      rotatespritea x y weap_disp_temp 0 22608 weap_disp_temp3 0 0 -255 windowx1 windowy1 windowx2 windowy2
      state crystal_glow
      guniqhudid 12
      rotatespritea x y weap_disp_temp 0 22609 crystal_shade 0 0 -255 windowx1 windowy1 windowx2 windowy2
      }

  break
case 1
case 2
case 3
case 12
case 13
  state gunpushback_display
  guniqhudid 10
  rotatesprite x y weap_disp_temp 0 22605 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 5
case 6
case 10
case 11
  state gunpushback_display
  guniqhudid 10
  rotatesprite x y weap_disp_temp 0 22606 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 9
  displayrandvar gun_pushb_disp 5
  add gun_pushb_disp 10
  add x gun_pushb_disp
  add y gun_pushb_disp
  guniqhudid 10
  rotatesprite x y weap_disp_temp 0 22607 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
endswitch
guniqhudid 0
ends

//  SANG'S SERAPH SHOTGUN===============================================================================================================

defstate draw_seraph_shotg
guniqhudid 0
  set x 230
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 203
  sub y wepsway_y
  add y looking_arc
  set weap_disp_temp gun_pos
  divvar weap_disp_temp 2
  sub y weap_disp_temp
switch weaponcount
case 0
case 1
  state wep_drawup
  state gunpushback_display
  guniqhudid 10
  rotatesprite x y 40960 weap_disp_temp2 23871 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 2
      sub x 55
      sub y 30
      displayrandvar rot_flash 2048
      guniqhudid 10
      rotatespritea x y 18000 rot_flash 16114 0 2 0 -255 windowx1 windowy1 windowx2 windowy2
      add x 55
      add y 30
      guniqhudid 11
  rotatesprite x y 40960 0 23872 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 3
  state gunpushback_display
   displayrandvar gun_pushb_disp 5
   add gun_pushb_disp 10
  add x gun_pushb_disp
  add y gun_pushb_disp

      sub x 55
      sub y 30
      guniqhudid 10
      rotatespritea x y 20000 rot_flash 16114 15 2 0 -255 windowx1 windowy1 windowx2 windowy2
      add x 55
      add y 30
      guniqhudid 11
 rotatesprite x y 40960 0 23872 0 67 4096 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 5
case 6
  state gunpushback_display
  guniqhudid 10
  rotatesprite x y 40960 0 23873 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
  state gunpushback_display
  guniqhudid 10
  rotatesprite x y 40960 0 23874 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
endswitch
guniqhudid 0
ends

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// SLOT 8 WEAPONS
//
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

// SANG'S HEART LEECH===============================================================================================================

defstate drawheartleech

  set y 253
  //add y looking_arc
  sub y wepsway_y
  sub y gun_pos

switch weaponcount
case 0
  set x 95
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1
  ifand CHAR_APP 2 set tilenum 6304 else set tilenum 6305
  state wep_drawup
  guniqhudid 10
  rotatesprite x y 40960 weap_disp_temp2 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  set x 255
  sub x weapon_xoffset
  sub x looking_angSR1
  ifand CHAR_APP 2
	{
	 ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 23843
	 else set tilenum 23837
	}
	else
	{
	ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 13490
	else set tilenum 6145
	}
  guniqhudid 11
  rotatesprite x y 40960 weap_disp_temp2 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 1
case 2
  set x 95
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1
  ifand CHAR_APP 2 set tilenum 6304 else set tilenum 6305
  guniqhudid 10
   rotatesprite x y 40960 0 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  set x 135
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1
  ifand CHAR_APP 2
	{
	 ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 23843
	 else set tilenum 23838
	}
	else
	{
	ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 13491
	else set tilenum 6146
	}
  guniqhudid 11
  rotatesprite x y 40960 0 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
break
case 7
  set x 95
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1
  ifand CHAR_APP 2 set tilenum 6304 else set tilenum 6305
  guniqhudid 10
  rotatesprite x y 40960 0 tilenum 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  set x 175
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1
  ifand CHAR_APP 2
	{
	 ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 23844
	 else set tilenum 23839
	}
	else
	{
	ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 13492
	else set tilenum 6147
	}
  guniqhudid 11
  rotatesprite x y 40960 0 tilenum 0 21 0 windowx1 windowy1 windowx2 windowy2
 break
case 3
case 4
  set x 95
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1
  ifand CHAR_APP 2 set tilenum 6304 else set tilenum 6305
  guniqhudid 10
  rotatesprite x y 40960 0 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  set x 175
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1
  ifand CHAR_APP 2
	  {
	  ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 23844
	  else set tilenum 23839
	  }
	  else
	  {
	  ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 13493
	  else set tilenum 6148
	  }
  guniqhudid 11
  rotatesprite x y 40960 0 tilenum 0 21 0 windowx1 windowy1 windowx2 windowy2
 break
case 5
  set x 95
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1
  ifand CHAR_APP 2 set tilenum 6304 else set tilenum 6305
  guniqhudid 10
  rotatesprite x y 40960 0 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  set x 175
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1
  ifand CHAR_APP 2
	  {
	  ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 23845
	  else set tilenum 23840
	  }
    else
	  {
	  ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 13494
	  else set tilenum 6149
	  }
  guniqhudid 11
  rotatesprite x y 40960 0 tilenum 0 21 0 windowx1 windowy1 windowx2 windowy2
 break
endswitch
guniqhudid 0
ends

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// SLOT 9 WEAPONS
//
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

// OBLIVION STAFF===============================================================================================================

defstate drawspell8
  set x 220
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 240
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos
  ifg gun_pushb_disp 0 sub gun_pushb_disp 1

switch weaponcount
case 0
  state wep_drawup
  guniqhudid 10
  rotatesprite x y 40960 weap_disp_temp2 6231 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  ife opt_weapon_glow YES
      {
      getp[].random_club_frame weap_disp_temp
       sin weap_disp_temp weap_disp_temp
       divvar weap_disp_temp 1024 // 2^10
       add weap_disp_temp 16
       guniqhudid 11
      rotatespritea x y 40960 weap_disp_temp2 6232 weap_disp_temp 0 0 -255 windowx1 windowy1 windowx2 windowy2
      state crystal_glow
      guniqhudid 12
      rotatespritea x y 40960 weap_disp_temp2 6233 crystal_shade 0 0 -255 windowx1 windowy1 windowx2 windowy2
      }
  break
case 1
case 2
case 3
  guniqhudid 10
  rotatesprite x y 40960 0 6234 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 5
case 6
case 7
  guniqhudid 10
  rotatesprite x y 40960 0 6235 0 0 0 windowx1 windowy1 windowx2 windowy2
  break
case 8
case 9
case 10
case 11
  guniqhudid 10
  rotatesprite x y 40960 0 6236 0 0 0 windowx1 windowy1 windowx2 windowy2
  break
case 12
case 13
case 14
case 15
case 16
  ife weaponcount 12 set gun_pushb_disp 10
  add y gun_pushb_disp
  set weap_disp_temp5 kickbackpic
  mulvar weap_disp_temp5 4096
  sub y 40
  sub x 40
  guniqhudid 10
  rotatespritea x y weap_disp_temp5 0 6240 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
  add x 40
  add y 40
  guniqhudid 11
  rotatesprite x y 40960 0 6237 0 0 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
  add y gun_pushb_disp
  set weap_disp_temp5 kickbackpic
  mulvar weap_disp_temp5 4096
  set weap_disp_temp6 131072
  sub weap_disp_temp6 weap_disp_temp5
  sub y 40
  sub x 40
  guniqhudid 10
  rotatespritea x y weap_disp_temp6 0 6240 0 0 4097 -255 windowx1 windowy1 windowx2 windowy2
  add x 40
  add y 40
  guniqhudid 11
  rotatesprite x y 40960 0 6238 0 0 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
guniqhudid 0
ends

// NEMESIS STAFF===============================================================================================================

defstate draw_nemesis_staff

  set x 220
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 240
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
  state wep_drawup
  guniqhudid 10
  rotatesprite x y 40960 weap_disp_temp2 18078 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  ife opt_weapon_glow YES
      {
      getp[].random_club_frame weap_disp_temp
       sin weap_disp_temp weap_disp_temp
       divvar weap_disp_temp 1024 // 2^10
       add weap_disp_temp 16
       guniqhudid 11
      rotatespritea x y 40960 weap_disp_temp2 18080 weap_disp_temp 0 0 -255 windowx1 windowy1 windowx2 windowy2
      state crystal_glow
      guniqhudid 12
      rotatespritea x y 40960 weap_disp_temp2 18081 crystal_shade 0 0 -255 windowx1 windowy1 windowx2 windowy2
      }
  break
case 1
case 2
case 3
  guniqhudid 10
  rotatesprite x y 40960 0 18078 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 11
  rotatespritea x y 40960 0 18082 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 5
case 6
case 7
  guniqhudid 10
  rotatesprite x y 40960 0 18078 0 0 0 windowx1 windowy1 windowx2 windowy2
  guniqhudid 11
  rotatespritea x y 40960 0 18083 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
  break
case 8
case 9
case 10
case 11
  guniqhudid 10
  rotatesprite x y 40960 0 18078 0 0 0 windowx1 windowy1 windowx2 windowy2
  guniqhudid 11
  rotatespritea x y 40960 0 18084 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
  break
case 12
case 13
case 14
case 15
case 16
  ife weaponcount 12 set gun_pushb_disp 10
  add y gun_pushb_disp
  set weap_disp_temp5 kickbackpic
  mulvar weap_disp_temp5 4096
  sub y 40
  sub x 40
  guniqhudid 10
  rotatespritea x y weap_disp_temp5 0 6240 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
  add x 40
  add y 40
  guniqhudid 11
  rotatesprite x y 40960 0 18078 0 0 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
  add y gun_pushb_disp
  set weap_disp_temp5 kickbackpic
  mulvar weap_disp_temp5 4096
  set weap_disp_temp6 131072
  sub weap_disp_temp6 weap_disp_temp5
  sub y 40
  sub x 40
  guniqhudid 10
  rotatespritea x y weap_disp_temp6 0 6240 0 0 4097 -255 windowx1 windowy1 windowx2 windowy2
  add x 40
  add y 40
  guniqhudid 11
  rotatesprite x y 40960 0 18079 0 0 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
guniqhudid 0
ends
