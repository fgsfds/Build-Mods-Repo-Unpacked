/*
-------------------------------------------------------------------------------
===============================================================================

         -ooo:             +oo-            `+oo.       ./+oooooooooo+/:
        /NMMMN+            NMMNo`         -dMMM/      .mMMNmmmmmmmmmMMNo
       /NMd:mMMo           NMMNMd:      `oNMNMM/      :MMM/.........mMMh
      oNMd. -mMMy`         NMN:mMNs`   -hMm/mMM/      :MMM:         ::-.
    `sMMh`   .dMMh`        NMN .sNMd:`oNMh. mMM/      :MMM:
   `yMMMdhhhhhmMMMd.       NMN   /mMNdMm+`  mMM/      :MMM:         ss+:
  `hMMdhhhhhhhhhmMMm-      NMN    .yMMh.    mMM/      :MMM/.........mMMh
 .dMMs`         .hMMm:     NMN      :/`     mMM/      .mMMNmmmmmmmmmMMNo
 :oo+            `+oo+     +o+              +oo.       ./++ooooooooo+/:

###############################################################################
+ The AMC Squad
+ CON code by James Stanfield, Cedric "Sangman" Haegeman, Dino Bollinger,
+              Mikko Sandt, Cedric "Zaxtor" Lutes and Dan "Danarama" Gaskill
-------------------------------------------------------------------------------
* See AMC_MAIN.CON for a full list of script authors.

Feel free to use any code in the game for your own uses; just make
sure to mention the authors and/or "The AMC Squad" in your credits.
--------------------------------------------------------------------------------
NOTES:
This file defines the display code for Highwire's weapons.
--------------------------------------------------------------------------------
*/

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// SLOT 1 WEAPONS
//
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

// HIGHWIRE'S TOKAREV PISTOL===============================================================================================================

defstate drawtokarev

  set x 199
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 240
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos

	ifl gunsmoke_disp 40 ife INVINC 0
     ifn weaponcount 2
        {
        add gunsmoke_disp 1
        guniqhudid 18
        sub x 25
        sub y 44
        rotatespritea x y 30000 0 29952 gunsmoke_disp wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
        add x 25
        add y 44
        guniqhudid 0
        }

guniqhudid 0
switch weaponcount
case 0
case 1
  set weap_disp_temp2 player[].weapon_pos
  ife weap_disp_temp2 8 soundonce SELECT_PISTOL
  state wep_drawup
  state gunpushback_display
  set rot_flash 0
  ife PISTOLMAG 0 set tilenum 5919 else set tilenum 5917
  guniqhudid 10
  rotatesprite x y 40960 weap_disp_temp2 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add y 20
  add x 10
  guniqhudid 11
  rotatesprite x y 40960 0 C_PISTOL_R shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 2
  state gun_smoke_display
  ife rot_flash 0 displayrandvar rot_flash 2048
  displayrandvar gun_pushb_disp 15
  sub y 44
  sub x 25
  guniqhudid 10
  rotatespritea x y 16000 rot_flash 16115 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
  add y 44
  add x 25
  guniqhudid 11
  rotatesprite x y 40960 0 5918 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add y 20
  add x 10
  guniqhudid 12
  rotatesprite x y 40960 0 C_PISTOL_R 0 107 4096 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 4
    add x gun_pushb_disp
    add y gun_pushb_disp
    guniqhudid 10
  rotatesprite x y 40960 8 5919 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add y 20
  add x 10
  guniqhudid 11
  rotatesprite x y 40960 8 C_PISTOL_R shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7
case 8
case 9
case 10
  state gunpushback_display
  ife PISTOLMAG 0 set tilenum 5919 else set tilenum 5917
  guniqhudid 10
  rotatesprite x y 40960 16 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add y 20
  add x 10
  guniqhudid 11
  rotatesprite x y 40960 16 C_PISTOL_R shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
  add y 7
  ife PISTOLMAG 0 set tilenum 5919 else set tilenum 5917
  guniqhudid 10
  rotatesprite x y 40960 0 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add y 20
  add x 10
  guniqhudid 11
  rotatesprite x y 40960 0 C_PISTOL_R shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
  add y 7
  ife weaponcount 16 add y 5
  ife PISTOLMAG 0 set tilenum 5920 else set tilenum 5921
  guniqhudid 10
    rotatesprite x y 40960 0 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add y 22
  sub x 6
  guniqhudid 11
  rotatesprite x y 40960 64 C_PISTOL_R shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
  ife PISTOLMAG 0 set tilenum 5920 else set tilenum 5921
  guniqhudid 10
    rotatesprite x y 40960 32 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add y 20
  sub x 6
  guniqhudid 11
  rotatesprite x y 40960 96 C_PISTOL_R shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 24
case 25
case 26
case 27
case 28
case 29
case 30
  add y 5
  ife PISTOLMAG 0 set tilenum 5920 else set tilenum 5921
  guniqhudid 10
    rotatesprite x y 40960 64 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add y 18
  sub x 8
  guniqhudid 11
  rotatesprite x y 40960 128 C_PISTOL_R shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 31
case 32
case 33
case 34
    ife weaponcount 32 add y 5
  ife PISTOLMAG 0 set tilenum2 5920 else set tilenum2 5921
  guniqhudid 10
    rotatesprite x y 40960 96 tilenum2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add y 14
  sub x 8
  guniqhudid 11
  rotatesprite x y 40960 160 C_PISTOL_R shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 35
case 36
case 37
case 38
  guniqhudid 10
  rotatesprite x y 40960 98 tilenum2 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add y 14
  sub x 8
  guniqhudid 11
  rotatesprite x y 40960 162 C_PISTOL_R shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 39
case 40
case 41
case 42
case 43
  add y 5
  ife tilenum2 5920 ife weaponcount 40 sound S1911_SLIDE
  guniqhudid 10
    rotatesprite x y 40960 64 5921 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add y 18
  sub x 8
  guniqhudid 11
  rotatesprite x y 40960 128 C_PISTOL_R shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
endswitch
guniqhudid 0
ends

// HIGHWIRE'S PP2000 PISTOL===============================================================================================================

defstate draw_pp2000
  set x 240
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 225
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos

	ifl gunsmoke_disp 40 ife INVINC 0
     ifn weaponcount 2
        {
        add gunsmoke_disp 1
        guniqhudid 18
        sub x 63
        sub y 40
        rotatespritea x y 30000 0 29952 gunsmoke_disp wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
        add x 64
        add y 40
        guniqhudid 0
        }

guniqhudid 0
switch weaponcount
case 0
case 1
case 3
case 4
  set weap_disp_temp2 player[].weapon_pos
  ife weap_disp_temp2 8 soundonce SELECT_PISTOL
  state wep_drawup
  state gunpushback_display
  guniqhudid 10
  rotatesprite x y 40960 weap_disp_temp2 11860 shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
  add y 25
  sub x 30
  guniqhudid 11
  rotatesprite x y 40960 0 C_PISTOL_R shade arm_pal 4104 windowx1 windowy1 windowx2 windowy2
  sub y 25
  add x 30
  guniqhudid 12
  rotatesprite x y 40960 weap_disp_temp2 11864 shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
  break
case 2
state gun_smoke_display
displayrandvar gun_pushb_disp 15
add x gun_pushb_disp
add y gun_pushb_disp
  displayrandvar rot_flash 2048
  sub y 40
  sub x 63
  guniqhudid 10
  rotatespritea x y 16000 rot_flash 16115 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
  add y 40
  add x 63

  guniqhudid 11
  rotatesprite x y 40960 weap_disp_temp2 11860 0 106 4104 windowx1 windowy1 windowx2 windowy2
  add y 25
  sub x 30
  guniqhudid 12
  rotatesprite x y 40960 0 C_PISTOL_R 0 106 4104 windowx1 windowy1 windowx2 windowy2
  sub y 25
  add x 30
  guniqhudid 3
  rotatesprite x y 40960 weap_disp_temp2 11861 shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7
case 8
case 9
case 10
  add y 5
  guniqhudid 10
  rotatesprite x y 40960 16 11860 shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
  add y 25
  sub x 30
  guniqhudid 11
  rotatesprite x y 40960 16 C_PISTOL_R shade arm_pal 4104 windowx1 windowy1 windowx2 windowy2
  sub y 25
  add x 30
  guniqhudid 12
  rotatesprite x y 40960 16 11864 shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
  add y 7
  guniqhudid 10
  rotatesprite x y 40960 32 11860 shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
  add y 25
  sub x 30
  guniqhudid 11
  rotatesprite x y 40960 32 C_PISTOL_R shade arm_pal 4104 windowx1 windowy1 windowx2 windowy2
  sub y 25
  add x 30
  guniqhudid 12
  rotatesprite x y 40960 32 11864 shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
  add y 7
  ife weaponcount 16 add y 5
  add y 25
  sub x 25
  guniqhudid 10
  rotatesprite x y 40960 0 C_PISTOL_R shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  sub y 25
  add x 25
  guniqhudid 11
  rotatesprite x y 40960 0 11862 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
  guniqhudid 10
  rotatesprite x y 40960 0 11862 shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
  add y 50
  sub x 22
  guniqhudid 11
  rotatesprite x y 40960 96 C_PISTOL_R shade arm_pal 4104 windowx1 windowy1 windowx2 windowy2
  break
case 24
case 25
case 26
case 27
case 28
case 29
case 30
  add y 10
  guniqhudid 10
  rotatesprite x y 40960 0 11862 shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
  add y 50
  sub x 22
  guniqhudid 11
  rotatesprite x y 40960 96 C_PISTOL_R shade arm_pal 4104 windowx1 windowy1 windowx2 windowy2
  break
case 31
case 32
case 33
case 34
  ife weaponcount 32 add y 5
  guniqhudid 10
  rotatesprite x y 40960 0 11863 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add y 50
  sub x 32
  guniqhudid 11
  rotatesprite x y 40960 256 C_PISTOL_R shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 35
case 36
case 37
case 38
  guniqhudid 10
  rotatesprite x y 40960 0 11863 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add y 50
  sub x 32
  guniqhudid 11
  rotatesprite x y 40960 256 C_PISTOL_R shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 39
case 40
case 41
case 42
case 43
  add y 5
  guniqhudid 10
  rotatesprite x y 40960 0 11863 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add y 50
  sub x 32
  guniqhudid 11
  rotatesprite x y 40960 256 C_PISTOL_R shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
endswitch
guniqhudid 0
ends

// HIGHWIRE'S GOLD SKORPION===============================================================================================================

defstate draw_skorpion

  set x 225
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 230
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos

  clamp y 153 320

	ifl gunsmoke_disp 40 ife INVINC 0
     ifn weaponcount 2
        {
        add gunsmoke_disp 1
        guniqhudid 18
        sub x 50
        sub y 44
        rotatespritea x y 30000 0 29952 gunsmoke_disp wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
        add x 50
        add y 44
        guniqhudid 0
        }

  state gunpushback_display

switch weaponcount
case 0
case 1
case 3
case 4
  ife player[].weapon_pos 9 { set LOWER_WEAPON_SOUND SELECT_PISTOL state sound_lower_weapon }
  state wep_drawup

  guniqhudid 10
  rotatesprite x y 40960 weap_disp_temp2 13509 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
	  add y 45
	  add x 13
	  guniqhudid 11
	  rotatesprite x y 40960 weap_disp_temp2 C_PISTOL_R shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
	  sub y 45
	  sub x 13

  sub x 15
  sub y 25
  state do_gold_sparkle
  add x 15
  add y 25
  break
case 2
  state gun_smoke_display
  displayrandvar gun_pushb_disp 7
  add x gun_pushb_disp
  add y gun_pushb_disp
      displayrandvar rot_flash 2048
      sub y 40
      sub x 33
      guniqhudid 10
      rotatespritea x y 14000 rot_flash 16115 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
      add y 40
      add x 33
      guniqhudid 11
      rotatesprite x y 40960 0 13510 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
	  add y 45
	  add x 13
	  guniqhudid 12
	  rotatesprite x y 40960 weap_disp_temp2 C_PISTOL_R 0 102 4104 windowx1 windowy1 windowx2 windowy2
	  sub y 45
	  sub x 13
  break
case 5
case 6
case 7
case 36
case 37
case 38
    guniqhudid 10
  rotatesprite x y 40960 0 13509 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
	  add y 45
	  add x 13
	  guniqhudid 11
	  rotatesprite x y 40960 0 C_PISTOL_R shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
  break
case 8
case 9
case 10
case 33
case 34
case 35
    guniqhudid 10
  rotatesprite x y 40960 32 13509 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
	  add y 48
	  add x 8
	  guniqhudid 11
	  rotatesprite x y 40960 32 C_PISTOL_R shade wep_pal 4104 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
    guniqhudid 10
  rotatesprite x y 40960 48 13511 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  sub x 55
  add y 34
  guniqhudid 11
  rotatesprite x y 40960 64 CHOLDING_3 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 30
case 31
case 32
    guniqhudid 10
  rotatesprite x y 40960 64 13511 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 55
  add y 34
  guniqhudid 11
  rotatesprite x y 40960 80 CHOLDING_3 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 16
case 17
case 18
    guniqhudid 10
  rotatesprite x y 40960 64 13512 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 27
case 28
case 29
    guniqhudid 10
  rotatesprite x y 40960 64 13512 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 19
case 20
case 21
case 22
case 23
case 24
case 25
case 26
    guniqhudid 10
  rotatesprite x y 40960 96 13512 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
endswitch
guniqhudid 0
ends

// Highwire's automag===============================================================================================================

defstate draw_automag

  set x 219
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 240
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos

	ifl gunsmoke_disp 40 ife INVINC 0
     ifn weaponcount 2
        {
        add gunsmoke_disp 1
        guniqhudid 18
        sub x 33
        sub y 40
        rotatespritea x y 35000 0 29952 gunsmoke_disp wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
        add x 33
        add y 40
        guniqhudid 0
        }

guniqhudid 0
switch weaponcount
case 0
case 1
  set weap_disp_temp2 player[].weapon_pos
  state wep_drawup
  state gunpushback_display
  ife PISTOLMAG 0 set tilenum 13433 else set tilenum 13431
  guniqhudid 10
  rotatesprite x y 32768 weap_disp_temp2 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add y 30
  add x 5
  guniqhudid 11
  rotatesprite x y 40960 0 C_PISTOL_R shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 2
state gun_smoke_display
displayrandvar gun_pushb_disp 15
add x gun_pushb_disp
add y gun_pushb_disp
  displayrandvar rot_flash 2048
  sub y 40
  sub x 33
  guniqhudid 10
  rotatespritea x y 24000 rot_flash 16115 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
  add y 40
  add x 33
  guniqhudid 11
  rotatesprite x y 32768 0 13432 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add y 30
  add x 5
  guniqhudid 12
  rotatesprite x y 40960 0 C_PISTOL_R 0 107 4096 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 4
  state gunpushback_display
  guniqhudid 10
  rotatesprite x y 32768 8 13433 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add y 30
  add x 5
  guniqhudid 11
  rotatesprite x y 40960 8 C_PISTOL_R shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7
case 8
case 9
case 10
  add y 5
  ife PISTOLMAG 0 set tilenum 13433 else set tilenum 13431
  guniqhudid 10
  rotatesprite x y 32768 16 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    add y 30
  add x 5
  guniqhudid 11
  rotatesprite x y 40960 16 C_PISTOL_R shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
  add y 7
  ife PISTOLMAG 0 set tilenum 13433 else set tilenum 13431
  guniqhudid 10
  rotatesprite x y 32768 0 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    add y 30
  add x 5
  guniqhudid 11
  rotatesprite x y 40960 0 C_PISTOL_R shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
  add y 7
  ife PISTOLMAG 0 set tilenum 13434 else set tilenum 13435
  guniqhudid 10
    rotatesprite x y 32768 0 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add y 20
  sub x 6
  guniqhudid 11
  rotatesprite x y 40960 64 C_PISTOL_R shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
  ife weaponcount 20 add y 15
  ife PISTOLMAG 0 set tilenum 13434 else set tilenum 13435
  guniqhudid 10
    rotatesprite x y 32768 32 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add y 18
  sub x 8
  guniqhudid 11
  rotatesprite x y 40960 96 C_PISTOL_R shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 24
case 25
case 26
case 27
case 28
case 29
case 30
case 42
case 43
  add y 5
  ife PISTOLMAG 0 set tilenum 13434 else set tilenum 13435
  guniqhudid 10
    rotatesprite x y 32768 64 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add y 16
  sub x 10
  guniqhudid 11
  rotatesprite x y 40960 128 C_PISTOL_R shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 31
case 32
case 33
case 34
case 39
case 40
case 41
   ife weaponcount 32 sub y 15
  ife PISTOLMAG 0 set tilenum 13434 else set tilenum 13435
  guniqhudid 10
    rotatesprite x y 32768 96 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add y 12
  sub x 10
  guniqhudid 11
  rotatesprite x y 40960 160 C_PISTOL_R shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 35
case 36
case 37
case 38
  ife PISTOLMAG 0 set tilenum 13434 else set tilenum 13435
  guniqhudid 10
    rotatesprite x y 32768 98 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add y 12
  sub x 10
  guniqhudid 11
  rotatesprite x y 40960 162 C_PISTOL_R shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
endswitch
guniqhudid 0
ends

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// SLOT 2 WEAPONS
//
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

// HIGHWIRE's R870===============================================================================================================

defstate draw870


  set x 225
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 245
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos
guniqhudid 10

	ifl gunsmoke_disp 40 ife INVINC 0
     ifn weaponcount 2
        {
        add gunsmoke_disp 1
        guniqhudid 18
        sub x 55
        sub y 52
        rotatespritea x y 40000 0 29952 gunsmoke_disp wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
        add x 55
        add y 52
        guniqhudid 0
        }

ife player[].reloading 1
{
    sub y 40

    switch weaponcount
    case 13
    case 14
    case 15
    case 16
    case 17
      add x 10
      sub y 10
      guniqhudid 10
      rotatesprite x y 45152 0 5936 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      guniqhudid 11
      ifand HIGHWIRE_UPGRADE 32 rotatesprite x y 45152 0 5939 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 18
    case 19
    case 20
      add x 10
      sub y 8
      guniqhudid 10
      rotatesprite x y 45152 5 5936 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      guniqhudid 11
      ifand HIGHWIRE_UPGRADE 32 rotatesprite x y 45152 5 5939 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
       guniqhudid 12
       add y 40
      ifand AMMO_TYPES[cur_weap] 1 rotatesprite x y 40960 5 6094 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
      else ifand AMMO_TYPES[cur_weap] 4 rotatesprite x y 40960 5 6093 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
      else ifand AMMO_TYPES[cur_weap] 64 rotatesprite x y 40960 5 6092 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
      else ifand AMMO_TYPES[cur_weap] 1024 rotatesprite x y 40960 5 6096 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
	  else ifand AMMO_TYPES[cur_weap] 65536 rotatesprite x y 40960 5 6093 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
      else rotatesprite x y 40960 5 5937 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
	  ifand CHAR_APP 16 rotatesprite x y 40960 5 5938 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 21
    case 22
    case 23
      add x 10
      sub y 5
      guniqhudid 10
      rotatesprite x y 45152 10 5936 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      guniqhudid 11
      ifand HIGHWIRE_UPGRADE 32 rotatesprite x y 45152 10 5939 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 24
    case 25
        guniqhudid 10
        rotatesprite x y 45152 0 5936 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
        guniqhudid 11
        ifand HIGHWIRE_UPGRADE 32 rotatesprite x y 45152 0 5939 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
        break
    case 26
    case 27
    case 28
        add y 20
        guniqhudid 10
        ifand HIGHWIRE_UPGRADE 32 rotatesprite x y 45152 0 6012 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
         else rotatesprite x y 45152 0 5895 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
          break
    case 29
    case 30
    case 31
    add y 20
    guniqhudid 10
        ifand HIGHWIRE_UPGRADE 32 rotatesprite x y 45152 0 6010 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      else rotatesprite x y 45152 0 5893 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 70
    add y 5
    guniqhudid 11
    rotatesprite x y 32768 weap_disp_temp2 C_ARM_2 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    endswitch
guniqhudid 0
}
else
switch weaponcount
case 0
case 1
case 4
case 5
case 6
case 7
case 8
case 9
case 10
case 11
case 20
case 21
case 22
  state gunpushback_display
  ife player[].weapon_pos 8 soundonce R870PUMP
  state wep_drawup
  guniqhudid 10
  set rot_flash 0
  set rot_flash2 0
  ifand HIGHWIRE_UPGRADE 32 rotatesprite x y 45152 weap_disp_temp2 6010 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  else rotatesprite x y 45152 weap_disp_temp2 5893 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 70
    add y 5
    guniqhudid 11
    rotatesprite x y 32768 weap_disp_temp2 C_ARM_2 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 2
   sub y 52
  sub x 55
  guniqhudid 10
  state random_shotg_flash
  rotatespritea x y 40960 rot_flash2 rot_flash 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
  add y 52
  add x 55
 guniqhudid 11
    ifand HIGHWIRE_UPGRADE 32 rotatesprite x y 45152 0 6011 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  else rotatesprite x y 45152 0 5894 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 70
    add y 5
    guniqhudid 12
    rotatesprite x y 32768 0 C_ARM_2 0 107 4096 windowx1 windowy1 windowx2 windowy2
  break
case 3
	state gun_smoke_display
  displayrandvar gun_pushb_disp 12
  ife weaponcount 3
	  {
	  add x gun_pushb_disp
	  add y gun_pushb_disp
	  add gun_pushb_disp 20
	  }
   ife rot_flash 0 displayrandvar rot_flash 2048

   sub y 52
  sub x 55
  guniqhudid 10
  rotatespritea x y 18000 rot_flash 16114 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
  add y 52
  add x 55
 guniqhudid 11
    ifand HIGHWIRE_UPGRADE 32 rotatesprite x y 45152 0 6011 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  else rotatesprite x y 45152 0 5894 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 70
    add y 5
    guniqhudid 12
    rotatesprite x y 32768 0 C_ARM_2 0 107 4096 windowx1 windowy1 windowx2 windowy2
  break
case 12
case 13
case 18
case 19
  set x 242
  add x weapon_xoffset
  sub x looking_angSR1

  set y 222
  add y looking_arc
  sub y gun_pos
  guniqhudid 10
   ifand HIGHWIRE_UPGRADE 32 rotatesprite x y 45152 0 6012 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  else rotatesprite x y 45152 0 5895 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 60
    add y 14
    guniqhudid 11
     ifand CHAR_APP 16 rotatesprite x y 32768 0 5916 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  else rotatesprite x y 32768 0 5898 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 17
  set x 240
  add x weapon_xoffset
  sub x looking_angSR1

  set y 210
  add y looking_arc
  sub y gun_pos
  guniqhudid 10
   ifand HIGHWIRE_UPGRADE 32 rotatesprite x y 45152 0 6012 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  else rotatesprite x y 45152 0 5895 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 60
    add y 14
    guniqhudid 11
	ifand CHAR_APP 16 rotatesprite x y 32768 0 5916 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
    else rotatesprite x y 32768 0 5898 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 15
case 16
  set x 245
  add x weapon_xoffset
  sub x looking_angSR1

  set y 215
  add y looking_arc
  sub y gun_pos
  guniqhudid 10
   ifand HIGHWIRE_UPGRADE 32 rotatesprite x y 45152 0 5897 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  else rotatesprite x y 45152 0 5896 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 50
    add y 39
    guniqhudid 11
    ifand CHAR_APP 16 rotatesprite x y 32768 0 5916 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
    else rotatesprite x y 32768 0 5898 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
endswitch
guniqhudid 0
ends


// HIGHWIRE'S SAIGA-12===============================================================================================================

defstate draw_saiga12

  set x 245
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 257
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos

  	ifl gunsmoke_disp 40 ife INVINC 0
     ifn weaponcount 2
        {
        add gunsmoke_disp 1
        guniqhudid 18
        sub x 58
        sub y 67
        rotatespritea x y 40000 0 29952 gunsmoke_disp wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
        add x 58
        add y 67
        guniqhudid 0
        }

    state gunpushback_display
    guniqhudid 0
    switch weaponcount
    case 0
    case 1
    case 4
	  set rot_flash 0
	  set rot_flash2 0
    ifand gun_firemode 16384 // Ironsight?
      {
          set x 160
          set weap_disp_temp2 wepsway_x
          divvar weap_disp_temp2 2
          sub x weap_disp_temp2
          set y 140
          set weap_disp_temp3 wepsway_y
          divvar weap_disp_temp3 2
          sub y weap_disp_temp3
          set weap_disp_temp4 weapon_xoffset // set the weapon x sway to displaytemp4
          divvar weap_disp_temp4 2 // divide it by 2
          add x weap_disp_temp4 // add it to x
          sub x 5 // offset it by 5
          sub y 10
          state gunpushback_sight_display
          guniqhudid 10
          rotatesprite x y weap_disp_temp8 0 12129 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // Barrel
          sub y 30
          guniqhudid 11
          rotatespritea x y 8192 0 11047 0 0 1 -255 windowx1 windowy1 windowx2 windowy2 // holographic crosshair
          set x 160
          sub x wepsway_x
          sub x 10
          add x weapon_xoffset
          set y 142
          sub y wepsway_y
          guniqhudid 12
          rotatesprite x y weap_disp_temp8 0 12165 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // holotech sight

                ifl player_shade_diff -5
                    {
                    set weap_disp_temp3 player_shade_diff
                    mulvar weap_disp_temp3 2
                    sub y 30
                    guniqhudid 13
                    rotatespritea x y 6096 0 2587 player_shade_diff wall_pal 33 weap_disp_temp3 windowx1 windowy1 windowx2 windowy2 // Glass in holosight
                    }

      }
    else
        {
        ife player[].weapon_pos 9 { set LOWER_WEAPON_SOUND SELECT_WEAPON state sound_lower_weapon }
        state wep_drawup
        guniqhudid 10
        rotatesprite x y 45152 weap_disp_temp2 12096 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
        sub x 80
        sub y 5
        guniqhudid 11
        rotatesprite x y 32768 weap_disp_temp2 C_ARM_2 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
        }
      break
    case 2
    ifand gun_firemode 16384
          {
              set x 160
              set weap_disp_temp2 wepsway_x
              divvar weap_disp_temp2 2
              sub x weap_disp_temp2
              set y 140
              set weap_disp_temp3 wepsway_y
              divvar weap_disp_temp3 2
              sub y weap_disp_temp3
              set weap_disp_temp4 weapon_xoffset // set the weapon x sway to displaytemp4
              divvar weap_disp_temp4 2 // divide it by 2
              add x weap_disp_temp4 // add it to x
              sub x 5 // offset it by 5
              sub y 5
              sub y 10
              guniqhudid 10
              rotatespritea x y 20000 rot_flash 16114 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
              add y 5
              ife weaponcount 3
              {
              set gun_pushb_disp 10
              state gunpushback_sight_display
             }
             guniqhudid 11
              rotatesprite x y weap_disp_temp8 0 12129 0 106 0 windowx1 windowy1 windowx2 windowy2 // Barrel
              sub y 30
              guniqhudid 12
              rotatespritea x y 8192 0 11047 0 0 1 -255 windowx1 windowy1 windowx2 windowy2 // holographic crosshair
              set x 160
              sub x wepsway_x
              sub x 10
              add x weapon_xoffset
              set y 142
              sub y wepsway_y
              guniqhudid 13
              rotatesprite x y weap_disp_temp8 0 12165 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // holotech sight

          }
  else
        {
		state gun_smoke_display
        displayrandvar gun_pushb_disp 10
        ife weaponcount 3
              {
              add x gun_pushb_disp
              add y gun_pushb_disp
              }
          sub x 58
          sub y 67
          guniqhudid 10
		  state random_shotg_flash
          rotatespritea x y 40960 rot_flash2 rot_flash 0 0 8 -255 windowx1 windowy1 windowx2 windowy2
          add x 58
          add y 67
          guniqhudid 11
          rotatesprite x y 45152 0 12096 0 0 0 windowx1 windowy1 windowx2 windowy2
          guniqhudid 12
          rotatesprite x y 45152 0 12097 0 0 0 windowx1 windowy1 windowx2 windowy2
         sub x 80
         sub y 5
         guniqhudid 13
         rotatesprite x y 32768 weap_disp_temp2 C_ARM_2 0 107 4096 windowx1 windowy1 windowx2 windowy2
        }
      break
    case 3
    ife rot_flash 0 displayrandvar rot_flash 2048
    ifand gun_firemode 16384
          {
              set x 160
              set weap_disp_temp2 wepsway_x
              divvar weap_disp_temp2 2
              sub x weap_disp_temp2
              set y 140
              set weap_disp_temp3 wepsway_y
              divvar weap_disp_temp3 2
              sub y weap_disp_temp3
              set weap_disp_temp4 weapon_xoffset // set the weapon x sway to displaytemp4
              divvar weap_disp_temp4 2 // divide it by 2
              add x weap_disp_temp4 // add it to x
              sub x 5 // offset it by 5
              sub y 5
              sub y 10
              guniqhudid 10
              rotatespritea x y 20000 rot_flash 16114 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
              add y 5
              ife weaponcount 3
              {
              set gun_pushb_disp 10
              state gunpushback_sight_display
             }
             guniqhudid 11
              rotatesprite x y weap_disp_temp8 0 12129 0 106 0 windowx1 windowy1 windowx2 windowy2 // Barrel
              sub y 30
              guniqhudid 12
              rotatespritea x y 8192 0 11047 0 0 1 -255 windowx1 windowy1 windowx2 windowy2 // holographic crosshair
              set x 160
              sub x wepsway_x
              sub x 10
              add x weapon_xoffset
              set y 142
              sub y wepsway_y
              guniqhudid 13
              rotatesprite x y weap_disp_temp8 0 12165 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // holotech sight

          }
  else
        {
		state gun_smoke_display
        displayrandvar gun_pushb_disp 10
        ife weaponcount 3
              {
              add x gun_pushb_disp
              add y gun_pushb_disp
              }
          sub x 58
          sub y 67
          guniqhudid 10
          rotatespritea x y 20000 rot_flash 16114 0 0 8 -255 windowx1 windowy1 windowx2 windowy2
          add x 58
          add y 67
          guniqhudid 11
          rotatesprite x y 45152 0 12096 0 0 0 windowx1 windowy1 windowx2 windowy2
          guniqhudid 12
          rotatesprite x y 45152 0 12097 0 0 0 windowx1 windowy1 windowx2 windowy2
         sub x 80
         sub y 5
         guniqhudid 13
         rotatesprite x y 32768 weap_disp_temp2 C_ARM_2 0 107 4096 windowx1 windowy1 windowx2 windowy2
        }
      break
    case 5
    case 6
    case 7
    case 8
    case 9
    case 10
    case 11
    case 36
    case 37
    case 38
    case 39
    case 40
    case 41
    case 42
        guniqhudid 10
      rotatesprite x y 40960 0 12098 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 12
    case 13
    case 14
    case 15
    case 16
    case 17
    case 32
    case 33
    case 34
    case 35
      sub y 15
      ife kickbackpic 33 sub y 15
      guniqhudid 10
      rotatesprite x y 40960 0 12099 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      sub x 90
      add y 45
      guniqhudid 11
      rotatesprite x y 40960 96 CHOLDING_3 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 18
    case 19
    case 30
    case 31
      sub y 15
      ife kickbackpic 18 add y 15
      guniqhudid 10
      rotatesprite x y 40960 8 12093 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      guniqhudid 11
      ife SHOTGUNBOXMAG 0 ifl weaponcount 20 rotatesprite x y 40960 8 12091 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      else rotatesprite x y 40960 8 12092 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 20
    case 21
    case 22
    case 23
    case 24
    case 25
    case 26
    case 27
    case 28
    case 29
      sub y 15
      ife kickbackpic 18 add y 5
      guniqhudid 10
      rotatesprite x y 40960 16 12093 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    // PRESS BOLT CATCH RELOAD
    case 43
    case 61
        guniqhudid 10
      rotatesprite x y 40960 0 12098 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 44
    case 60
        guniqhudid 10
      rotatesprite x y 40960 16 12098 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 45
    case 59
        guniqhudid 10
      rotatesprite x y 40960 32 12098 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 46
    case 58
        guniqhudid 10
      rotatesprite x y 40960 32 12098 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      add x 50
      add y 20
      break
    case 47
    case 57
        guniqhudid 10
      rotatesprite x y 40960 32 12098 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      add x 55
      add y 20
      break
    case 48
    case 56
      add y 5
      guniqhudid 10
      rotatesprite x y 40960 48 12098 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      add x 57
      add y 50
      break
    case 49
    case 55
      add y 10
      guniqhudid 10
      rotatesprite x y 40960 64 12098 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      add x 57
      add y 50
      break
    case 50
    case 54
      add y 15
      guniqhudid 10
      rotatesprite x y 40960 76 12098 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      add x 57
      add y 50
      break
    case 51
    case 53
      add y 20
      guniqhudid 10
      rotatesprite x y 40960 96 12098 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 52
      add y 35
      guniqhudid 10
      rotatesprite x y 40960 104 12098 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    endswitch
guniqhudid 0
ends

// GOLDEN TRIPLE THREAT


defstate draw_golden_triple

 set x 217
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 238
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos
  clamp y 144 320

	ifl gunsmoke_disp 40 ife INVINC 0
     ifn weaponcount 2
        {
        add gunsmoke_disp 1
        guniqhudid 18
        sub x 50
        sub y 55
        rotatespritea x y 40000 0 29952 gunsmoke_disp wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
        add x 50
        add y 55
        guniqhudid 0
        }
  ifg weaponcount 6 set gun_pushb_disp 0
guniqhudid 0
switch weaponcount
case 0
case 1
  state wep_drawup
  state gunpushback_display
  set rot_flash 0
  set rot_flash2 0
  guniqhudid 10
  rotatesprite x y 49152 weap_disp_temp2 19775 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  sub x 70
  add y 30
  guniqhudid 11
  rotatesprite x y 40960 weap_disp_temp2 C_ARM_2 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 2
   sub x 50
   sub y 55
   ife SHOTGUNBOXMAG 1 add y 10 // second shot comes from top barrel
   guniqhudid 10
   state random_shotg_flash
  rotatespritea x y 40960 rot_flash2 rot_flash 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
  add x 50
  add y 55
  ife SHOTGUNBOXMAG 1 sub y 10 // second shot comes from top barrel
  guniqhudid 11
  rotatesprite x y 49152 0 19776 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  sub x 70
  add y 30
  guniqhudid 12
  rotatesprite x y 40960 0 C_ARM_2 0 107 4096 windowx1 windowy1 windowx2 windowy2
  break
case 3
 state gun_smoke_display
 set gun_pushb_disp 10
 displayrandvar rot_flash 2048
   sub x 50
   sub y 55
   ife SHOTGUNBOXMAG 1 add y 10 // second shot comes from top barrel
   guniqhudid 10
  rotatespritea x y 15000 rot_flash 16114 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
  add x 50
  add y 55
  ife SHOTGUNBOXMAG 1 sub y 10 // second shot comes from top barrel
  guniqhudid 11
  rotatesprite x y 49152 0 19776 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  sub x 70
  add y 30
  guniqhudid 12
  rotatesprite x y 40960 0 C_ARM_2 0 107 4096 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 5
  guniqhudid 10
  rotatesprite x y 49152 0 19777 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 68
  add y 32
  guniqhudid 11
  rotatesprite x y 40960 0 C_ARM_2 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 6
case 29
    guniqhudid 10
  rotatesprite x y 49152 -32 19775 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  sub x 70
  add y 30
    guniqhudid 11
  rotatesprite x y 40960 -32 C_ARM_2 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 30
    guniqhudid 10
  rotatesprite x y 49152 -64 19775 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  sub x 70
  add y 30
  guniqhudid 11
  rotatesprite x y 40960 -64 C_ARM_2 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 8
case 9
case 10
case 27
case 28
    guniqhudid 10
  rotatesprite x y 49152 0 19778 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 55
  add y 30
  guniqhudid 11
  ifand CHAR_APP 16 rotatesprite x y 40960 -64 5916 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  else rotatesprite x y 40960 -64 5898 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
case 25
case 26
    guniqhudid 10
  rotatesprite x 185 49152 0 19779 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 65
  add y 20
  guniqhudid 11
  rotatesprite x y 40960 -64 C_ARM_2 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
add y 15
add x 30
    guniqhudid 10
  rotatesprite x 185 49152 0 19780 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add x 25
  add y 11
  guniqhudid 11
  rotatesprite x 185 53248 0 C_HAND_1 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
  add y 5
  guniqhudid 10
  rotatesprite x 185 49152 0 19780 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add x 25
  add y 11
  guniqhudid 11
  rotatesprite x 185 53248 0 C_HAND_2 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 20
case 21
case 22
  add y 5
  guniqhudid 10
  rotatesprite x 185 49152 0 19780 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 11
  rotatesprite x 185 49152 0 19773 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add x 17
  guniqhudid 12
  rotatesprite x 177 53248 0 C_HAND_2 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 23
case 24
    guniqhudid 10
  rotatesprite x 190 49152 0 19780 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 11
  rotatesprite x 190 49152 0 19773 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
 endswitch
 guniqhudid 0
ends

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// SLOT 3 WEAPONS
//
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

// Highwire's AKM===============================================================================================================

defstate drawAKM

  set x 225
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 227
  clamp y 155 320
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos

  	ifl gunsmoke_disp 40 ife INVINC 0
     ifn weaponcount 2
        {
        add gunsmoke_disp 1
        guniqhudid 18
        sub x 50
        sub y 38
        rotatespritea x y 30000 0 29952 gunsmoke_disp wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
        add x 50
        add y 38
        guniqhudid 0
        }

 ifand gun_firemode 32768 // Using the GL?
{
    switch gl_countd
    case 0
    case 43
    case 42
    case 41
      state wep_drawup
      guniqhudid 10
     rotatesprite x y 40960 weap_disp_temp2 5906 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
     guniqhudid 11
     ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 weap_disp_temp2 5907 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
     guniqhudid 12
     ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 weap_disp_temp2 5911 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
     break
    case 1
    case 2
    case 3
    case 4
        guniqhudid 10
     rotatesprite x y 40960 0 5901 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
     guniqhudid 11
     ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 0 5909 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
     guniqhudid 12
     ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 0 5913 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
     break
    case 5
    case 6
    case 7
    case 8
     guniqhudid 10
     rotatesprite x y 40960 32 5904 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
     break
    case 9
    case 10
    case 11
    case 12
    case 13
     guniqhudid 10
     rotatesprite x y 40960 32 5905 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
     break
    case 14
    case 15
    case 16
     guniqhudid 10
     rotatesprite x y 40960 0 5905 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 20
    add y 25
    guniqhudid 11
    rotatesprite x y 40960 1024 C_HAND_2 shade arm_pal 4 windowx1 windowy1 windowx2 windowy2
     break
    case 17
    case 18
    case 19
    case 20
    case 21
    case 22
    case 23
    case 24
    case 25
    case 26
    case 27
    case 28
    case 29
     guniqhudid 10
     rotatesprite x y 40960 64 5905 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
            set weap_disp_temp7 gl_countd
            mulvar weap_disp_temp7 2
            sub weap_disp_temp7 20
            add y weap_disp_temp7
            sub x 20
            state fortymm_caseless_disp
     break
    case 30
    case 31
    case 32
     guniqhudid 10
     rotatesprite x y 40960 0 5904 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
     break
    case 33
    case 34
    case 35
    case 36
     guniqhudid 10
     rotatesprite x y 40960 32 5904 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
     break
    case 37
    case 38
    case 39
    case 40
     guniqhudid 10
     rotatesprite x y 40960 0 5901 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
     guniqhudid 11
     ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 0 5909 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
     guniqhudid 12
     ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 0 5913 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
     break
    case 44
    case 45
    case 46
    case 47
    case 48
		    state gun_smoke_display
            set weap_disp_temp6 x
            sub weap_disp_temp6 48
            set weap_disp_temp7 y
            sub weap_disp_temp7 32
            displayrandvar rot_flash 2048
            guniqhudid 10
            rotatespritea weap_disp_temp6 weap_disp_temp7 14000 rot_flash 16114 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
            guniqhudid 11
            rotatesprite x y 40960 0 5900 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
            guniqhudid 12
            ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 0 5908 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
            guniqhudid 13
            ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 0 5912 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
     break
    endswitch
}
else
switch weaponcount
case 0
case 1
case 4
case 5
case 6
case 7
case 8
case 9
case 10
  ifand gun_firemode 16384 // Ironsight?
  {
      set x 160
      set weap_disp_temp2 wepsway_x
      divvar weap_disp_temp2 2
      sub x weap_disp_temp2
      set y 140
      set weap_disp_temp3 wepsway_y
      divvar weap_disp_temp3 2
      sub y weap_disp_temp3
      set weap_disp_temp4 weapon_xoffset // set the weapon x sway to displaytemp4
      divvar weap_disp_temp4 2 // divide it by 2
      add x weap_disp_temp4 // add it to x
      sub x 5 // offset it by 5
      sub y 10
      state gunpushback_sight_display
      guniqhudid 10
      rotatesprite x y weap_disp_temp8 0 12172 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // Barrel
      sub y 30
      guniqhudid 11
      rotatespritea x y QUARTERSIZE 0 11046 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2 // red dot
      set x 160
      sub x wepsway_x
      sub x 10
      add x weapon_xoffset
      set y 147
      sub y wepsway_y
      guniqhudid 12
      rotatesprite x y weap_disp_temp8 0 12165 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // holotech sight

            ifl player_shade_diff -5
                {
                set weap_disp_temp3 player_shade_diff
                mulvar weap_disp_temp3 2
                sub y 30
                guniqhudid 13
                rotatespritea x y 6096 0 2587 player_shade_diff wall_pal 33 weap_disp_temp3 windowx1 windowy1 windowx2 windowy2 // Glass in holosight
                }

  }
  else
      {
      state wep_drawup
      state gunpushback_display
      sub x 45
      add y 30
      guniqhudid 10
      rotatesprite x y 40960 weap_disp_temp2 C_ARM_1 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
      add x 45
      sub y 30
      guniqhudid 11
      rotatesprite x y 40960 weap_disp_temp2 5899 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      guniqhudid 12
      ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 weap_disp_temp2 5907 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      guniqhudid 13
      ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 weap_disp_temp2 5911 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      }
  break
case 2
case 3
  ifand gun_firemode 16384
  {
      set x 160
      set weap_disp_temp2 wepsway_x
      divvar weap_disp_temp2 2
      sub x weap_disp_temp2
      set y 140
      set weap_disp_temp3 wepsway_y
      divvar weap_disp_temp3 2
      sub y weap_disp_temp3
      set weap_disp_temp4 weapon_xoffset // set the weapon x sway to displaytemp4
      divvar weap_disp_temp4 2 // divide it by 2
      add x weap_disp_temp4 // add it to x
      sub x 5 // offset it by 5
      sub y 5
      state random_AR_flash
      sub y 10
      guniqhudid 10
      rotatespritea x y 20000 0 rot_flash 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
      add y 5
      set gun_pushb_disp 10
        state gunpushback_sight_display
      guniqhudid 11
      rotatesprite x y weap_disp_temp8 0 12172 0 106 0 windowx1 windowy1 windowx2 windowy2 // Barrel
      sub y 30
      guniqhudid 12
      rotatespritea x y QUARTERSIZE 0 11046 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2 // red dot
      set x 160
      sub x wepsway_x
      sub x 10
      add x weapon_xoffset
      set y 147
      sub y wepsway_y
      guniqhudid 13
      rotatesprite x y weap_disp_temp8 0 12165 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2 // holotech sight

  }
  else
      {
	  state gun_smoke_display
     displayrandvar gun_pushb_disp 7
	   add gun_pushb_disp 4
      add x gun_pushb_disp
      add y gun_pushb_disp
      sub x 50
      sub y 38
      state random_AR_flash
      guniqhudid 10
      rotatespritea x y 20500 0 rot_flash 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
      add x 50
      add y 38
      sub x 45
      add y 30
      guniqhudid 11
        rotatesprite x y 40960 0 C_ARM_1 0 107 4096 windowx1 windowy1 windowx2 windowy2
        add x 45
        sub y 30
        guniqhudid 12
      rotatesprite x y 40960 0 5900 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      guniqhudid 13
      ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 0 5908 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      guniqhudid 14
      ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 0 5912 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      }
  break
case 11
case 12
case 13
  guniqhudid 10
  rotatesprite x y 40960 64 5901 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 11
  ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 64 5909 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 12
  ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 64 5913 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
case 36
case 37
  add y 5
  add x 5
  ife weaponcount 15 add y 10
  guniqhudid 10
  rotatesprite x y 40960 96 5901 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 11
  ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 96 5909 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 12
  ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 96 5913 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 20
case 34
case 35
  add y 5
  add x 5
  guniqhudid 10
  rotatesprite x y 40960 128 5901 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 11
  ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 128 5909 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 12
  ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 128 5913 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 21
case 22
case 23
case 24
case 25
case 32
case 33
  sub y 5
  sub x 5
  guniqhudid 10
  rotatesprite x y 40960 96 5903 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y 40960 96 5902 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 11
  ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 96 5910 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 12
  ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 96 5914 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 26
case 27
case 28
case 29
case 30
case 31
  sub y 5
  sub x 5
  ife weaponcount 29 sub y 10
  guniqhudid 10
  rotatesprite x y 40960 64 5903 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 11
  ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 64 5910 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 12
  ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 64 5914 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 38 // start reloading
case 58
  guniqhudid 10
  rotatesprite x y 40960 0 5906 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 11
  ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 0 5907 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 12
  ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 0 5911 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 39
case 57
  guniqhudid 10
  rotatesprite x y 40960 16 5906 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 11
  ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 16 5907 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 12
  ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 16 5911 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 40
case 56
  guniqhudid 10
  rotatesprite x y 40960 24 5906 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 11
  ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 24 5907 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 12
  ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 24 5911 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 41
case 55
  guniqhudid 10
  rotatesprite x y 40960 32 5906 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 11
  ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 32 5907 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 12
  ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 32 5911 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 42
case 54
  guniqhudid 10
  rotatesprite x y 40960 40 5906 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 11
  ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 40 5907 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 12
  ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 40 5911 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 43
case 53
  add y 15
  guniqhudid 10
  rotatesprite x y 40960 48 5906 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 11
  ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 48 5907 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 12
  ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 48 5911 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 44
case 52
  add y 20
  guniqhudid 10
  rotatesprite x y 40960 64 5906 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 11
  ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 64 5907 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 12
  ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 64 5911 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 45
case 51
  add y 25
  guniqhudid 10
  rotatesprite x y 40960 76 5901 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 11
  ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 76 5909 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 12
  ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 76 5913 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 46
case 50
  add y 30
  guniqhudid 10
  rotatesprite x y 40960 96 5901 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 11
  ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 96 5909 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 12
  ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 96 5913 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 47
case 48
case 49
  add y 45
  guniqhudid 10
  rotatesprite x y 40960 104 5901 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 11
  ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 104 5909 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  guniqhudid 12
  ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 104 5913 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
endswitch
guniqhudid 0
ends

// HIGHWIRE'S M16A2 =========================================================================================

defstate drawm16a2

  set x 250
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 257
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos

  	ifl gunsmoke_disp 40 ife INVINC 0
     ifn weaponcount 2
        {
        add gunsmoke_disp 1
        guniqhudid 18
        sub x 75
        sub y 70
        rotatespritea x y 30000 0 29952 gunsmoke_disp wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
        add x 75
        add y 70
        guniqhudid 0
        }

ifand gun_firemode 32768 // Using the M16's GL?
switch gl_countd
case 0
case 43
case 42
case 41
 state wep_drawup
 guniqhudid 10
 rotatesprite x y 45152 weap_disp_temp2 11872 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
 break
case 1
case 2
case 3
case 4
 guniqhudid 10
 rotatesprite x y 45152 0 11874 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
 break
case 5
case 6
case 7
case 8
 guniqhudid 10
 rotatesprite x y 45152 32 12077 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
 break
case 9
case 10
case 11
case 12
case 13
 guniqhudid 10
 rotatesprite x y 45152 32 12078 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
 guniqhudid 11
 rotatesprite x y 45152 32 12079 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
 break
case 14
case 15
case 16
    guniqhudid 10
    rotatesprite x y 45152 0 12078 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 90
    add y 5
    guniqhudid 11
    rotatesprite x y 40960 1024 C_HAND_2 shade arm_pal 4 windowx1 windowy1 windowx2 windowy2
 break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
case 26
case 27
case 28
case 29
    guniqhudid 10
    rotatesprite x y 45152 64 12078 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    set weap_disp_temp7 gl_countd
    mulvar weap_disp_temp7 2
    sub weap_disp_temp7 20
    add y weap_disp_temp7
    sub x 105
    state fortymm_case_disp
 break
case 30
case 31
case 32
 guniqhudid 10
 rotatesprite x y 45152 0 12078 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
 break
case 33
case 34
case 35
case 36
 guniqhudid 10
 rotatesprite x y 45152 32 12077 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
 break
case 37
case 38
case 39
case 40
 guniqhudid 10
 rotatesprite x y 45152 0 11874 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
 break
case 44
case 45
case 46
case 47
case 48
    state gun_smoke_display
    set weap_disp_temp6 x
    sub weap_disp_temp6 58
    set weap_disp_temp7 y
    sub weap_disp_temp7 52
    displayrandvar rot_flash 2048
    guniqhudid 10
    rotatespritea weap_disp_temp6 weap_disp_temp7 14000 rot_flash 16115 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
    guniqhudid 11
    rotatesprite x y 45152 weap_disp_temp2 11873 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
 break
endswitch
else // using M16's mainfiring mode
    {
    switch weaponcount
    case 0
    case 1
    case 3
    case 4
        ife player[].weapon_pos 9 { set LOWER_WEAPON_SOUND SELECT_WEAPON state sound_lower_weapon }
        state wep_drawup
        state gunpushback_display
        guniqhudid 10
        rotatesprite x y 45152 weap_disp_temp2 11872 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      sub x 90
      add y 5
      guniqhudid 11
      rotatesprite x y 32768 weap_disp_temp2 C_ARM_2 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 2
	state gun_smoke_display
    displayrandvar gun_pushb_disp 5
	add gun_pushb_disp 4
      add x gun_pushb_disp
      add y gun_pushb_disp
      sub x 75
      sub y 70
      state random_AR_flash
      guniqhudid 10
      rotatespritea x y 25000 0 rot_flash 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
      add x 75
      add y 70
      guniqhudid 11
      rotatesprite x y 45152 0 11873 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      sub x 90
      add y 5
      guniqhudid 12
      rotatesprite x y 32768 0 C_ARM_2 0 107 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 5
    case 6
    case 7
    case 8
    case 9
    case 10
    case 11
    case 36
    case 37
    case 38
    case 39
    case 40
    case 41
    case 42
      state gunpushback_display
      guniqhudid 10
      rotatesprite x y 40960 0 11874 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 12
    case 13
    case 14
    case 15
    case 16
    case 17
    case 30
    case 31
    case 32
    case 33
      sub y 15
      ife kickbackpic 16 add y 10
      ife kickbackpic 32 sub y 10
      guniqhudid 10
      rotatesprite x y 40960 0 11877 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      guniqhudid 11
      rotatesprite x y 40960 0 11875 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      sub x 67
      add y 45
      guniqhudid 12
      rotatesprite x y 40960 96 CHOLDING_3 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 18
    case 19
    case 34
    case 35
      sub y 15
      guniqhudid 10
      rotatesprite x y 40960 0 11877 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      guniqhudid 11
      rotatesprite x y 40960 0 11876 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 20
    case 21
    case 22
    case 23
    case 24
    case 25
    case 26
    case 27
    case 28
    case 29
      sub y 15
      guniqhudid 10
      rotatesprite x y 40960 0 11877 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    // PRESS BOLT CATCH RELOAD
    case 43
    case 61
      guniqhudid 10
      rotatesprite x y 40960 0 11874 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 44
    case 60
      guniqhudid 10
      rotatesprite x y 40960 16 11874 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 45
    case 59
      rotatesprite x y 40960 32 11874 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 46
    case 58
      guniqhudid 10
      rotatesprite x y 40960 32 11874 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      add x 50
      add y 20
      break
    case 47
    case 57
      guniqhudid 10
      rotatesprite x y 40960 32 11874 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      add x 55
      add y 20
      break
    case 48
    case 56
      add y 2
      guniqhudid 10
      rotatesprite x y 40960 48 11874 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      add x 57
      add y 50
      break
    case 49
    case 55
      add y 4
      guniqhudid 10
      rotatesprite x y 40960 64 11874 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      add x 57
      add y 50
      break
    case 50
    case 54
      add y 6
      guniqhudid 10
      rotatesprite x y 40960 76 11874 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      add x 57
      add y 50
      break
    case 51
    case 53
      add y 8
      guniqhudid 10
      rotatesprite x y 40960 96 11877 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      guniqhudid 11
      rotatesprite x y 40960 96 11875 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      sub x 75
      add y 30
      guniqhudid 12
      rotatesprite x y 40960 96 CHOLDING_3 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 52
      add y 10
      guniqhudid 10
      rotatesprite x y 40960 104 11877 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      guniqhudid 11
      rotatesprite x y 40960 104 11875 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      sub x 75
      add y 30
      guniqhudid 12
      rotatesprite x y 40960 104 CHOLDING_3 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    endswitch
    }
guniqhudid 0
ends

// Highwire's Pribor-3B===============================================================================================================

defstate draw_Pribor
 set x 290
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 245
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos

  clamp y 152 320

  	ifl gunsmoke_disp 40 ife INVINC 0
     ifn weaponcount 2
        {
        add gunsmoke_disp 1
        guniqhudid 18
        sub x 105
        sub y 45
        rotatespritea x y 40000 0 29952 gunsmoke_disp wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
        add x 105
        add y 45
        guniqhudid 0
        }

guniqhudid 0
    switch weaponcount
    case 0
	case 1
    case 5
    case 6
    case 7
    case 8
        ife player[].weapon_pos 9 { set LOWER_WEAPON_SOUND SELECT_WEAPON state sound_lower_weapon }
        state wep_drawup
        state gunpushback_display
        guniqhudid 10
        rotatesprite x y 49248 weap_disp_temp2 11031 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
        sub x 140
        add y 35
        guniqhudid 11
        rotatesprite x y 32768 weap_disp_temp2 C_ARM_2 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 2
	case 3
	case 4
	state gun_smoke_display
    displayrandvar gun_pushb_disp 5
      add x gun_pushb_disp
      add y gun_pushb_disp
          ife weaponcount 2 sub x 95
		  ife weaponcount 3 sub x 105
		  ife weaponcount 4 sub x 115
          sub y 45
          state random_AR_flash
          guniqhudid 10
          rotatespritea x y 27000 0 rot_flash 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
          ife weaponcount 2 add x 95
		  ife weaponcount 3 add x 105
		  ife weaponcount 4 add x 115
          add y 45
          guniqhudid 11
        rotatesprite x y 49248 weap_disp_temp2 11032 0 0 8 windowx1 windowy1 windowx2 windowy2
        sub x 140
        add y 35
        guniqhudid 12
        rotatesprite x y 32768 weap_disp_temp2 C_ARM_2 0 106 8 windowx1 windowy1 windowx2 windowy2
      break
    case 9
    case 10
    case 11
    case 36
    case 37
    case 38
    case 39
    case 40
    case 41
    case 42
      state gunpushback_display
      guniqhudid 10
      rotatesprite x y 49248 0 11033 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
        sub x 140
        add y 35
        guniqhudid 11
        rotatesprite x y 36768 0 C_ARM_2 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 12
    case 13
    case 14
    case 15
    case 16
    case 17
    case 32
    case 33
    case 34
    case 35
      ife weaponcount 14 add y 10
      ife weaponcount 31 sub y 10
      guniqhudid 10
      rotatesprite x y 49248 0 11034 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
        sub x 140
        add y 30
        guniqhudid 11
        rotatesprite x y 38768 0 C_ARM_2 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 18
    case 19
    case 30
    case 31
     guniqhudid 10
      rotatesprite x y 49248 0 11035 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
        sub x 100
        add y 50
        guniqhudid 11
        rotatesprite x y 38768 0 C_ARM_2 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 20
    case 21
    case 22
    case 23
    case 24
    case 25
    case 26
    case 27
    case 28
    case 29
    guniqhudid 10
    rotatesprite x y 49248 0 11036 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    // PRESS BOLT CATCH RELOAD
    case 43
    case 61
      guniqhudid 10
      rotatesprite x y 49248 0 11033 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 44
    case 60
      guniqhudid 10
      rotatesprite x y 49248 16 11033 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 45
    case 59
      guniqhudid 10
      rotatesprite x y 49248 32 11033 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 46
    case 58
      guniqhudid 10
      rotatesprite x y 49248 32 11033 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      add x 50
      add y 20
      break
    case 47
    case 57
      guniqhudid 10
      rotatesprite x y 49248 32 11034 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 48
    case 56
      add y 5
      guniqhudid 10
      rotatesprite x y 49248 48 11034 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 49
    case 55
      guniqhudid 10
      rotatesprite x y 49248 0 11035 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 50
    case 54
       guniqhudid 10
       rotatesprite x y 49248 16 11035 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 51
    case 53
      add y 5
      guniqhudid 10
      rotatesprite x y 49248 16 11036 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 52
      add y 10
      guniqhudid 10
      rotatesprite x y 49248 32 11036 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    endswitch
guniqhudid 0
ends

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// SLOT 4 WEAPONS
//
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

// HIGHWIRE'S RPG7===============================================================================================================

defstate drawmissilel


  set x 260
  add x weapon_xoffset
  sub x looking_angSR1
  set weap_disp_temp wepsway_y
  divvar weap_disp_temp 2
  sub x weap_disp_temp


  set y 197
  sub y wepsway_y
  add y looking_arc
  set weap_disp_temp gun_pos
  divvar weap_disp_temp 2
  sub y weap_disp_temp

  	ifl gunsmoke_disp 40 ife INVINC 0
     ifn weaponcount 2
        {
        add gunsmoke_disp 1
        guniqhudid 18
        sub x 20
        sub y 35
        rotatespritea x y 50000 0 29952 gunsmoke_disp wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
        add x 20
        add y 35
        guniqhudid 0
        }

guniqhudid 0
switch weaponcount
case 0
case 1
  guniqhudid 10
  rotatesprite x y 49152 0 5929 shade wep_pal 4608 windowx1 windowy1 windowx2 windowy2
  guniqhudid 11
  ifg player[].ammo_amount 4 0 rotatesprite x y 49152 0 5922 shade wep_pal 4608 windowx1 windowy1 windowx2 windowy2
      add y 40
      guniqhudid 12
      rotatesprite x y 32768 0 C_ARM_2 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
      add x 70
      add y 5
      guniqhudid 13
      rotatesprite x y 40960 0 C_PISTOL_R shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
  state gun_smoke_display
  sub y 35
  sub x 20
 displayrandvar rot_flash 2048
 guniqhudid 10
  rotatespritea x y 32000 rot_flash 16114 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
  add y 35
  add x 20
  guniqhudid 10
  rotatesprite x y 49152 0 5923 0 wep_pal 4608 windowx1 windowy1 windowx2 windowy2
      add y 40
      guniqhudid 11
      rotatesprite x y 32768 0 C_ARM_2 0 107 4096 windowx1 windowy1 windowx2 windowy2
      add x 70
      add y 5
      guniqhudid 12
      rotatesprite x y 40960 0 C_PISTOL_R 0 107 4096 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 5
  add x weaponcount
  add y weaponcount
  guniqhudid 10
  rotatesprite x y 49152 0 5929 shade wep_pal 4608 windowx1 windowy1 windowx2 windowy2
      add y 40
      guniqhudid 11
      rotatesprite x y 32768 0 C_ARM_2 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
      add x 70
      add y 5
      guniqhudid 12
      rotatesprite x y 40960 0 C_PISTOL_R shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 6
case 7
case 8
case 9
case 10
  sub y 40
  set weap_disp_temp2 weaponcount
  mul weap_disp_temp2 4
  add y weap_disp_temp2
  add x weap_disp_temp2
  guniqhudid 10
  rotatesprite x y 49152 0 5924 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
case 14
  sub x 100
  add y 80
  guniqhudid 10
  rotatesprite x y 49152 0 5926 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  sub x 35
  guniqhudid 11
  rotatesprite x y 32769 -128 CHOLDING_3 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  add x 135
  sub y 80

  sub y 20
  set weap_disp_temp2 weaponcount
  mul weap_disp_temp2 3
  add y weap_disp_temp2
  guniqhudid 12
  rotatesprite x y 49152 0 5925 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 15
  sub x 90
  add y 70
  guniqhudid 10
  rotatesprite x y 49152 0 5926 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  sub x 35
  guniqhudid 11
  rotatesprite x y 32769 -128 CHOLDING_3 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  add x 125
  sub y 70

  sub y 20
  set weap_disp_temp2 weaponcount
  mul weap_disp_temp2 3
  add y weap_disp_temp2
  guniqhudid 12
  rotatesprite x y 49152 0 5925 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 16
  sub x 80
  add y 60
  guniqhudid 10
  rotatesprite x y 49152 0 5926 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  sub x 35
  guniqhudid 11
  rotatesprite x y 32769 -128 CHOLDING_3 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 17
  sub x 70
  add y 50
  guniqhudid 10
  rotatesprite x y 49152 0 5926 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 35
    guniqhudid 11
  rotatesprite x y 32769 -128 CHOLDING_3 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 18
  sub x 60
  add y 40
  guniqhudid 10
  rotatesprite x y 49152 0 5926 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 35
    guniqhudid 11
  rotatesprite x y 32769 -128 CHOLDING_3 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 19
  sub x 50
  add y 50
  guniqhudid 10
  rotatesprite x y 49152 0 5926 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 35
    guniqhudid 11
  rotatesprite x y 32769 -128 CHOLDING_3 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 20
  sub x 40
  add y 60
  guniqhudid 10
  rotatesprite x y 49152 0 5926 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 35
    guniqhudid 11
  rotatesprite x y 32769 -128 CHOLDING_3 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 21
case 22
case 23
case 24
case 25
  add y 80
  set weap_disp_temp2 weaponcount
  mul weap_disp_temp2 3
  sub y weap_disp_temp2
  guniqhudid 10
  rotatesprite x y 49152 0 5927 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 35
    add y 15
    guniqhudid 11
  rotatesprite x y 40960 -128 CHOLDING_3 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 26
case 27
case 28
case 29
case 30
  add y 80
  set weap_disp_temp2 weaponcount
  mul weap_disp_temp2 3
  sub y weap_disp_temp2
  add x weap_disp_temp2
  guniqhudid 10
  rotatesprite x y 49152 0 5928 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 45
    add y 45
    guniqhudid 11
  rotatesprite x y 40960 -128 CHOLDING_3 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 31
case 32
case 33
case 34
case 35

  add y 80
  set weap_disp_temp2 weaponcount
  mul weap_disp_temp2 3
  sub y weap_disp_temp2

  set weap_disp_temp2 weaponcount
  add weap_disp_temp2 512
  mul weap_disp_temp2 4
  guniqhudid 10
  rotatesprite x y 49152 weap_disp_temp2 5929 shade wep_pal 4608 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y 49152 weap_disp_temp2 5922 shade wep_pal 4608 windowx1 windowy1 windowx2 windowy2
      add y 40
      guniqhudid 11
      rotatesprite x y 32768 0 C_ARM_2 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
      add x 70
      add y 5
      guniqhudid 12
      rotatesprite x y 40960 0 C_PISTOL_R shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
endswitch
guniqhudid 0
ends

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// SLOT 5 WEAPONS
//
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// SLOT 6 WEAPONS
//
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

//HIGHWIRE'S SVD SNIPER RIFLE===============================================================================================================

defstate drawrrifle

  set x 215
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 235
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos

     	ifl gunsmoke_disp 40 ife INVINC 0
     ifn weaponcount 2
        {
        add gunsmoke_disp 1
        guniqhudid 18
		  sub x 48
		  sub y 58
        rotatespritea x y 40000 0 29952 gunsmoke_disp wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
			add x 48
			add y 58
        guniqhudid 0
        }

switch weaponcount
    case 0
    case 1
    case 4
    ife scope 0
        {
        state wep_drawup
        state gunpushback_display
        ife player[].weapon_pos 9 { set LOWER_WEAPON_SOUND SELECT_WEAPON state sound_lower_weapon }
        guniqhudid 10
        rotatesprite x y 40960 weap_disp_temp2 5951 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
        sub x 65
        add y 15
        guniqhudid 11
        rotatesprite x y 32768 0 C_ARM_2 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
        }
      break
    case 2
	  state gun_smoke_display
      sub x 48
      sub y 58
      state random_AR_flash
      guniqhudid 10
      rotatespritea x y 24000 0 rot_flash 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
      add x 48
      add y 58
    ife scope 0
            {
            guniqhudid 11
		  rotatesprite x y 40960 0 5951 0 0 0 windowx1 windowy1 windowx2 windowy2
		  guniqhudid 12
          rotatesprite x y 40960 0 5952 0 0 0 windowx1 windowy1 windowx2 windowy2
          sub x 65
          add y 15
          guniqhudid 13
          rotatesprite x y 32768 0 C_ARM_2 0 107 4096 windowx1 windowy1 windowx2 windowy2
            }
      break
    case 3
    displayrandvar gun_pushb_disp 10
      add x gun_pushb_disp
      add y gun_pushb_disp
      sub x 55
      sub y 60
      state random_AR_flash
      guniqhudid 10
      rotatespritea x y 24000 0 rot_flash 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
      add x 55
      add y 60
    ife scope 0
            {
            guniqhudid 11
          rotatesprite x y 40960 0 5951 0 106 0 windowx1 windowy1 windowx2 windowy2
            guniqhudid 12
          rotatesprite x y 40960 0 5952 0 106 0 windowx1 windowy1 windowx2 windowy2
          sub x 65
          add y 15
          guniqhudid 13
          rotatesprite x y 32768 0 C_ARM_2 0 106 8 windowx1 windowy1 windowx2 windowy2
            }
      break
    case 5
    case 6
    case 7
    case 8
    case 9
    case 10
    case 11
    case 36
    case 37
    case 38
    case 39
    case 40
    case 41
    case 42
      state gunpushback_display
      guniqhudid 10
     rotatesprite x y 40960 0 5953 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
     sub x 65
     add y 30
     guniqhudid 11
     rotatesprite x y 32768 0 C_ARM_2 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 12
    case 13
    case 14
    case 15
    case 30
    case 31
    case 32
    case 33
      sub y 15
      ife kickbackpic 30 sub y 5
      guniqhudid 10
      rotatesprite x y 40960 0 5954 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      sub x 75
      add y 55
      guniqhudid 11
      rotatesprite x y 36864 96 CHOLDING_3 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 16
    case 17
    case 34
    case 35
      sub y 15
      guniqhudid 10
      rotatesprite x y 40960 0 5955 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      sub x 95
      add y 95
      guniqhudid 11
      rotatesprite x y 36864 96 CHOLDING_3 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 18
    case 19
    case 20
    case 21
    case 22
    case 23
    case 24
    case 25
    case 26
    case 27
    case 28
    case 29
      sub y 15
      ife kickbackpic 18 add y 5
      guniqhudid 10
      rotatesprite x y 40960 0 5956 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    // PRESS BOLT CATCH RELOAD
    case 43
    case 61
      guniqhudid 10
      rotatesprite x y 40960 0 5953 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 44
    case 60
      guniqhudid 10
      rotatesprite x y 40960 16 5953 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 45
    case 59
      guniqhudid 10
      rotatesprite x y 40960 32 5953 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 46
    case 58
      guniqhudid 10
      rotatesprite x y 40960 32 5953 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      add x 50
      add y 20
      break
    case 47
    case 57
      guniqhudid 10
      rotatesprite x y 40960 32 5953 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      add x 55
      add y 20
      break
    case 48
    case 56
      add y 5
      guniqhudid 10
      rotatesprite x y 40960 48 5953 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      add x 57
      add y 50
      break
    case 49
    case 55
      add y 10
      guniqhudid 10
      rotatesprite x y 40960 64 5953 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      add x 57
      add y 50
      break
    case 50
    case 54
      add y 15
      guniqhudid 10
      rotatesprite x y 40960 76 5953 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      add x 57
      add y 50
      break
    case 51
    case 53
      add y 20
      guniqhudid 10
      rotatesprite x y 40960 96 5953 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 52
      add y 35
      guniqhudid 10
      rotatesprite x y 40960 104 5953 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    endswitch
guniqhudid 0
ends

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// SLOT 7 WEAPONS
//
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

// Highwire's grenade launcher===============================================================================================================

defstate drawhighgl

  set x 225
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 225
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos
  clamp y 144 320
  state gunpushback_display

   	ifl gunsmoke_disp 40 ife INVINC 0
     ifn weaponcount 2
        {
        add gunsmoke_disp 1
        guniqhudid 18
        sub x 47
        sub y 12
        rotatespritea x y 30000 0 29952 gunsmoke_disp wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
        add x 47
        add y 12
        guniqhudid 0
        }

   	ifl gunsmoke_disp2 40 ife INVINC 0
     ifn weaponcount 2
        {
        add gunsmoke_disp2 1
        guniqhudid 18
        sub x 47
        sub y 12
        rotatespritea x y 35000 0 29952 gunsmoke_disp 2 4096 -255 windowx1 windowy1 windowx2 windowy2
        add x 47
        add y 12
        guniqhudid 0
        }
ifg kickbackpic_2 0 // orange mana upgrade
switch kickbackpic_2
case 0
case 1
case 5
case 6
case 7
case 8
case 9
  state wep_drawup
      sub x 60
      add y 25
      guniqhudid 10
      rotatesprite x y 40960 0 C_ARM_1 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
      add x 60
      sub y 25
      guniqhudid 11
  rotatesprite x y 45152 weap_disp_temp2 5969 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
  state gun_smoke2_display
  sub y 12
  sub x 47
  displayrandvar rot_flash 2048
  guniqhudid 10
  rotatespritea x y 14000 rot_flash 16114 0 106 4096 -255 windowx1 windowy1 windowx2 windowy2
  add y 12
  add x 47
  sub x 60
  add y 25
  guniqhudid 11
  rotatesprite x y 40960 0 C_ARM_1 0 106 4096 windowx1 windowy1 windowx2 windowy2
  add x 60
  sub y 25
  guniqhudid 12
  rotatesprite x y 45152 0 5970 0 106 4096 windowx1 windowy1 windowx2 windowy2
  break
case 4
    set gun_pushb_disp 15
    sub x 60
    add y 25
    guniqhudid 10
    rotatesprite x y 40960 0 C_ARM_1 shade 29 4096 windowx1 windowy1 windowx2 windowy2
    add x 60
    sub y 25
    guniqhudid 11
    rotatesprite x y 45152 4 5971 shade 29 4096 windowx1 windowy1 windowx2 windowy2
  break
endswitch
else
switch weaponcount
case 0
case 1
case 16
  state wep_drawup
      sub x 60
      add y 25
      guniqhudid 10
      rotatesprite x y 40960 0 C_ARM_1 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
      add x 60
      sub y 25
      guniqhudid 11
  rotatesprite x y 45152 weap_disp_temp2 5969 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
  state gun_smoke_display
  sub y 12
  sub x 47
  displayrandvar rot_flash 2048
  guniqhudid 10
  rotatespritea x y 14000 rot_flash 16114 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
  add y 12
  add x 47
  sub x 60
  add y 25
  guniqhudid 11
  rotatesprite x y 40960 0 C_ARM_1 0 107 4096 windowx1 windowy1 windowx2 windowy2
  add x 60
  sub y 25
  guniqhudid 12
  rotatesprite x y 45152 0 5970 0 wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 4
    set gun_pushb_disp 15
    sub x 60
    add y 25
    guniqhudid 10
    rotatesprite x y 40960 0 C_ARM_1 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
    add x 60
    sub y 25
    guniqhudid 11
    rotatesprite x y 45152 4 5971 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 13
case 14
case 15
    sub x 60
    add y 25
    guniqhudid 10
    rotatesprite x y 40960 0 C_ARM_1 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
    add x 60
    sub y 25
    guniqhudid 11
    rotatesprite x y 45152 8 5971 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 9
    sub x 60
    add y 25
    guniqhudid 10
    rotatesprite x y 40960 0 C_ARM_1 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
    add x 60
    sub y 25
    guniqhudid 11
    rotatesprite x y 45152 16 5971 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 10
case 11
case 12
    sub x 60
    add y 25
    guniqhudid 10
    rotatesprite x y 40960 0 C_ARM_1 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
    add x 60
    sub y 25
    guniqhudid 11
    rotatesprite x y 45152 8 5969 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 52
case 53
case 54
    sub x 60
    add y 25
    guniqhudid 10
    rotatesprite x y 40960 0 C_ARM_1 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
    add x 60
    sub y 25
    guniqhudid 11
    rotatesprite x y 45152 0 6087 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 20
case 21
case 22
case 49
case 50
case 51
  guniqhudid 10
  rotatesprite x y 45152 -32 6087 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 23
case 24
case 25
case 46
case 47
case 48
  add x 7
  guniqhudid 10
  rotatesprite x y 45152 0 6088 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 26
case 27
case 28
case 43
case 44
case 45
  add x 10
  guniqhudid 10
  rotatesprite x y 45152 0 6089 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 29
case 30
  add x 10
  guniqhudid 10
  rotatesprite x y 45152 0 6090 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 31
case 32
case 33
case 34
case 35
case 36
  add x 10
  guniqhudid 10
  rotatesprite x y 45152 -16 6090 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 37
case 38
case 39
  guniqhudid 10
  rotatesprite x y 45152 -32 6090 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 40
case 41
case 42
  add x 10
  guniqhudid 10
  rotatesprite x y 45152 0 6090 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
endswitch
guniqhudid 0
ends

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// SLOT 8 WEAPONS
//
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// SLOT 9 WEAPONS
//
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

// Highwire's RPK===============================================================================================================

defstate drawRPK

  set x 205
  ifand gun_firemode 512 add x wepsway_x else
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 235
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos

 	ifl gunsmoke_disp 40 ife INVINC 0
     ifn weaponcount 2
        {
        add gunsmoke_disp 1
        guniqhudid 18
        sub x 40
        sub y 50
        rotatespritea x y 30000 0 29952 gunsmoke_disp wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
        add x 40
        add y 50
        guniqhudid 0
        }

guniqhudid 0
switch weaponcount
case 0
case 1
  ifand gun_firemode 512 set tilenum 5977 else set tilenum 5975
  state wep_drawup
   state gunpushback_display
   guniqhudid 10
  rotatesprite x y 45056 weap_disp_temp2 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  sub x 27
  add y 7
  guniqhudid 11
  rotatesprite x y 24572 0 CHOLDING_3 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
case 4
 state gun_smoke_display
 displayrandvar gun_pushb_disp 10
  add x gun_pushb_disp
  add y gun_pushb_disp
 displayrandvar rot_flash 2048
 sub x 40
 sub y 50
  state random_AR_flash
  guniqhudid 10
  rotatespritea x y 21000 0 rot_flash 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
  add x 40
  add y 50
  guniqhudid 11
  ifand gun_firemode 512 rotatesprite x y 45056 weap_disp_temp2 5978 0 0 0 windowx1 windowy1 windowx2 windowy2
  else rotatesprite x y 45056 weap_disp_temp2 5976 0 0 0 windowx1 windowy1 windowx2 windowy2
  sub x 27
  add y 7
  guniqhudid 12
  rotatesprite x y 24572 0 CHOLDING_3 0 107 4096 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7
case 62
case 63
case 64
  ifand gun_firemode 512 set tilenum 5977 else set tilenum 5975
  guniqhudid 10
  rotatesprite x y 45056 16 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  sub x 27
  add y 7
  guniqhudid 11
  rotatesprite x y 24572 16 CHOLDING_3 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 8
case 9
case 60
case 61
  ifand gun_firemode 512 set tilenum 5977 else set tilenum 5975
  guniqhudid 10
  rotatesprite x y 45056 32 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  sub x 24
  add y 17
  guniqhudid 11
  rotatesprite x y 27572 32 CHOLDING_3 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 10
case 11
case 58
case 59
  ifand gun_firemode 512 set tilenum 5977 else set tilenum 5975
  guniqhudid 10
  rotatesprite x y 45056 48 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  sub x 26
  add y 24
  guniqhudid 11
  rotatesprite x y 27572 50 CHOLDING_3 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 12
case 13
case 56
case 57
  ifand gun_firemode 512 set tilenum 5977 else set tilenum 5975
  guniqhudid 10
  rotatesprite x y 45056 64 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
case 17
case 52
case 53
case 54
case 55
  ifand gun_firemode 512 set tilenum 5958 else set tilenum 5957
  guniqhudid 10
  rotatesprite x y 45056 32 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  sub x 66
  add y 54
  guniqhudid 11
  rotatesprite x y 32768 50 CHOLDING_3 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 18
case 19
case 20
case 21
case 48
case 49
case 50
case 51
  ifand gun_firemode 512 set tilenum 5958 else set tilenum 5957
  guniqhudid 10
  rotatesprite x y 45056 0 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  sub x 66
  add y 68
  guniqhudid 11
  rotatesprite x y 32768 32 CHOLDING_3 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 22
case 23
case 24
case 25
case 44
case 45
case 46
case 47
  ifand gun_firemode 512 set tilenum 5960 else set tilenum 5959
  guniqhudid 10
  rotatesprite x y 45056 0 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  sub x 76
  add y 68
  guniqhudid 11
  rotatesprite x y 36864 32 CHOLDING_3 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 26
case 27
case 42
case 43
add y 10
  ifand gun_firemode 512 set tilenum 5960 else set tilenum 5959
  guniqhudid 10
  rotatesprite x y 45056 0 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  sub x 76
  add y 68
  guniqhudid 11
  rotatesprite x y 36864 32 CHOLDING_3 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 28
case 29
case 40
case 41
  ifand gun_firemode 512 set tilenum 5962 else set tilenum 5961
  guniqhudid 10
  rotatesprite x y 45056 0 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 30
case 31
case 32
case 33
case 34
case 35
case 36
case 37
case 38
case 39
  add y 10
  ifand gun_firemode 512 set tilenum 5964 else set tilenum 5963
  guniqhudid 10
  rotatesprite x y 45056 16 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 65 // start reloading
case 85
  ifand gun_firemode 512 set tilenum 5977 else set tilenum 5975
  guniqhudid 10
  rotatesprite x y 45056 0 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 66
case 84
  ifand gun_firemode 512 set tilenum 5977 else set tilenum 5975
  guniqhudid 10
  rotatesprite x y 45056 16 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 67
case 83
  ifand gun_firemode 512 set tilenum 5977 else set tilenum 5975
  guniqhudid 10
  rotatesprite x y 45056 32 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 68
case 82
  ifand gun_firemode 512 set tilenum 5977 else set tilenum 5975
  guniqhudid 10
  rotatesprite x y 45056 32 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add x 50
  add y 10
  break
case 69
case 81
  ifand gun_firemode 512 set tilenum 5977 else set tilenum 5975
  guniqhudid 10
  rotatesprite x y 45056 32 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add x 55
  add y 10
  break
case 70
case 80
  add y 5
  ifand gun_firemode 512 set tilenum 5977 else set tilenum 5975
  guniqhudid 10
  rotatesprite x y 45056 48 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add x 57
  add y 40
  break
case 71
case 79
  add y 10
  ifand gun_firemode 512 set tilenum 5977 else set tilenum 5975
  guniqhudid 10
  rotatesprite x y 45056 64 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add x 57
  add y 40
  break
case 72
case 78
  add y 15
  ifand gun_firemode 512 set tilenum 5977 else set tilenum 5975
  guniqhudid 10
  rotatesprite x y 45056 76 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  add x 57
  add y 40
  break
case 73
case 77
  add y 20
  ifand gun_firemode 512 set tilenum 5977 else set tilenum 5975
  guniqhudid 10
  rotatesprite x y 45056 96 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  sub x 57
  add y 8
  break
case 74
case 75
case 76
  add y 35
  ifand gun_firemode 512 set tilenum 5977 else set tilenum 5975
  guniqhudid 10
  rotatesprite x y 45056 104 tilenum shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  sub x 57
  add y 8
  break
endswitch
guniqhudid 0
ends

// Highwire's PKM===============================================================================================================

defstate drawPKM

  set x 225
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 235
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos

 	ifl gunsmoke_disp 40 ife INVINC 0
     ifn weaponcount 2
        {
        add gunsmoke_disp 1
        guniqhudid 18
        sub x 47
        sub y 45
        rotatespritea x y 30000 0 29952 gunsmoke_disp wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
        add x 47
        add y 45
        guniqhudid 0
        }

guniqhudid 0
switch weaponcount
case 0
case 78
case 1
    state gunpushback_display
   state wep_drawup
    guniqhudid 10
    rotatesprite x y 40960 weap_disp_temp2 13452 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 65
    add y 25
    guniqhudid 11
    rotatesprite x y 32768 weap_disp_temp2 C_ARM_2 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
    add x 65
    sub y 25
    guniqhudid 12
    rotatesprite x y 40960 weap_disp_temp2 13458 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
case 4
 displayrandvar gun_pushb_disp 10
 state gun_smoke_display
  add x gun_pushb_disp
  add y gun_pushb_disp
 displayrandvar rot_flash 2048
 sub x 47
 sub y 45
  state random_AR_flash
  guniqhudid 10
  rotatespritea x y 22000 0 rot_flash 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
  add x 47
  add y 45
  guniqhudid 11
    rotatesprite x y 40960 weap_disp_temp2 13453 0 wep_pal 8 windowx1 windowy1 windowx2 windowy2
    sub x 65
    add y 25
    guniqhudid 12
    rotatesprite x y 32768 weap_disp_temp2 C_ARM_2 0 107 4096 windowx1 windowy1 windowx2 windowy2
    add x 65
    sub y 25
    guniqhudid 13
    rotatesprite x y 40960 weap_disp_temp2 13459 0 wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7
case 8
case 9
case 10
    add x kickbackpic
    guniqhudid 10
    rotatesprite x y 40960 weap_disp_temp2 13452 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 65
    add y 25
    guniqhudid 11
    rotatesprite x y 32768 weap_disp_temp2 C_ARM_2 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
    add x 65
    sub y 25
    guniqhudid 12
    rotatesprite x y 40960 weap_disp_temp2 13458 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
case 75
case 76
case 77
    add x 5
    add y 5
    guniqhudid 10
    rotatesprite x y 40960 0 13452 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 45
    add y 35
    guniqhudid 11
    rotatesprite x y 32768 -64 CHOLDING_3 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
    add x 45
    sub y 35
    guniqhudid 12
    rotatesprite x y 40960 0 13458 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
case 72
case 73
case 74
    add x 5
    add y 5
    guniqhudid 10
    rotatesprite x y 40960 0 13452 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 40
    add y 50
    guniqhudid 11
    rotatesprite x y 32768 -64 CHOLDING_3 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
    add x 40
    sub y 50
    guniqhudid 12
    rotatesprite x y 40960 0 13458 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 69
case 70
case 71
    add x 10
    add y 10
    guniqhudid 10
    rotatesprite x y 40960 0 13452 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    sub x 100
    add y 80
    guniqhudid 11
    rotatesprite x y 32768 -64 CHOLDING_3 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 20
case 21
case 22
case 66
case 67
case 68
add x 15
add y 15
  guniqhudid 10
  rotatesprite x y 40960 0 13452 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 23
case 24
case 25
case 62
case 63
case 64
case 65
  add y 5
  guniqhudid 10
  rotatesprite x y 40960 0 13452 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 26
case 27
case 28
case 29
case 30
  add y 15
  guniqhudid 10
  rotatesprite x y 40960 0 13452 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 31
case 32
case 33
case 34
case 35
case 36
case 37
case 38
case 39
case 42
case 43
  add y 10
  guniqhudid 10
  rotatesprite x y 40960 0 13454 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 40
case 41
  add y 5
  guniqhudid 10
  rotatesprite x y 40960 0 13454 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 44
case 45
case 60
case 61
  add y 10
  guniqhudid 10
  rotatesprite x y 40960 32 13454 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 46
case 47
case 58
case 59
  add y 12
  guniqhudid 10
  rotatesprite x y 40960 64 13454 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 48
case 49
case 50
case 51
case 52
case 53
case 54
case 55
case 56
case 57
  add y 15
  guniqhudid 10
  rotatesprite x y 40960 96 13455 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
  break
case 79
case 80
case 81
case 96
case 97
case 98
  add y 10
  add x 10
  guniqhudid 10
      rotatesprite x y 40960 0 13455 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    break
case 82
case 83
case 84
case 93
case 94
case 95
  add y 11
  add x 11
  guniqhudid 10
      rotatesprite x y 40960 0 13455 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    break
case 85
case 86
case 90
case 91
case 92
  add y 13
  add x 13
  guniqhudid 10
      rotatesprite x y 40960 32 13455 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    break
case 87
case 88
case 89
  add y 15
  add x 15
  guniqhudid 10
      rotatesprite x y 40960 64 13455 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
    break
endswitch
guniqhudid 0
ends

// Highwire's RPKM===============================================================================================================

defstate drawRPKM
set x 235
  sub x wepsway_x
  add x weapon_xoffset
  sub x looking_angSR1

  set y 230
  sub y wepsway_y
  add y looking_arc
  sub y gun_pos
  clamp y 142 320

 	ifl gunsmoke_disp 40 ife INVINC 0
     ifn weaponcount 2
        {
        add gunsmoke_disp 1
        guniqhudid 18
        sub x 54
        sub y 43
        rotatespritea x y 30000 0 29952 gunsmoke_disp wep_pal 4096 -255 windowx1 windowy1 windowx2 windowy2
        add x 54
        add y 43
        guniqhudid 0
        }

  state gunpushback_display
guniqhudid 0
ifg kickbackpic_2 0
	switch kickbackpic_2
    case 1
    case 4
        guniqhudid 10
        rotatesprite x y 40960 0 11881 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
        sub x 65
        add y 15
        guniqhudid 11
        rotatesprite x y 32768 0 C_ARM_2 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 2
    case 3
    displayrandvar gun_pushb_disp 10
	state gun_smoke_display
    add x gun_pushb_disp
    add y gun_pushb_disp
        sub x 54
        sub y 43
        state random_AR_flash
        guniqhudid 10
        rotatespritea x y 21000 0 rot_flash 0 106 4096 -255 windowx1 windowy1 windowx2 windowy2
        add x 54
        add y 43
        guniqhudid 11
      rotatesprite x y 40960 0 11882 shade 107 4096 windowx1 windowy1 windowx2 windowy2
        sub x 65
        add y 15
        guniqhudid 12
        rotatesprite x y 32768 0 C_ARM_2 0 107 8 windowx1 windowy1 windowx2 windowy2
      break
	endswitch
else
    switch weaponcount
    case 0
    case 1
    case 4
        ife player[].weapon_pos 9 { set LOWER_WEAPON_SOUND SELECT_WEAPON state sound_lower_weapon }
        state wep_drawup
        guniqhudid 10
        rotatesprite x y 40960 weap_disp_temp2 11881 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
        sub x 65
        add y 15
        guniqhudid 11
        rotatesprite x y 32768 weap_disp_temp2 C_ARM_2 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 2
    case 3
    displayrandvar gun_pushb_disp 10
	state gun_smoke_display
    add x gun_pushb_disp
    add y gun_pushb_disp
        sub x 54
        sub y 43
        state random_AR_flash
        guniqhudid 10
        rotatespritea x y 21000 0 rot_flash 0 0 4096 -255 windowx1 windowy1 windowx2 windowy2
        add x 54
        add y 43
        guniqhudid 11
      rotatesprite x y 40960 0 11882 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
        sub x 65
        add y 15
        guniqhudid 12
        rotatesprite x y 32768 0 C_ARM_2 0 67 8 windowx1 windowy1 windowx2 windowy2
      break
    case 5
    case 6
    case 7
    case 8
    case 9
    case 10
    case 11
    case 36
    case 37
    case 38
    case 39
    case 40
    case 41
    case 42
      guniqhudid 10
      rotatesprite x y 40960 0 11883 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 12
    case 13
    case 14
    case 15
    case 16
    case 17
    case 32
    case 33
    case 34
    case 35
      sub y 15
      ife weaponcount 32 add y 10
      guniqhudid 10
      rotatesprite x y 40960 0 11885 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      guniqhudid 11
      rotatesprite x y 40960 0 11884 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      sub x 45
      add y 70
      guniqhudid 12
      rotatesprite x y 40960 96 CHOLDING_3 shade arm_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 18
    case 19
    case 30
    case 31
      sub y 15
      ife weaponcount 18 add y 10
      guniqhudid 10
      rotatesprite x y 40960 0 11885 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      guniqhudid 11
      rotatesprite x y 40960 0 11879 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 20
    case 21
    case 22
    case 23
    case 24
    case 25
    case 26
    case 27
    case 28
    case 29
      sub y 15
      guniqhudid 10
      rotatesprite x y 40960 0 11885 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    // PRESS BOLT CATCH RELOAD
    case 43
    case 61
      guniqhudid 10
      rotatesprite x y 40960 0 11883 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 44
    case 60
      guniqhudid 10
      rotatesprite x y 40960 16 11883 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 45
    case 59
      guniqhudid 10
      rotatesprite x y 40960 32 11883 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 46
    case 58
      guniqhudid 10
      rotatesprite x y 40960 32 11883 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      add x 50
      add y 20
      break
    case 47
    case 57
      guniqhudid 10
      rotatesprite x y 40960 32 11883 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      add x 55
      add y 20
      break
    case 48
    case 56
      add y 5
      guniqhudid 10
      rotatesprite x y 40960 48 11883 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      add x 57
      add y 50
      break
    case 49
    case 55
      add y 10
      guniqhudid 10
      rotatesprite x y 40960 64 11883 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      add x 57
      add y 50
      break
    case 50
    case 54
      add y 15
      guniqhudid 10
      rotatesprite x y 40960 76 11883 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      add x 57
      add y 50
      break
    case 51
    case 53
      add y 20
      guniqhudid 10
      rotatesprite x y 40960 96 11885 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    case 52
      add y 35
      guniqhudid 10
      rotatesprite x y 40960 104 11885 shade wep_pal 4096 windowx1 windowy1 windowx2 windowy2
      break
    endswitch
    guniqhudid 0
ends
