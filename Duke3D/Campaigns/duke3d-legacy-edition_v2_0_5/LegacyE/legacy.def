/*
--------------------------------------------------------------------------------
Duke Nukem 3D - Blast Edition Version 2.0
By Marcos
2023 - Space In a Bottle
*/

//Game DEF

cutscene LOGO.IVF { delay 9 }
animsounds LOGO.IVF { 1 244 19 14 }

cutscene movies/CINEOV2.ANM { delay 12 }
animsounds movies/CINEOV2.ANM { 1 91 26 295 36 296 54 158 62 297 75 298 81 299 115 300 124 301 }

cutscene CINEOV3.ANM { delay 12 }
animsounds CINEOV3.ANM { 1 308 98 38 102 296 102 158 102 69 124 30 134 29 158 14 }

cutscene RADLOGO.ANM { delay 12 }
animsounds RADLOGO.ANM { 1 289 24 290 78 291 114 292 156 293 }

cutscene sys/BANM.ANM { delay 1 }

cutscene DUKETEAM.ANM { delay 12 }

//Base palette
basepalette 0 { raw { file "palettes/regular.raw" } }
basepalette 1 { raw { file "palettes/underwater.raw" } }
basepalette 11 { raw { file "palettes/scene02.raw" } }
basepalette 12 { raw { file "palettes/bw.raw" } }

//Pal Lookup Table
palookup 30 { raw { file "palettes/burned_pal.raw" noshades } }
palookup 31 { raw { file "palettes/red2blue.raw" noshades } }

//white exposures pal for title
palookup 61 { raw { file "palettes/title_alt_white01.raw" noshades } }
palookup 62 { raw { file "palettes/title_alt_white02.raw" noshades } }
palookup 63 { raw { file "palettes/title_alt_white03.raw" noshades } }
palookup 64 { raw { file "palettes/title_alt_white04.raw" noshades } }
palookup 65 { raw { file "palettes/title_alt_white05.raw" noshades } }
palookup 66 { raw { file "palettes/title_alt_white06.raw" noshades } }
palookup 67 { raw { file "palettes/title_alt_white07.raw" noshades } }
palookup 68 { raw { file "palettes/title_alt_white08.raw" noshades } }
palookup 69 { raw { file "palettes/title_alt_white09.raw" noshades } }
palookup 70 { raw { file "palettes/title_alt_white10.raw" noshades } }
palookup 71 { raw { file "palettes/title_alt_white11.raw" noshades } }
palookup 72 { raw { file "palettes/title_alt_white12.raw" noshades } }


//Upscaled textures (base)
includeifactive "art/dukeupscale.def"

//Upscaled textures (new)
includeifactive "art/upscale_legacy.def"

voxel "vox/tracer.kvx" { tile0 3980 tile1 3984 scale 2.5 }

voxel "vox/pickups/0046_crystal.kvx" { tile 5884 }
voxel "vox/pickups/0045_growammo.kvx" { tile 5885 }
voxel "vox/pickups/0037_freezerammo1.kvx" { tile 5887 }


voxel "vox/fuel.kvx" { tile 35 }
voxel "vox/fuel.kvx" { tile 5873 }
voxel "vox/sonic_ammo.kvx" { tile 43 }
voxel "vox/sonic_ammo.kvx" { tile 5869 }
voxel "vox/missile_dropper.kvx" { tile 5883 }
voxel "vox/cola.kvx" { tile 51 scale 0.6 }
voxel "vox/plasma_rifle.kvx" { tile 15 scale 0.75 }
voxel "vox/freezer.kvx" { tile 24 }
voxel "vox/laser.kvx" { tile 19 }
voxel "vox/sonic_sprite.kvx" { tile 50 }
voxel "vox/urpg.kvx" { tile 17 scale 1.8 }
voxel "vox/shotgun.kvx" { tile 14 }
voxel "vox/missile_ammo.kvx" { tile 18 }
voxel "vox/plasma_ammo.kvx" { tile 16 }
voxel "vox/rocket_dropper.kvx" { tile 5882 }
voxel "vox/rocket.kvx" { tile0 2621 tile1 2627 }
voxel "vox/missile.kvx" { tile0 2605 tile1 2611 }
voxel "vox/mini_rocket.kvx" { tile 5886 scale 0.5 }
voxel "vox/shotgun_dropper.kvx" { tile 5877 }
voxel "vox/shotgun_dropper.kvx" { tile 5879 }
voxel "vox/ripper_dropper.kvx" { tile 5878 }
voxel "vox/pistol_dropper.kvx" { tile 5874 }
voxel "vox/coke.kvx" { tile0 5751 tile1 5758 scale 0.6 }
voxel "vox/coke.kvx" { tile 5876 scale 0.7 }
voxel "vox/armor_dropper.kvx" { tile 5875 scale 1.2 }
voxel "vox/bullet_up.kvx" { tile 4052 }
voxel "vox/bullet_up.kvx" { tile 4062 }
voxel "vox/bullet_down.kvx" { tile 4058 }
voxel "vox/bullet_left.kvx" { tile 4061 }
voxel "vox/bullet_right.kvx" { tile 4055 }
voxel "vox/shotgunshell_up.kvx" { tile 4071 }
voxel "vox/shotgunshell_up.kvx" { tile 4082 }
voxel "vox/shotgunshell_down.kvx" { tile 4077 }
voxel "vox/shotgunshell_left.kvx" { tile 4080 }
voxel "vox/shotgunshell_right.kvx" { tile 4074 }

voxel "vox/armor_dropper.kvx" { tile 4830 scale 1.2 }
voxel "vox/armor_dropper_45f.kvx" { tile 4831 scale 1.2 }
voxel "vox/armor_dropper_up.kvx" { tile 4832 scale 1.2 }
voxel "vox/armor_dropper_45fd.kvx" { tile 4833 scale 1.2 }
voxel "vox/armor_dropper_down.kvx" { tile 4834 scale 1.2 }
voxel "vox/armor_dropper_45bd.kvx" { tile 4835 scale 1.2 }
voxel "vox/armor_dropper_back.kvx" { tile 4836 scale 1.2 }
voxel "vox/armor_dropper_45b.kvx" { tile 4837 scale 1.2 }

//Episode menus
newgamechoices
{
	choice 0
	{
		name "L.A Meltdown"

		choice 0
		{
           name "Hollywood Holocaust"
		   
		}

		choice 1
		{
           name "Mean Streets"
		   locked
		}

		choice 2
		{
           name "Death Row"
		   locked
		}

		choice 3
		{
           name "TOXIC BEACH HEAD"
		   locked
		}

		choice 4
		{
           name "INTO THE ABYSS"
		   locked
		}

		choice 5
		{
           name "BATTLELORD FIGHT"
		   hidden
		}

		choice 6
		{
           name "BATTLELORD MOON FIGHT"
		   hidden
		}
	}

	choice 1
	{
		name "Lunar Apocalypse"

		choice 0
		{
           name "SpacePort"
		   
		}

		choice 1
		{
           name "INCUBATOR"
		   locked
		}

		choice 2
		{
           name "WARP FACTOR"
		   locked
		}

		choice 3
		{
           name "FUSION STATION"
		   locked
		}

		choice 4
		{
           name "OCCUPIED TERRITORY"
		   locked
		}

		choice 5
		{
			name "NEXT"

			choice 0
			{
			   name "TIBERIUS STATION"
			   locked
			}

			choice 1
			{
			   name "LUNAR REACTOR"
			   locked
			}

			choice 2
			{
			   name "DARK SIDE"
			   locked
			}

			choice 3
			{
			   name "OVERLORD"
			   locked
			}

			choice 4
			{
			   name "OVERLORD FIGHT"
			   hidden
			}
		}

	}

	choice 2
	{
		name "Shrapnel City"

		choice 0
		{
           name "RAW MEAT"
		   
		}

		choice 1
		{
           name "BANK ROLL"
		   locked
		}

		choice 2
		{
           name "FLOOD ZONE"
		   locked
		}

		choice 3
		{
           name "L.A. RUMBLE"
		   locked
		}

		choice 4
		{
           name "MOVIE SET"
		   locked
		}

		choice 5
		{
			name "NEXT"

			choice 0
			{
			   name "RABID TRANSIT"
			   locked
			}

			choice 1
			{
			   name "FAHRENHEIT"
			   locked
			}

			choice 2
			{
			   name "HOTEL HELL"
			   locked
			}

			choice 3
			{
			   name "STADIUM"
			   locked
			}
		}
	}
	
	choice 3
	{
		name "The Birth"

		choice 0
		{
           name "IT'S IMPOSSIBLE"
		   
		}

		choice 1
		{
           name "DUKE-BURGER"
		   locked
		}

		choice 2
		{
           name "SHOP-N-BAG"
		   locked
		}

		choice 3
		{
           name "BABE LAND"
		   locked
		}

		choice 4
		{
           name "PIGSTY"
		   locked
		}

		choice 5
		{
			name "NEXT"

			choice 0
			{
			   name "GOING POSTAL"
			   locked
			}

			choice 1
			{
			   name "XXX-STACY"
			   locked
			}

			choice 2
			{
			   name "CRITICAL MASS"
			   locked
			}

			choice 3
			{
			   name "DERELICT"
			   locked
			}
			
			choice 4
			{
			   name "THE QUEEN"
			   locked
			}

			choice 5
			{
			   name "QUEEN FIGHT"
			   hidden
			}
		}
	}

	
	choice 4
	{
		name "User Content"
		
		choice 0
		{	
			name "USER MAPS"
			usercontent
		}

		choice 1
		{
			name "USER EPISODES"
			userepisode
		}
	}

	choice 5
	{
		name "Change player"
	}
}

dummytile 36 1 1

echo "Loading Voxels..."

// Palette tints
tint { pal 1 red 100 green 120 blue 148 flags 1 }
tint { pal 2 red 255 green  48 blue   0 flags 0 }
tint { pal 4 red   0 green   0 blue   0 flags 0 }
tint { pal 6 red 224 green 255 blue 112 flags 3 }
tint { pal 7 red 172 green 157 blue 140 flags 0 }
tint { pal 8 red 199 green 226 blue 113 flags 1 }

// Voxel definitions
//include vox/monsters.def
include vox/misc.def
include vox/pickups.def
//include vox/projectiles.def
include vox/props.def
include vox/signs.def
include vox/switches.def

mapinfo {
  maptitle "Hollywood Holocaust"
  mapfile  "maps/E1L1.map"
  mapmd4   61b467bbe09dbc18a73741f80285f9ac
  mhkfile  "maps/mhk/E1L1.mhk"
}
mapinfo {
  maptitle "Mean Streets"
  mapfile  "maps/E1L2.map"
  mapmd4   e67bfef9021732d1811aced8fa1a87d0
  mhkfile  "maps/mhk/E1L2.mhk"
}
mapinfo {
  maptitle "Death Row"
  mapfile  "maps/E1L3.map"
  mapmd4   e86710e888e5c487b60ebaa8250bb146
  mhkfile  "maps/mhk/E1L3.mhk"
}
mapinfo {
  maptitle "Toxic Beach Head"
  mapfile  "maps/E1L4.map"
  mapmd4   d676597d1b1e15914daae335f7059df2
  mhkfile  "maps/mhk/E1L4.mhk"
}
mapinfo {
  maptitle "Into the Abyss"
  mapfile  "maps/E1L5.map"
  mapmd4   3d193714ee4140693493d3cdd3220fde
  mhkfile  "maps/mhk/E1L5.mhk"
}
mapinfo {
  maptitle "Spaceport"
  //author "Allen H. Blum III"
  mapfile  "maps/E2L1.map"
  mapmd4   7cf05bfbc9f49c8e3c05842dac3c172d
  mhkfile  "maps/mhk/E2L1.mhk"
}
mapinfo {
  maptitle "Incubator"
  //author "Richard Bailey Gray (The Levelord)"
  mapfile  "maps/E2L2.map"
  mapmd4   5e7d79dfe562e95d73b757f204db1623
  mhkfile  "maps/mhk/E2L2.mhk"
}
mapinfo {
  maptitle "Warp Factor"
  //author "Richard Bailey Gray (The Levelord)"
  mapfile  "maps/E2L3.map"
  mapmd4   108a501019de0947ade3f914c7b475a8
  mhkfile  "maps/mhk/E2L3.mhk"
}
mapinfo {
  maptitle "Fusion Station"
  //author "Allen H. Blum III"
  mapfile  "maps/E2L4.map"
  mapmd4   db8d0fa990edb20b8fe411d71bf0f32f
  mhkfile  "maps/mhk/E2L4.mhk"
}
mapinfo {
  maptitle "Occupied Territory"
  //author "Allen H. Blum III"
  mapfile  "maps/E2L5.map"
  mapmd4   012d5ddf1acaa212b22de4a21aefd158
  mhkfile  "maps/mhk/E2L5.mhk"
}
mapinfo {
  maptitle "Tiberius Station"
  //author "Allen H. Blum III"
  mapfile  "maps/E2L6.map"
  mapmd4   d5c1a04dd723d2b31247f3aac3e7306f
  mhkfile  "maps/mhk/E2L6.mhk"
}
mapinfo {
  maptitle "Lunar Reactor"
  //author "Allen H. Blum III"
  mapfile  "maps/E2L7.map"
  mapmd4   d8a1e2574e684104baec950f7fbb7148
  mhkfile  "maps/mhk/E2L7.mhk"
}
mapinfo {
  maptitle "Dark Side"
  //author "Allen H. Blum III"
  mapfile  "maps/E2L8.map"
  mapmd4   d9aebb3e5d52ec2f20f45e77e288772e
  mhkfile  "maps/mhk/E2L8.mhk"
}
mapinfo {
  maptitle "Overlord"
  //author "Allen H. Blum III"
  mapfile  "maps/E2L9.map"
  mapmd4   197bfb1e26e7418d2a7b74f8003a15aa
  mhkfile  "maps/mhk/E2L9.mhk"
}
mapinfo {
  maptitle "Spin Cycle"
  //author "Richard Bailey Gray (The Levelord)"
  mapfile  "maps/E2L10.map"
  mapmd4   5185fad3bb9422021a8ce1cfb6e954a3
  mhkfile  "maps/mhk/E2L10.mhk"
}
mapinfo {
  maptitle "Lunatic Fringe"
  //author "Richard Bailey Gray (The Levelord)"
  mapfile  "maps/E2L11.map"
  mapmd4   41c872389f1b98c9a23d57170e50d65c
  mhkfile  "maps/mhk/E2L11.mhk"
}

mapinfo {
  maptitle "Raw Meat"
  //author "Richard Bailey Gray (The Levelord)"
  mapfile  "maps/E3L1.map"
  mapmd4   157832c3bed640a5348b648055bca3f1
  mhkfile  "maps/mhk/E3L1.mhk"
}
mapinfo {
  maptitle "Bank Roll"
  //author "Richard Bailey Gray (The Levelord)"
  mapfile  "maps/E3L2.map"
  mapmd4   89118c5584b4e6b3339b20c54f2180fc
  mhkfile  "maps/mhk/E3L2.mhk"
}
mapinfo {
  maptitle "Flood Zone"
  //author "Richard Bailey Gray (The Levelord)"
  mapfile  "maps/E3L3.map"
  mapmd4   3e7627fdf8988506de441a527a20b4db
  mhkfile  "maps/mhk/E3L3.mhk"
}
mapinfo {
  maptitle "L.A. Rumble"
  //author "Richard Bailey Gray (The Levelord)"
  mapfile  "maps/E3L4.map"
  mapmd4   b6a6e9b2f26ed364058088ff1e2eda16
  mhkfile  "maps/mhk/E3L4.mhk"
}
mapinfo {
  maptitle "Movie Set"
  //author "Richard Bailey Gray (The Levelord)"
  mapfile  "maps/E3L5.map"
  mapmd4   6d9586f1b195230c82897360df921d2b
  mhkfile  "maps/mhk/E3L5.mhk"
}

mapinfo {
  maptitle "Movie Set"
  //author "Richard Bailey Gray (The Levelord)"
  mapfile  "maps/E3L5_inv.map"
  mapmd4   de2238071e213502ff2ecb8ab286a2f3
  mhkfile  "maps/mhk/E3L5.mhk"
}

mapinfo {
  maptitle "Rabid Transit"
  //author "Richard Bailey Gray (The Levelord)"
  mapfile  "maps/E3L6.map"
  mapmd4   d375750c44321e72368600582a484fa1
  mhkfile  "maps/mhk/E3L6.mhk"
}
mapinfo {
  maptitle "Fahrenheit"
  //author "Richard Bailey Gray (The Levelord)"
  mapfile  "maps/E3L7.map"
  mapmd4   5c3f26c874a8bf070febf8c0de836013
  mhkfile  "maps/mhk/E3L7.mhk"
}
mapinfo {
  maptitle "Hotel Hell"
  //author "Richard Bailey Gray (The Levelord)"
  mapfile  "maps/E3L8.map"
  mapmd4   08d715a93bf82d9bc4366456660caeca
  mhkfile  "maps/mhk/E3L8.mhk"
}

mapinfo {
  maptitle "Tier Drops"
  //author "Richard Bailey Gray (The Levelord)"
  mapfile  "maps/E3L10.map"
  mapmd4   f84ec38d7c2f14c065ec1600f499ff4d
  mhkfile  "maps/mhk/E3L10.mhk"
}
mapinfo {
  maptitle "Freeway"
  //author "Allen H. Blum III"
  mapfile  "maps/E3L11.map"
  mapmd4   a5c89f23a2b43f620676f2c730793b8f
  mhkfile  "maps/mhk/E3L11.mhk"
}

mapinfo {
  maptitle "It's Impossible"
  //author "Randall S Pitchford II"
  mapfile  "maps/E4L1.map"
  mapmd4   518c5a88875e7af92784c8e1c64b9d1c
  mhkfile  "maps/mhk/E4L1.mhk"
}
mapinfo {
  maptitle "Duke-Burger"
  //author "Allen H. Blum III"
  mapfile  "maps/E4L2.map"
  mapmd4   da986120bf57109d59d2943956dd9e35
  mhkfile  "maps/mhk/E4L2.mhk"
}
mapinfo {
  maptitle "Shop-N-Bag"
  //author "Richard Bailey Gray (The Levelord) & George Broussard"
  mapfile  "maps/E4L3.map"
  mapmd4  b26492778a76bdcb5cef91a1289f1fd7
  mhkfile  "maps/mhk/E4L3.mhk"
}
mapinfo {
  maptitle "Babe Land"
  //author "Allen H. Blum III"
  mapfile  "maps/E4L4.map"
  mapmd4   bab6edf512fa6d32a0e13baacb27c292
  mhkfile  "maps/mhk/E4L4.mhk"
}
mapinfo {
  maptitle "Pigsty"
  //author "Richard Bailey Gray (The Levelord) & 0.66% Randall S Pitchford II"
  mapfile  "maps/E4L5.map"
  mapmd4   47efc7112d826a60ecaa2fa901e9d1a9
  mhkfile  "maps/mhk/E4L5.mhk"
}
mapinfo {
  maptitle "Going Postal"
  //author "Allen H. Blum III"
  mapfile  "maps/E4L6.map"
  mapmd4  2b5c5d61a2aac9e49e3223c195ec8fee
  mhkfile  "maps/mhk/E4L6.mhk"
}
mapinfo {
  maptitle "XXX-Stacy"
  //author "Richard Bailey Gray (The Levelord) & Keith Schuler"
  mapfile  "maps/E4L7.map"
  mapmd4   7bd8e429aed30da95b92a2ba8fc200db
  mhkfile  "maps/mhk/E4L7.mhk"
}
mapinfo {
  maptitle "Critical Mass"
  //author "Richard Bailey Gray (The Levelord) & Keith Schuler"
  mapfile  "maps/E4L8.map"
  mapmd4   5f4f1efc06cc76bd7d76601f6915b96e
  mhkfile  "maps/mhk/E4L8.mhk"
}
mapinfo {
  maptitle "Derelict"
  //author "Allen H. Blum III"
  mapfile  "maps/E4L9.map"
  mapmd4   1757b9230641aa5528b62eb97c95727e
  mhkfile  "maps/mhk/E4L9.mhk"
}
mapinfo {
  maptitle "The Queen"
  //author "Randall S Pitchford II"
  mapfile  "maps/E4L10.map"
  mapmd4   1499e2b6381502b553bc46047b4687ce
  mhkfile  "maps/mhk/E4L10.mhk"
}
mapinfo {
  maptitle "Area 51"
  //author "Randall S Pitchford II"
  mapfile  "maps/E4L11.map"
  mapmd4   ebf9b72ef7984de17f268f9693ab271d
  mhkfile  "maps/mhk/E4L11.mhk"
}